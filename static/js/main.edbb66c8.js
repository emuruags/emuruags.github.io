/*! For license information please see main.edbb66c8.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,S=60114,T=60109,C=60110,N=60112,A=60113,O=60120,P=60115,D=60116,R=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),E=V("react.portal"),_=V("react.fragment"),I=V("react.strict_mode"),S=V("react.profiler"),T=V("react.provider"),C=V("react.context"),N=V("react.forward_ref"),A=V("react.suspense"),O=V("react.suspense_list"),P=V("react.memo"),D=V("react.lazy"),R=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),j=V("react.offscreen"),F=V("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case R:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,je=!1,Fe=!1;function Ve(){null===Ce&&null===Ne||(Le(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,ze.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Dt=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){je||Le();var i=Jt,a=je;je=!0;try{Re(i,e,t,n,r)}finally{(je=a)||Ve()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Fn,Un=f&&(!jn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Se(e)),e=Xn,je)e(t);else{je=!0;try{De(e,t)}finally{je=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Dt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case Nt:case At:s=bn;break;case Ot:s=Dn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Vi=null,Ui=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Ki(){switch(Oi()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Si(e,t,n)}function Qi(){if(null!==Ui){var e=Ui;Ui=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Pi,Qi),n}finally{Bi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Da(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Ra(){li(Na),li(Aa),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,Ba=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Va=e);qa(Va,n)}Va=e,Ua=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Va=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ha(e){if(e!==Va)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Ua;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=Va=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Du;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Du||0===(134217727&Bu)&&0===(134217727&qu)||gs(Du,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Us(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Us(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Du=null,Ru=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Vu=null,Uu=0,Bu=0,qu=0,zu=0,Ku=null,Wu=0,Hu=1/0;function Gu(){Hu=zi()+500}var Qu,Yu=null,$u=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Uu),0!==$i.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Du&&(qu|=t,4===Fu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Du?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],Ui=Si(Pi,Yi)):Vi.push(n),n=ji):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Du?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Du===e&&Lu===r||(Gu(),_s(e,r));;)try{Ns();break}catch(s){Is(e,s)}if(na(),Au.current=a,Pu=i,null!==Ru?r=0:(Du=null,Lu=0,r=Fu),0!==(Uu&qu))_s(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ts(e,n))),1===r)throw t=Vu,_s(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Du&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Uu&qu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ts(e,t))),1===n)throw n=Vu,_s(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,zi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function xs(e,t){fi(ju,Mu),Mu|=t,Uu|=t}function Es(){Mu=ju.current,li(ju)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Du=e,Ru=Hs(e.current,null),Lu=Mu=Uu=t,Fu=0,Vu=null,zu=qu=Bu=0}function Is(e,t){for(;;){var n=Ru;try{if(na(),$a.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Fu=1,Vu=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Ss(){var e=Au.current;return Au.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Du===e&&Lu===t||_s(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Pu=n,Au.current=r,null!==Ru)throw Error(o(261));return Du=null,Lu=0,Fu}function Cs(){for(;null!==Ru;)As(Ru)}function Ns(){for(;null!==Ru&&!Ci();)As(Ru)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Ru=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ps(e){var t=Ki();return Hi(99,Ds.bind(null,e,t)),null}function Ds(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Du&&(Ru=Du=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=Yt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Rs()}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Su(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Su(Yu.alternate,Yu);break;case 4:Su(Yu.alternate,Yu);break;case 8:Iu(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&yu(k,Yu.alternate,Yu),128&E){b=void 0;var _=Yu.ref;if(null!==_){var I=Yu.stateNode;Yu.tag,b=I,"function"===typeof _?_(b):_.current=b}}Yu=Yu.nextEffect}}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Fi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,zi()),$u)throw $u=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||Qi(),null}function Rs(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Us(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>zi()-Wu?_s(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Uu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ks(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Ks(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case j:return Ys(n,i,a,t);case F:return(e=Ks(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=j,e.lanes=n,e}function $s(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bs,Re=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,O=!1,P=!1,D=!1;function R(e){for(var t=E(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,x(S,t)}t=E(T)}}function L(e){if(D=!1,R(e),!P)if(null!==E(S))P=!0,n(M);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,D&&(D=!1,i()),O=!0;var a=A;try{for(R(n),N=E(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(S)&&_(S),R(n)}else _(S);N=E(S)}if(null!==N)var s=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,O=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(S)&&e===E(T)&&(D?i():D=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},235:function(e,t,n){"use strict";e.exports=n.p+"static/media/white-shopping-cart-icon.befe355adf0c662b6f16.jpg"},643:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.d3a7873fff34b5c2f4a5.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".3dab29b6.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="vikings-fitness-gear:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/emuruags.github.io/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkvikings_fitness_gear=self.webpackChunkvikings_fitness_gear||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return zo},SDK_VERSION:function(){return Vu},_DEFAULT_ENTRY_NAME:function(){return Su},_addComponent:function(){return Au},_addOrOverwriteComponent:function(){return Ou},_apps:function(){return Cu},_clearComponents:function(){return Lu},_components:function(){return Nu},_getProvider:function(){return Du},_registerComponent:function(){return Pu},_removeServiceInstance:function(){return Ru},deleteApp:function(){return zu},getApp:function(){return Bu},getApps:function(){return qu},initializeApp:function(){return Uu},onLog:function(){return Hu},registerVersion:function(){return Wu},setLogLevel:function(){return Gu}});var t=n(791),r=n(164);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||c(e,t)||l()}function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e,t){if(null==e)return{};var n,r,i=h(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=n(694),v=n.n(p),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},y=t.createContext(null);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}n(176);function k(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function b(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function w(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}function x(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[k(r)],u=a[r],s=h(a,[k(r),r].map(b)),c=t[r],l=w(u,o,e[c]),f=l[0],d=l[1];return g({},s,((i={})[r]=f,i[c]=d,i))}),e)}function E(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function _(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function I(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}E.__suppressDeprecationWarning=!0,_.__suppressDeprecationWarning=!0,I.__suppressDeprecationWarning=!0;var S=/-(.)/g;var T=n(184),C=["xxl","xl","lg","md","sm","xs"],N=t.createContext({prefixes:{},breakpoints:C});N.Consumer,N.Provider;function A(e,n){var r=(0,t.useContext)(N).prefixes;return e||r[n]||n}function O(){return(0,t.useContext)(N).breakpoints}var P=["className","bsPrefix","as"],D=function(e){return e[0].toUpperCase()+(t=e,t.replace(S,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function R(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?D(e):r,a=n.Component,u=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,u=t.as,s=void 0===u?a||"div":u,c=d(t,P),l=A(i,e);return(0,T.jsx)(s,o({ref:n,className:v()(r,l)},c))}));return s.defaultProps=u,s.displayName=i,s}var L=["bsPrefix","className","as"],M=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=d(e,L);n=A(n,"navbar-brand");var u=i||(a.href?"a":"span");return(0,T.jsx)(u,o(o({},a),{},{ref:t,className:v()(r,n)}))}));M.displayName="NavbarBrand";var j=M;function F(e){return e&&e.ownerDocument||document}function V(e,t){return function(e){var t=F(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var U=/([A-Z])/g;var B=/^ms-/;function q(e){return function(e){return e.replace(U,"-$1").toLowerCase()}(e).replace(B,"-ms-")}var z=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var K=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(q(t))||V(e).getPropertyValue(q(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!z.test(e))}(i)?n+=q(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(q(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function W(e,t){return W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},W(e,t)}var H=!1,G=t.createContext(null),Q="unmounted",Y="exited",$="entering",X="entered",J="exiting",Z=function(e){var n,i;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Y,r.appearStatus=$):i=X:i=t.unmountOnExit||t.mountOnEnter?Q:Y,r.state={status:i},r.nextCallback=null,r}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,W(n,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Q?{status:Y}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$&&n!==X&&(t=$):n!==$&&n!==X||(t=J)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===$?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Y&&this.setState({status:Q})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],u=a[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!n||H?this.safeSetState({status:X},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:$},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:X},(function(){t.props.onEntered(o,u)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!H?(this.props.onExit(i),this.safeSetState({status:J},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Y},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Y},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Q)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,h(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(G.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function ee(){}Z.contextType=G,Z.propTypes={},Z.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ee,onEntering:ee,onEntered:ee,onExit:ee,onExiting:ee,onExited:ee},Z.UNMOUNTED=Q,Z.EXITED=Y,Z.ENTERING=$,Z.ENTERED=X,Z.EXITING=J;var te=Z,ne=!("undefined"===typeof window||!window.document||!window.document.createElement),re=!1,ie=!1;try{var ae={get passive(){return re=!0},get once(){return ie=re=!0}};ne&&(window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,!0))}catch(tR){}var oe=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ie){var i=r.once,a=r.capture,o=n;!ie&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,re?r:a)}e.addEventListener(t,n,r)};var ue=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var se=function(e,t,n,r){return oe(e,t,n,r),function(){ue(e,t,n,r)}};function ce(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=se(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function le(e,t,n,r){null==n&&(n=function(e){var t=K(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=ce(e,n,r),a=se(e,"transitionend",t);return function(){i(),a()}}function fe(e,t){var n=K(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function he(e,t){var n=fe(e,"transitionDuration"),r=fe(e,"transitionDelay"),i=le(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var de=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function pe(e){e.offsetHeight}var ve=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var me=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=ve(e),r=ve(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var ye,ge=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ke=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,u=e.onEntered,s=e.onExit,c=e.onExiting,l=e.onExited,f=e.addEndListener,h=e.children,p=e.childRef,v=d(e,ge),m=(0,t.useRef)(null),y=me(m,p),g=function(e){var t;y((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},k=function(e){return function(t){e&&m.current&&e(m.current,t)}},b=(0,t.useCallback)(k(i),[i]),w=(0,t.useCallback)(k(a),[a]),x=(0,t.useCallback)(k(u),[u]),E=(0,t.useCallback)(k(s),[s]),_=(0,t.useCallback)(k(c),[c]),I=(0,t.useCallback)(k(l),[l]),S=(0,t.useCallback)(k(f),[f]);return(0,T.jsx)(te,o(o({ref:n},v),{},{onEnter:b,onEntered:x,onEntering:w,onExit:E,onExited:I,onExiting:_,addEndListener:S,nodeRef:m,children:"function"===typeof h?function(e,t){return h(e,o(o({},t),{},{ref:g}))}:t.cloneElement(h,{ref:g})}))})),be=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],we={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xe(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=we[e];return n+parseInt(K(t,r[0]),10)+parseInt(K(t,r[1]),10)}var Ee=(i(ye={},Y,"collapse"),i(ye,J,"collapsing"),i(ye,$,"collapsing"),i(ye,X,"collapse show"),ye),_e={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:xe},Ie=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,u=e.onExit,s=e.onExiting,c=e.className,l=e.children,f=e.dimension,h=void 0===f?"height":f,p=e.getDimensionValue,m=void 0===p?xe:p,y=d(e,be),g="function"===typeof h?h():h,k=(0,t.useMemo)((function(){return de((function(e){e.style[g]="0"}),r)}),[g,r]),b=(0,t.useMemo)((function(){return de((function(e){var t="scroll".concat(g[0].toUpperCase()).concat(g.slice(1));e.style[g]="".concat(e[t],"px")}),i)}),[g,i]),w=(0,t.useMemo)((function(){return de((function(e){e.style[g]=null}),a)}),[g,a]),x=(0,t.useMemo)((function(){return de((function(e){e.style[g]="".concat(m(g,e),"px"),pe(e)}),u)}),[u,m,g]),E=(0,t.useMemo)((function(){return de((function(e){e.style[g]=null}),s)}),[g,s]);return(0,T.jsx)(ke,o(o({ref:n,addEndListener:he},y),{},{"aria-expanded":y.role?y.in:null,onEnter:k,onEntering:b,onEntered:w,onExit:x,onExiting:E,childRef:l.ref,children:function(e,n){return t.cloneElement(l,o(o({},n),{},{className:v()(c,l.props.className,Ee[e],"width"===g&&"collapse-horizontal")}))}}))}));Ie.defaultProps=_e;var Se=Ie,Te=t.createContext(null);Te.displayName="NavbarContext";var Ce=Te,Ne=["children","bsPrefix"],Ae=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=d(e,Ne);i=A(i,"navbar-collapse");var u=(0,t.useContext)(Ce);return(0,T.jsx)(Se,o(o({in:!(!u||!u.expanded)},a),{},{children:(0,T.jsx)("div",{ref:n,className:i,children:r})}))}));Ae.displayName="NavbarCollapse";var Oe=Ae;var Pe=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function De(e){var n=Pe(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Re=["bsPrefix","className","children","label","as","onClick"],Le=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,u=e.label,s=e.as,c=void 0===s?"button":s,l=e.onClick,f=d(e,Re);r=A(r,"navbar-toggler");var h=(0,t.useContext)(Ce)||{},p=h.onToggle,m=h.expanded,y=De((function(e){l&&l(e),p&&p()}));return"button"===c&&(f.type="button"),(0,T.jsx)(c,o(o({},f),{},{ref:n,onClick:y,"aria-label":u,className:v()(i,r,!m&&"collapsed"),children:a||(0,T.jsx)("span",{className:"".concat(r,"-icon")})}))}));Le.displayName="NavbarToggle",Le.defaultProps={label:"Toggle navigation"};var Me=Le;function je(e){void 0===e&&(e=F());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(tR){return e.body}}function Fe(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ve(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function Ue(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function Be(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function qe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ze(e){return function(e){if(Array.isArray(e))return s(e)}(e)||qe(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&We(e.prototype,t),n&&We(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ge(e){return"".concat("data-rr-ui-").concat(e)}var Qe=Ge("modal-open"),Ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Ke(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return He(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=i({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(K(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Qe,""),K(r,t)}},{key:"reset",value:function(){var e=this;ze(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Qe),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),$e=Ye,Xe=(0,t.createContext)(ne?window:void 0);Xe.Provider;function Je(){return(0,t.useContext)(Xe)}var Ze=function(e,t){var n;return ne?null==e?(t||F()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var et,tt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function nt(e){var n=Je(),r=e||function(e){return et||(et=new $e({ownerDocument:null==e?void 0:e.document})),et}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var rt=(0,t.forwardRef)((function(e,n){var i=e.show,a=void 0!==i&&i,o=e.role,u=void 0===o?"dialog":o,s=e.className,c=e.style,l=e.children,h=e.backdrop,d=void 0===h||h,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,y=e.onEscapeKeyDown,g=e.transition,k=e.backdropTransition,b=e.autoFocus,w=void 0===b||b,x=e.enforceFocus,E=void 0===x||x,_=e.restoreFocus,I=void 0===_||_,S=e.restoreFocusOptions,C=e.renderDialog,N=e.renderBackdrop,A=void 0===N?function(e){return(0,T.jsx)("div",Object.assign({},e))}:N,O=e.manager,P=e.container,D=e.onShow,R=e.onHide,L=void 0===R?function(){}:R,M=e.onExit,j=e.onExited,F=e.onExiting,V=e.onEnter,U=e.onEntering,B=e.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tt),z=function(e,n){var r=Je(),i=f((0,t.useState)((function(){return Ze(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=Ze(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=Ze(e);t!==a&&o(t)}),[e,a]),a}(P),K=nt(O),W=Ve(),H=Be(a),G=f((0,t.useState)(!a),2),Q=G[0],Y=G[1],$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return K}),[K]),ne&&!H&&a&&($.current=je()),g||a||Q?a&&Q&&Y(!1):Y(!0);var X=De((function(){if(K.add(),ie.current=se(document,"keydown",te),re.current=se(document,"focus",(function(){return setTimeout(Z)}),!0),D&&D(),w){var e=je(document);K.dialog&&e&&!Fe(K.dialog,e)&&($.current=e,K.dialog.focus())}})),J=De((function(){var e;(K.remove(),null==ie.current||ie.current(),null==re.current||re.current(),I)&&(null==(e=$.current)||null==e.focus||e.focus(S),$.current=null)}));(0,t.useEffect)((function(){a&&z&&X()}),[a,z,X]),(0,t.useEffect)((function(){Q&&J()}),[Q,J]),Ue((function(){J()}));var Z=De((function(){if(E&&W()&&K.isTopModal()){var e=je();K.dialog&&e&&!Fe(K.dialog,e)&&K.dialog.focus()}})),ee=De((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&L())})),te=De((function(e){v&&27===e.keyCode&&K.isTopModal()&&(null==y||y(e),e.defaultPrevented||L())})),re=(0,t.useRef)(),ie=(0,t.useRef)(),ae=g;if(!z||!(a||ae&&!Q))return null;var oe=Object.assign({role:u,ref:K.setDialogRef,"aria-modal":"dialog"===u||void 0},q,{style:c,className:s,tabIndex:-1}),ue=C?C(oe):(0,T.jsx)("div",Object.assign({},oe,{children:t.cloneElement(l,{role:"document"})}));ae&&(ue=(0,T.jsx)(ae,{appear:!0,unmountOnExit:!0,in:!!a,onExit:M,onExiting:F,onExited:function(){Y(!0),null==j||j.apply(void 0,arguments)},onEnter:V,onEntering:U,onEntered:B,children:ue}));var ce=null;if(d){var le=k;ce=A({ref:K.setBackdropRef,onClick:ee}),le&&(ce=(0,T.jsx)(le,{appear:!0,in:!!a,children:ce}))}return(0,T.jsx)(T.Fragment,{children:r.createPortal((0,T.jsxs)(T.Fragment,{children:[ce,ue]}),z)})}));rt.displayName="Modal";var it,at=Object.assign(rt,{Manager:$e}),ot=["className","children","transitionClasses"],ut=(i(it={},$,"show"),i(it,X,"show"),it),st=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,u=void 0===a?{}:a,s=d(e,ot),c=(0,t.useCallback)((function(e,t){pe(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,T.jsx)(ke,o(o({ref:n,addEndListener:he},s),{},{onEnter:c,childRef:i.ref,children:function(e,n){return t.cloneElement(i,o(o({},n),{},{className:v()("fade",r,i.props.className,ut[e],u[e])}))}}))}));st.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},st.displayName="Fade";var ct,lt=st,ft=R("offcanvas-body"),ht=["bsPrefix","className","children"],dt=(i(ct={},$,"show"),i(ct,X,"show"),ct),pt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,u=d(e,ht);return r=A(r,"offcanvas"),(0,T.jsx)(ke,o(o({ref:n,addEndListener:he},u),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,o(o({},n),{},{className:v()(i,a.props.className,(e===$||e===J)&&"".concat(r,"-toggling"),dt[e])}))}}))}));pt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},pt.displayName="OffcanvasToggling";var vt=pt,mt=t.createContext({onHide:function(){}}),yt=n(7),gt=n.n(yt),kt=["className","variant"],bt={"aria-label":gt().string,onClick:gt().func,variant:gt().oneOf(["white"])},wt=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=d(e,kt);return(0,T.jsx)("button",o({ref:t,type:"button",className:v()("btn-close",r&&"btn-close-".concat(r),n)},i))}));wt.displayName="CloseButton",wt.propTypes=bt,wt.defaultProps={"aria-label":"Close"};var xt=wt,Et=["closeLabel","closeVariant","closeButton","onHide","children"],_t=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,u=e.onHide,s=e.children,c=d(e,Et),l=(0,t.useContext)(mt),f=De((function(){null==l||l.onHide(),null==u||u()}));return(0,T.jsxs)("div",o(o({ref:n},c),{},{children:[s,a&&(0,T.jsx)(xt,{"aria-label":r,variant:i,onClick:f})]}))}));_t.defaultProps={closeLabel:"Close",closeButton:!1};var It=_t,St=["bsPrefix","className"],Tt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=d(e,St);return n=A(n,"offcanvas-header"),(0,T.jsx)(It,o(o({ref:t},i),{},{className:v()(r,n)}))}));Tt.displayName="OffcanvasHeader",Tt.defaultProps={closeLabel:"Close",closeButton:!1};var Ct=Tt,Nt=function(e){return t.forwardRef((function(t,n){return(0,T.jsx)("div",o(o({},t),{},{ref:n,className:v()(t.className,e)}))}))},At=R("offcanvas-title",{Component:Nt("h5")});function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}function Pt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ot(e)););return e}function Dt(){return Dt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Dt.apply(this,arguments)}function Rt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}function Lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(tR){return!1}}function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ft(e,t){if(t&&("object"===Mt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}function Vt(e){var t=Lt();return function(){var n,r=Ot(e);if(t){var i=Ot(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ft(this,n)}}var Ut=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bt(e,t){return Ut(e.querySelectorAll(t))}function qt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var zt,Kt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Wt=".sticky-top",Ht=".navbar-toggler",Gt=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,K(t,i({},e,"".concat(parseFloat(K(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],K(t,i({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Dt(Ot(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Bt(a,Kt).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Bt(a,Wt).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),Bt(a,Ht).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Dt(Ot(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=qt(r.className,i):r.setAttribute("class",qt(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Bt(a,Kt).forEach((function(e){return t.restore(o,e)})),Bt(a,Wt).forEach((function(e){return t.restore(u,e)})),Bt(a,Ht).forEach((function(e){return t.restore(u,e)}))}}]),n}($e);var Qt=Gt,Yt=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function $t(e){return(0,T.jsx)(vt,o({},e))}function Xt(e){return(0,T.jsx)(lt,o({},e))}var Jt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,u=e["aria-labelledby"],s=e.placement,c=e.show,l=e.backdrop,f=e.keyboard,h=e.scroll,p=e.onEscapeKeyDown,m=e.onShow,y=e.onHide,g=e.container,k=e.autoFocus,b=e.enforceFocus,w=e.restoreFocus,x=e.restoreFocusOptions,E=e.onEntered,_=e.onExit,I=e.onExiting,S=e.onEnter,C=e.onEntering,N=e.onExited,O=e.backdropClassName,P=e.manager,D=d(e,Yt),R=(0,t.useRef)();r=A(r,"offcanvas");var L=((0,t.useContext)(Ce)||{}).onToggle,M=De((function(){null==L||L(),null==y||y()})),j=(0,t.useMemo)((function(){return{onHide:M}}),[M]);var F=(0,t.useCallback)((function(e){return(0,T.jsx)("div",o(o({},e),{},{className:v()("".concat(r,"-backdrop"),O)}))}),[O,r]);return(0,T.jsx)(mt.Provider,{value:j,children:(0,T.jsx)(at,{show:c,ref:n,backdrop:l,container:g,keyboard:f,autoFocus:k,enforceFocus:b&&!h,restoreFocus:w,restoreFocusOptions:x,onEscapeKeyDown:p,onShow:m,onHide:M,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,[e].concat(n))},onEntering:C,onEntered:E,onExit:_,onExiting:I,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N.apply(void 0,n)},manager:P||(h?(R.current||(R.current=new Qt({handleContainerOverflow:!1})),R.current):function(e){return zt||(zt=new Gt(e)),zt}()),transition:$t,backdropTransition:Xt,renderBackdrop:F,renderDialog:function(e){return(0,T.jsx)("div",o(o(o({role:"dialog"},e),D),{},{className:v()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":u,children:a}))}})})}));Jt.displayName="Offcanvas",Jt.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Zt=Object.assign(Jt,{Body:ft,Header:Ct,Title:At}),en=t.forwardRef((function(e,n){var r=(0,t.useContext)(Ce);return(0,T.jsx)(Zt,o({ref:n,show:!(null==r||!r.expanded)},e))}));en.displayName="NavbarOffcanvas";var tn=en,nn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],rn=R("navbar-text",{Component:"span"}),an=t.forwardRef((function(e,n){var r=x(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,u=r.variant,s=r.bg,c=r.fixed,l=r.sticky,f=r.className,h=r.as,p=void 0===h?"nav":h,m=r.expanded,g=r.onToggle,k=r.onSelect,b=r.collapseOnSelect,w=d(r,nn),E=A(i,"navbar"),_=(0,t.useCallback)((function(){null==k||k.apply(void 0,arguments),b&&m&&(null==g||g(!1))}),[k,b,m,g]);void 0===w.role&&"nav"!==p&&(w.role="navigation");var I="".concat(E,"-expand");"string"===typeof a&&(I="".concat(I,"-").concat(a));var S=(0,t.useMemo)((function(){return{onToggle:function(){return null==g?void 0:g(!m)},bsPrefix:E,expanded:!!m}}),[E,m,g]);return(0,T.jsx)(Ce.Provider,{value:S,children:(0,T.jsx)(y.Provider,{value:_,children:(0,T.jsx)(p,o(o({ref:n},w),{},{className:v()(f,E,a&&I,u&&"".concat(E,"-").concat(u),s&&"bg-".concat(s),l&&"sticky-".concat(l),c&&"fixed-".concat(c))}))})})}));an.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},an.displayName="Navbar";var on=Object.assign(an,{Brand:j,Collapse:Oe,Offcanvas:tn,Text:rn,Toggle:Me}),un=["bsPrefix","fluid","as","className"],sn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,u=e.className,s=d(e,un),c=A(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,T.jsx)(a,o(o({ref:t},s),{},{className:v()(u,r?"".concat(c).concat(l):c)}))}));sn.displayName="Container",sn.defaultProps={fluid:!1};var cn=sn;n(573);function ln(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var fn=t.createContext(null);fn.displayName="NavContext";var hn=fn,dn=t.createContext(null),pn=["as","disabled"];function vn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var mn=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,pn),a=f(vn(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,T.jsx)(u,Object.assign({},i,o,{ref:t}))}));mn.displayName="Button";var yn=mn,gn=["as","active","eventKey"];function kn(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(y),c=(0,t.useContext)(hn),l=(0,t.useContext)(dn),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[Ge("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(u&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=De((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var bn=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?yn:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,gn),u=f(kn(Object.assign({key:m(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[Ge("active")]=c.isActive,(0,T.jsx)(r,Object.assign({},o,s,{ref:t}))}));bn.displayName="NavItem";var wn=bn,xn=["as","onSelect","activeKey","role","onKeyDown"];var En=function(){},_n=Ge("event-key"),In=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xn),h=ln(),d=(0,t.useRef)(!1),p=(0,t.useContext)(y),v=(0,t.useContext)(dn);v&&(c=c||"tablist",s=v.activeKey,r=v.getControlledId,i=v.getControllerId);var g=(0,t.useRef)(null),k=function(e){var t=g.current;if(!t)return null;var n=Bt(t,"[".concat(_n,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},b=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(g.current&&d.current){var e=g.current.querySelector("[".concat(_n,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var w=me(n,g);return(0,T.jsx)(y.Provider,{value:b,children:(0,T.jsx)(hn.Provider,{value:{role:c,activeKey:m(s),getControlledId:r||En,getControllerId:i||En},children:(0,T.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=k(-1);break;case"ArrowRight":case"ArrowDown":t=k(1);break;default:return}if(t)e.preventDefault(),b(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:w,role:c}))})})}));In.displayName="Nav";var Sn=Object.assign(In,{Item:wn}),Tn=t.createContext(null);Tn.displayName="CardHeaderContext";var Cn=Tn,Nn=R("nav-item");function An(){return(0,t.useState)(null)}var On="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Pn="undefined"!==typeof document||On?t.useLayoutEffect:t.useEffect;new WeakMap;var Dn=["onKeyDown"];var Rn=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Dn),a=f(vn(Object.assign({tagName:"a"},i)),1)[0],o=De((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,T.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,T.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Rn.displayName="Anchor";var Ln=Rn,Mn=["bsPrefix","className","as","active","eventKey"],jn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Ln:i,u=e.active,s=e.eventKey,c=d(e,Mn);n=A(n,"nav-link");var l=f(kn(o({key:m(s,c.href),active:u},c)),2),h=l[0],p=l[1];return(0,T.jsx)(a,o(o(o({},c),h),{},{ref:t,className:v()(r,n,c.disabled&&"disabled",p.isActive&&"active")}))}));jn.displayName="NavLink",jn.defaultProps={disabled:!1};var Fn=jn,Vn=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Un=t.forwardRef((function(e,n){var r,a,u,s=x(e,{activeKey:"onSelect"}),c=s.as,l=void 0===c?"div":c,f=s.bsPrefix,h=s.variant,p=s.fill,m=s.justify,y=s.navbar,g=s.navbarScroll,k=s.className,b=s.activeKey,w=d(s,Vn),E=A(f,"nav"),_=!1,I=(0,t.useContext)(Ce),S=(0,t.useContext)(Cn);return I?(a=I.bsPrefix,_=null==y||y):S&&(u=S.cardHeaderBsPrefix),(0,T.jsx)(Sn,o({as:l,ref:n,activeKey:b,className:v()(k,(r={},i(r,E,!_),i(r,"".concat(a,"-nav"),_),i(r,"".concat(a,"-nav-scroll"),_&&g),i(r,"".concat(u,"-").concat(h),!!u),i(r,"".concat(E,"-").concat(h),!!h),i(r,"".concat(E,"-fill"),p),i(r,"".concat(E,"-justified"),m),r))},w))}));Un.displayName="Nav",Un.defaultProps={justify:!1,fill:!1};var Bn=Object.assign(Un,{Item:Nn,Link:Fn}),qn=t.createContext(null);function zn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Kn=Object.prototype.hasOwnProperty;function Wn(e,t,n){var r,i=zn(e.keys());try{for(i.s();!(r=i.n()).done;)if(Hn(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function Hn(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Hn(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=zn(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=Wn(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=zn(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=Wn(t,i)))return!1;if(!Hn(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Kn.call(e,n)&&++r&&!Kn.call(t,n))return!1;if(!(n in t)||!Hn(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var Gn=function(e){var n=Ve();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function Qn(e){return e.split("-")[0]}function Yn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $n(e){return e instanceof Yn(e).Element||e instanceof Element}function Xn(e){return e instanceof Yn(e).HTMLElement||e instanceof HTMLElement}function Jn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Yn(e).ShadowRoot||e instanceof ShadowRoot)}var Zn=Math.max,er=Math.min,tr=Math.round;function nr(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Xn(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=tr(n.width)/o||1),a>0&&(i=tr(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function rr(e){var t=nr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ir(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Jn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ar(e){return e?(e.nodeName||"").toLowerCase():null}function or(e){return Yn(e).getComputedStyle(e)}function ur(e){return["table","td","th"].indexOf(ar(e))>=0}function sr(e){return(($n(e)?e.ownerDocument:e.document)||window.document).documentElement}function cr(e){return"html"===ar(e)?e:e.assignedSlot||e.parentNode||(Jn(e)?e.host:null)||sr(e)}function lr(e){return Xn(e)&&"fixed"!==or(e).position?e.offsetParent:null}function fr(e){for(var t=Yn(e),n=lr(e);n&&ur(n)&&"static"===or(n).position;)n=lr(n);return n&&("html"===ar(n)||"body"===ar(n)&&"static"===or(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Xn(e)&&"fixed"===or(e).position)return null;for(var n=cr(e);Xn(n)&&["html","body"].indexOf(ar(n))<0;){var r=or(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function hr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dr(e,t,n){return Zn(e,er(t,n))}function pr(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function vr(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var mr="top",yr="bottom",gr="right",kr="left",br="auto",wr=[mr,yr,gr,kr],xr="start",Er="end",_r="viewport",Ir="popper",Sr=wr.reduce((function(e,t){return e.concat([t+"-"+xr,t+"-"+Er])}),[]),Tr=[].concat(wr,[br]).reduce((function(e,t){return e.concat([t,t+"-"+xr,t+"-"+Er])}),[]),Cr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var Nr={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=Qn(n.placement),s=hr(u),c=[kr,gr].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return pr("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:vr(e,wr))}(i.padding,n),f=rr(a),h="y"===s?mr:kr,d="y"===s?yr:gr,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=fr(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=dr(k,w,b),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&ir(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ar(e){return e.split("-")[1]}var Or={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pr(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=kr,b=mr,w=window;if(c){var x=fr(n),E="clientHeight",_="clientWidth";if(x===Yn(n)&&"static"!==or(x=sr(n)).position&&"absolute"===u&&(E="scrollHeight",_="scrollWidth"),x=x,i===mr||(i===kr||i===gr)&&a===Er)b=yr,v-=(f&&w.visualViewport?w.visualViewport.height:x[E])-r.height,v*=s?1:-1;if(i===kr||(i===mr||i===yr)&&a===Er)k=gr,d-=(f&&w.visualViewport?w.visualViewport.width:x[_])-r.width,d*=s?1:-1}var I,S=Object.assign({position:u},c&&Or),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:tr(t*r)/r||0,y:tr(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},S,((I={})[b]=g?"0":"",I[k]=y?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",I)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var Dr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:Qn(t.placement),variation:Ar(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Pr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Pr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Rr={passive:!0};var Lr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=Yn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Rr)})),u&&s.addEventListener("resize",n.update,Rr),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Rr)})),u&&s.removeEventListener("resize",n.update,Rr)}},data:{}},Mr={left:"right",right:"left",bottom:"top",top:"bottom"};function jr(e){return e.replace(/left|right|bottom|top/g,(function(e){return Mr[e]}))}var Fr={start:"end",end:"start"};function Vr(e){return e.replace(/start|end/g,(function(e){return Fr[e]}))}function Ur(e){var t=Yn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Br(e){return nr(sr(e)).left+Ur(e).scrollLeft}function qr(e){var t=or(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function zr(e){return["html","body","#document"].indexOf(ar(e))>=0?e.ownerDocument.body:Xn(e)&&qr(e)?e:zr(cr(e))}function Kr(e,t){var n;void 0===t&&(t=[]);var r=zr(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Yn(r),o=i?[a].concat(a.visualViewport||[],qr(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(Kr(cr(o)))}function Wr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hr(e,t){return t===_r?Wr(function(e){var t=Yn(e),n=sr(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+Br(e),y:u}}(e)):$n(t)?function(e){var t=nr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Wr(function(e){var t,n=sr(e),r=Ur(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Zn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Br(e),s=-r.scrollTop;return"rtl"===or(i||n).direction&&(u+=Zn(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(sr(e)))}function Gr(e,t,n){var r="clippingParents"===t?function(e){var t=Kr(cr(e)),n=["absolute","fixed"].indexOf(or(e).position)>=0&&Xn(e)?fr(e):e;return $n(n)?t.filter((function(e){return $n(e)&&ir(e,n)&&"body"!==ar(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Hr(e,n);return t.top=Zn(r.top,t.top),t.right=er(r.right,t.right),t.bottom=er(r.bottom,t.bottom),t.left=Zn(r.left,t.left),t}),Hr(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Qr(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Qn(i):null,o=i?Ar(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case mr:t={x:u,y:n.y-r.height};break;case yr:t={x:u,y:n.y+n.height};break;case gr:t={x:n.x+n.width,y:s};break;case kr:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?hr(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case xr:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Er:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Yr(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?_r:u,c=n.elementContext,l=void 0===c?Ir:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=pr("number"!==typeof p?p:vr(p,wr)),m=l===Ir?"reference":Ir,y=e.rects.popper,g=e.elements[h?m:l],k=Gr($n(g)?g:g.contextElement||sr(e.elements.popper),o,s),b=nr(e.elements.reference),w=Qr({reference:b,element:y,strategy:"absolute",placement:i}),x=Wr(Object.assign({},y,w)),E=l===Ir?x:b,_={top:k.top-E.top+v.top,bottom:E.bottom-k.bottom+v.bottom,left:k.left-E.left+v.left,right:E.right-k.right+v.right},I=e.modifiersData.offset;if(l===Ir&&I){var S=I[i];Object.keys(_).forEach((function(e){var t=[gr,yr].indexOf(e)>=0?1:-1,n=[mr,yr].indexOf(e)>=0?"y":"x";_[e]+=S[n]*t}))}return _}var $r={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=Qn(m),g=s||(y===m||!p?[jr(m)]:function(e){if(Qn(e)===br)return[];var t=jr(e);return[Vr(e),t,Vr(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(Qn(n)===br?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Tr:s,l=Ar(r),f=l?u?Sr:Sr.filter((function(e){return Ar(e)===l})):wr,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Yr(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Qn(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,_=k[0],I=0;I<k.length;I++){var S=k[I],T=Qn(S),C=Ar(S)===xr,N=[mr,yr].indexOf(T)>=0,A=N?"width":"height",O=Yr(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),P=N?C?gr:kr:C?yr:mr;b[A]>w[A]&&(P=jr(P));var D=jr(P),R=[];if(a&&R.push(O[T]<=0),u&&R.push(O[P]<=0,O[D]<=0),R.every((function(e){return e}))){_=S,E=!1;break}x.set(S,R)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Xr(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Jr(e){return[mr,gr,yr,kr].some((function(t){return e[t]>=0}))}var Zr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Tr.reduce((function(e,n){return e[n]=function(e,t,n){var r=Qn(e),i=[kr,mr].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[kr,gr].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var ei={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Yr(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=Qn(t.placement),g=Ar(t.placement),k=!g,b=hr(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?mr:kr,O="y"===b?yr:gr,P="y"===b?"height":"width",D=x[b],R=D+m[A],L=D-m[O],M=d?-_[P]/2:0,j=g===xr?E[P]:_[P],F=g===xr?-_[P]:-E[P],V=t.elements.arrow,U=d&&V?rr(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[A],z=B[O],K=dr(0,E[P],U[P]),W=k?E[P]/2-M-K-q-S.mainAxis:j-K-q-S.mainAxis,H=k?-E[P]/2+M+K+z+S.mainAxis:F+K+z+S.mainAxis,G=t.elements.arrow&&fr(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==T?void 0:T[b])?N:0,$=D+H-Y,X=dr(d?er(R,D+W-Y-Q):R,D,d?Zn(L,$):L);x[b]=X,C[b]=X-D}if(u){var J,Z="x"===b?mr:kr,ee="x"===b?yr:gr,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[mr,kr].indexOf(y),oe=null!=(J=null==T?void 0:T[w])?J:0,ue=ae?re:te-E[ne]-_[ne]-oe+S.altAxis,se=ae?te+E[ne]+_[ne]-oe-S.altAxis:ie,ce=d&&ae?function(e,t,n){var r=dr(e,t,n);return r>n?n:r}(ue,te,se):dr(d?ue:re,te,d?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function ti(e,t,n){void 0===n&&(n=!1);var r=Xn(t),i=Xn(t)&&function(e){var t=e.getBoundingClientRect(),n=tr(t.width)/e.offsetWidth||1,r=tr(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=sr(t),o=nr(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==ar(t)||qr(a))&&(u=function(e){return e!==Yn(e)&&Xn(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ur(e);var t}(t)),Xn(t)?((s=nr(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Br(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function ni(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ri(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ii={placement:"bottom",modifiers:[],strategy:"absolute"};function ai(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function oi(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?ii:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ii,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:$n(e)?Kr(e):e.contextElement?Kr(e.contextElement):[],popper:Kr(t)};var l=function(e){var t=ni(e);return Cr.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(ai(t,n)){i.rects={reference:ti(t,fr(n),"fixed"===i.options.strategy),popper:rr(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:ri((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!ai(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var ui=oi({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Yr(t,{elementContext:"reference"}),u=Yr(t,{altBoundary:!0}),s=Xr(o,r),c=Xr(u,i,a),l=Jr(s),f=Jr(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Qr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Dr,Lr,Zr,$r,ei,Nr]}),si=["enabled","placement","strategy","modifiers"];function ci(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var li={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},fi={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},hi=[];var di=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,u=void 0===o?"bottom":o,s=r.strategy,c=void 0===s?"absolute":s,l=r.modifiers,h=void 0===l?hi:l,d=ci(r,si),p=(0,t.useRef)(h),v=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.update()}),[]),y=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.forceUpdate()}),[]),g=Gn((0,t.useState)({placement:u,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=f(g,2),b=k[0],w=k[1],x=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:m,forceUpdate:y,placement:t.placement})}}}),[m,y,w]),E=(0,t.useMemo)((function(){return Hn(p.current,h)||(p.current=h),p.current}),[h]);return(0,t.useEffect)((function(){v.current&&a&&v.current.setOptions({placement:u,strategy:c,modifiers:[].concat(ze(E),[x,li])})}),[c,u,x,a,E]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return v.current=ui(e,n,Object.assign({},d,{placement:u,strategy:c,modifiers:[].concat(ze(E),[fi,x])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),b},pi=n(391),vi=n.n(pi),mi=function(){};function yi(e){return 0===e.button}function gi(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ki=function(e){return e&&("current"in e?e.current:e)},bi={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var wi=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mi,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,u=(0,t.useRef)(!1),s=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t){var n=ki(e);vi()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||gi(t)||!yi(t)||!!Fe(n,t.target)||s.current,s.current=!1}),[e]),l=De((function(t){var n=ki(e);n&&Fe(n,t.target)&&(s.current=!0)})),f=De((function(e){u.current||n(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=F(ki(e)),n=(t.defaultView||window).event,r=null;bi[o]&&(r=se(t,bi[o],l,!0));var a=se(t,o,c,!0),u=se(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return se(e,"mousemove",mi)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Ei(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,u=e.placement,s=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:u,enabled:a,strategy:l?"fixed":p.strategy,modifiers:xi(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var _i=["children"];var Ii=function(){};function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(qn),r=An(),i=f(r,2),a=i[0],o=i[1],u=(0,t.useRef)(!1),s=e.flip,c=e.offset,l=e.rootCloseEvent,h=e.fixed,d=void 0!==h&&h,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,y=e.enableEventListeners,g=void 0===y||y,k=e.usePopper,b=void 0===k?!!n:k,w=null==(null==n?void 0:n.show)?!!e.show:n.show;w&&!u.current&&(u.current=!0);var x=function(e){null==n||n.toggle(!1,e)},E=n||{},_=E.placement,I=E.setMenu,S=E.menuElement,T=E.toggleElement,C=di(T,S,Ei({placement:p||_||"bottom-start",enabled:b,enableEvents:null==g?w:g,offset:c,flip:s,fixed:d,arrowElement:a,popperConfig:m})),N=Object.assign({ref:I||Ii,"aria-labelledby":null==T?void 0:T.id},C.attributes.popper,{style:C.styles.popper}),A={show:w,placement:_,hasShown:u.current,toggle:null==n?void 0:n.toggle,popper:b?C:null,arrowProps:b?Object.assign({ref:o},C.attributes.arrow,{style:C.styles.arrow}):{}};return wi(S,x,{clickTrigger:l,disabled:!w}),[N,A]}function Ti(e){var t=e.children,n=f(Si(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_i)),2),r=n[0],i=n[1];return(0,T.jsx)(T.Fragment,{children:t(r,i)})}Ti.displayName="DropdownMenu",Ti.defaultProps={usePopper:!0};var Ci=Ti;function Ni(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var Ai={};Ni(Ai,"SSRProvider",(function(){return Di})),Ni(Ai,"useSSRSafeId",(function(){return Li})),Ni(Ai,"useIsSSR",(function(){return Mi}));var Oi={prefix:String(Math.round(1e10*Math.random())),current:0},Pi=t.createContext(Oi);function Di(e){var n=(0,t.useContext)(Pi),r=(0,t.useMemo)((function(){return{prefix:n===Oi?"":"".concat(n.prefix,"-").concat(++n.current),current:0}}),[n]);return t.createElement(Pi.Provider,{value:r},e.children)}var Ri=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);function Li(e){var n=(0,t.useContext)(Pi);return n!==Oi||Ri||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria".concat(n.prefix,"-").concat(++n.current)}),[e])}function Mi(){var e=(0,t.useContext)(Pi)!==Oi,n=f((0,t.useState)(e),2),r=n[0],i=n[1];return"undefined"!==typeof window&&e&&(0,t.useLayoutEffect)((function(){i(!1)}),[]),r}var ji=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Fi=function(){};function Vi(){var e=Li(),n=(0,t.useContext)(qn)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?Fi:a,u=n.setToggle,s=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||Fi,onClick:c,"aria-expanded":!!i};return s&&ji(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function Ui(e){var t=e.children,n=f(Vi(),2),r=n[0],i=n[1];return(0,T.jsx)(T.Fragment,{children:t(r,i)})}Ui.displayName="DropdownToggle";var Bi=Ui,qi=["eventKey","disabled","onClick","active","as"];function zi(e){var n=e.key,r=e.href,a=e.active,o=e.disabled,u=e.onClick,s=(0,t.useContext)(y),c=((0,t.useContext)(hn)||{}).activeKey,l=m(n,r),f=null==a&&null!=n?m(c)===l:a;return[i({onClick:De((function(e){o||(null==u||u(e),s&&!e.isPropagationStopped()&&s(l,e))})),"aria-disabled":o||void 0,"aria-selected":f},Ge("dropdown-item"),""),{isActive:f}]}var Ki=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?yn:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qi),c=f(zi({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,T.jsx)(u,Object.assign({},s,{ref:t},c))}));Ki.displayName="DropdownItem";var Wi=Ki;function Hi(){var e=ln(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function Gi(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(Ge("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,l=void 0===c?"bottom-start":c,h=e.children,d=Je(),p=f(w(r,n,a),2),v=p[0],m=p[1],g=f(Hi(),2),k=g[0],b=g[1],x=k.current,E=f(Hi(),2),_=E[0],I=E[1],S=_.current,C=Be(v),N=(0,t.useRef)(null),A=(0,t.useRef)(!1),O=(0,t.useContext)(y),P=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),D=De((function(e,t){null==i||i(e,t),P(!1,t,"select"),t.isPropagationStopped()||null==O||O(e,t)})),R=(0,t.useMemo)((function(){return{toggle:P,placement:l,show:v,menuElement:x,toggleElement:S,setMenu:b,setToggle:I}}),[P,l,v,x,S,b,I]);x&&C&&!v&&(A.current=x.contains(x.ownerDocument.activeElement));var L=De((function(){S&&S.focus&&S.focus()})),M=De((function(){var e=N.current,t=s;if(null==t&&(t=!(!k.current||!ji(k.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Bt(k.current,u)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){v?M():A.current&&(A.current=!1,L())}),[v,A,L,M]),(0,t.useEffect)((function(){N.current=null}));var j=function(e,t){if(!k.current)return null;var n=Bt(k.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,i){void 0===i&&(i=!1);var a=De(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=k.current)?void 0:t.contains(i),o=null==(n=_.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||k.current&&v)){N.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=j(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=j(i,1);c&&c.focus&&c.focus()}else m(!0,u);return;case"Tab":oe(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=k.current)&&t.contains(e.target)||m(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,u)}}})),(0,T.jsx)(y.Provider,{value:D,children:(0,T.jsx)(qn.Provider,{value:R,children:h})})}Gi.displayName="Dropdown",Gi.Menu=Ci,Gi.Toggle=Bi,Gi.Item=Wi;var Qi=Gi,Yi=t.createContext({});Yi.displayName="DropdownContext";var $i=Yi,Xi=["bsPrefix","className","eventKey","disabled","onClick","active","as"],Ji=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,u=void 0!==a&&a,s=e.onClick,c=e.active,l=e.as,h=void 0===l?Ln:l,p=d(e,Xi),m=A(n,"dropdown-item"),y=f(zi({key:i,href:p.href,disabled:u,onClick:s,active:c}),2),g=y[0],k=y[1];return(0,T.jsx)(h,o(o(o({},p),g),{},{ref:t,className:v()(r,m,k.isActive&&"active",u&&"disabled")}))}));Ji.displayName="DropdownItem";var Zi=Ji,ea=t.createContext(null);ea.displayName="InputGroupContext";var ta=ea;function na(e,t){return e}var ra=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function ia(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var aa=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,u=e.rootCloseEvent,s=e.flip,c=e.show,l=e.renderOnMount,h=e.as,p=void 0===h?"div":h,m=e.popperConfig,y=e.variant,g=d(e,ra),k=!1,b=(0,t.useContext)(Ce),w=A(r,"dropdown-menu"),x=(0,t.useContext)($i),E=x.align,_=x.drop,I=x.isRTL;a=a||E;var S=(0,t.useContext)(ta),C=[];if(a)if("object"===typeof a){var N=Object.keys(a);if(N.length){var O=N[0],P=a[O];k="start"===P,C.push("".concat(w,"-").concat(O,"-").concat(P))}}else"end"===a&&(k=!0);var D=ia(k,_,I),R=f(Si({flip:s,rootCloseEvent:u,show:c,usePopper:!b&&0===C.length,offset:[0,2],popperConfig:m,placement:D}),2),L=R[0],M=R[1],j=M.hasShown,F=M.popper,V=M.show,U=M.toggle;if(L.ref=me(na(n),L.ref),Pn((function(){V&&(null==F||F.update())}),[V]),!j&&!l&&!S)return null;"string"!==typeof p&&(L.show=V,L.close=function(){return null==U?void 0:U(!1)},L.align=a);var B=g.style;return null!=F&&F.placement&&(B=o(o({},g.style),L.style),g["x-placement"]=F.placement),(0,T.jsx)(p,o(o(o(o({},g),L),{},{style:B},(C.length||b)&&{"data-bs-popper":"static"}),{},{className:v().apply(void 0,[i,w,V&&"show",k&&"".concat(w,"-end"),y&&"".concat(w,"-").concat(y)].concat(C))}))}));aa.displayName="DropdownMenu",aa.defaultProps={flip:!0};var oa=aa,ua=["as","bsPrefix","variant","size","active","className"],sa=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,u=e.active,s=e.className,c=d(e,ua),l=A(r,"btn"),h=f(vn(o({tagName:n},c)),2),p=h[0],m=h[1].tagName;return(0,T.jsx)(m,o(o(o({},p),c),{},{ref:t,className:v()(s,l,u&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));sa.displayName="Button",sa.defaultProps={variant:"primary",active:!1,disabled:!1};var ca=sa,la=["bsPrefix","split","className","childBsPrefix","as"],fa=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,u=e.childBsPrefix,s=e.as,c=void 0===s?ca:s,l=d(e,la),h=A(r,"dropdown-toggle"),p=(0,t.useContext)(qn),m=(0,t.useContext)(ta);void 0!==u&&(l.bsPrefix=u);var y=f(Vi(),1)[0];return y.ref=me(y.ref,na(n)),(0,T.jsx)(c,o(o({className:v()(a,h,i&&"".concat(h,"-split"),!!m&&(null==p?void 0:p.show)&&"show")},y),l))}));fa.displayName="DropdownToggle";var ha=fa,da=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],pa=R("dropdown-header",{defaultProps:{role:"heading"}}),va=R("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),ma=R("dropdown-item-text",{Component:"span"}),ya=t.forwardRef((function(e,n){var r=x(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,u=r.show,s=r.className,c=r.align,l=r.onSelect,f=r.onToggle,h=r.focusFirstItemOnShow,p=r.as,m=void 0===p?"div":p,y=(r.navbar,r.autoClose),g=d(r,da),k=(0,t.useContext)(ta),b=A(i,"dropdown"),w="rtl"===(0,t.useContext)(N).dir,E=De((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===y?"click"===n:"inside"===y?"rootClose"!==n:"outside"!==y||"select"!==n)&&(null==f||f(e,t))})),_=ia("end"===c,a,w),I=(0,t.useMemo)((function(){return{align:c,drop:a,isRTL:w}}),[c,a,w]);return(0,T.jsx)($i.Provider,{value:I,children:(0,T.jsx)(Qi,{placement:_,show:u,onSelect:l,onToggle:E,focusFirstItemOnShow:h,itemSelector:".".concat(b,"-item:not(.disabled):not(:disabled)"),children:k?g.children:(0,T.jsx)(m,o(o({},g),{},{ref:n,className:v()(s,u&&"show",(!a||"down"===a)&&b,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));ya.displayName="Dropdown",ya.defaultProps={navbar:!1,align:"start",autoClose:!0};var ga=Object.assign(ya,{Toggle:ha,Menu:oa,Item:Zi,ItemText:ma,Divider:va,Header:pa}),ka=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],ba=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,u=e.className,s=e.rootCloseEvent,c=e.menuRole,l=e.disabled,f=e.active,h=e.renderMenuOnMount,p=e.menuVariant,m=d(e,ka),y=A(void 0,"nav-item");return(0,T.jsxs)(ga,o(o({ref:t},m),{},{className:v()(u,y),children:[(0,T.jsx)(ga.Toggle,{id:n,eventKey:null,active:f,disabled:l,childBsPrefix:a,as:Fn,children:r}),(0,T.jsx)(ga.Menu,{role:c,renderOnMount:h,rootCloseEvent:s,variant:p,children:i})]}))}));ba.displayName="NavDropdown";var wa=Object.assign(ba,{Item:ga.Item,ItemText:ga.ItemText,Divider:ga.Divider,Header:ga.Header}),xa=n(643),Ea=n(235),_a=["bsPrefix","bg","pill","text","className","as"],Ia=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,i=e.pill,a=e.text,u=e.className,s=e.as,c=void 0===s?"span":s,l=d(e,_a),f=A(n,"badge");return(0,T.jsx)(c,o(o({ref:t},l),{},{className:v()(u,f,i&&"rounded-pill",a&&"text-".concat(a),r&&"bg-".concat(r))}))}));Ia.displayName="Badge",Ia.defaultProps={bg:"primary",pill:!1};var Sa,Ta=Ia;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Sa||(Sa={}));var Ca=function(e){return e};var Na="beforeunload",Aa="popstate";function Oa(e){e.preventDefault(),e.returnValue=""}function Pa(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Da(){return Math.random().toString(36).substr(2,8)}function Ra(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function La(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Ma=(0,t.createContext)(null);var ja=(0,t.createContext)(null);var Fa=(0,t.createContext)({outlet:null,matches:[]});function Va(e,t){if(!e)throw new Error(t)}function Ua(e,t,n){void 0===n&&(n="/");var r=Qa(("string"===typeof t?La(t):t).pathname||"/",n);if(null==r)return null;var i=Ba(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Wa(i[o],r);return a}function Ba(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Va(!1),a.relativePath=a.relativePath.slice(r.length));var o=Ya([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&Va(!1),Ba(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:Ka(o,e.index),routesMeta:u})})),t}var qa=/^:\w+$/,za=function(e){return"*"===e};function Ka(e,t){var n=e.split("/"),r=n.length;return n.some(za)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!za(e)})).reduce((function(e,t){return e+(qa.test(t)?3:""===t?1:10)}),r)}function Wa(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Ha({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Ya([i,l.pathname]),pathnameBase:$a(Ya([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Ya([i,l.pathnameBase]))}return a}function Ha(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Ga(e,t,n){var r,i="string"===typeof e?La(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?La(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Xa(a),hash:Ja(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function Qa(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Ya=function(e){return e.join("/").replace(/\/\/+/g,"/")},$a=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Xa=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Ja=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Za(e){eo()||Va(!1);var n=(0,t.useContext)(Ma),r=n.basename,i=n.navigator,a=io(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?La(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):Ya([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function eo(){return null!=(0,t.useContext)(ja)}function to(){return eo()||Va(!1),(0,t.useContext)(ja).location}function no(){eo()||Va(!1);var e=(0,t.useContext)(Ma),n=e.basename,r=e.navigator,i=(0,t.useContext)(Fa).matches,a=to().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=Ga(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Ya([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function ro(){var e=(0,t.useContext)(Fa).matches,n=e[e.length-1];return n?n.params:{}}function io(e){var n=(0,t.useContext)(Fa).matches,r=to().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return Ga(e,JSON.parse(i),r)}),[e,i,r])}function ao(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(Fa.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function oo(e){var n=e.to,r=e.replace,i=e.state;eo()||Va(!1);var a=no();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function uo(e){Va(!1)}function so(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Sa.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;eo()&&Va(!1);var h=$a(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=La(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,_=void 0===E?"default":E,I=(0,t.useMemo)((function(){var e=Qa(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:_}}),[h,m,g,b,x,_]);return null==I?null:(0,t.createElement)(Ma.Provider,{value:d},(0,t.createElement)(ja.Provider,{children:a,value:{location:I,navigationType:s}}))}function co(e){var n=e.children,r=e.location;return function(e,n){eo()||Va(!1);var r,i=(0,t.useContext)(Fa).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,to());if(n){var c,l="string"===typeof n?La(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||Va(!1),r=l}else r=s;var f=r.pathname||"/",h=Ua(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return ao(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Ya([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Ya([u,e.pathnameBase])})})),i)}(lo(n),r)}function lo(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==uo&&Va(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=lo(e.props.children)),n.push(r)}else n.push.apply(n,lo(e.props.children))})),n}function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}function ho(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var po=["onClick","reloadDocument","replace","state","target","to"],vo=["aria-current","caseSensitive","className","end","style","to","children"];function mo(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,Ca({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(Aa,(function(){if(a)f.call(a),a=null;else{var e=Sa.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else m(e)}}));var o=Sa.Pop,u=i(),s=u[0],c=u[1],l=Pa(),f=Pa();function h(e){return"string"===typeof e?e:Ra(e)}function d(e,t){return void 0===t&&(t=null),Ca(g({pathname:c.pathname,hash:"",search:""},"string"===typeof e?La(e):e,{state:t,key:Da()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();s=t[0],c=t[1],l.call({action:o,location:c})}function y(e){r.go(e)}null==s&&(s=0,r.replaceState(g({},r.state,{idx:s}),""));var k={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=Sa.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var u=p(o,s+1),c=u[0],l=u[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}m(a)}},replace:function e(t,n){var i=Sa.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,s),u=o[0],c=o[1];r.replaceState(u,"",c),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(Na,Oa),function(){t(),f.length||n.removeEventListener(Na,Oa)}}};return k}({window:i}));var o=a.current,u=f((0,t.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(so,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var yo=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=ho(e,po),f=Za(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=no(),s=to(),c=io(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||Ra(s)===Ra(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",fo({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var go=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=ho(e,vo),v=to(),m=io(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var k,b=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),w=b?i:void 0;k="function"===typeof s?s({isActive:b}):[s,b?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:b}):f;return(0,t.createElement)(yo,fo({},p,{"aria-current":w,className:k,ref:n,style:x,to:h}),"function"===typeof d?d({isActive:b}):d)}));var ko=(0,t.createContext)([]),bo=function(){return(0,t.useContext)(ko)};var wo=function(e){var n=e.children,r=f((0,t.useState)([]),2),i=r[0],a=r[1];return(0,T.jsx)(ko.Provider,{value:{cartList:i,addToCart:function(e){var t=i.findIndex((function(t){return t.id===e.id}));if(t>-1){var n=i[t].quantity;i.splice(t,1),a([].concat(ze(i),[o(o({},e),{},{quantity:e.quantity+n})]))}else a([].concat(ze(i),[e]))},emptyCart:function(){a([])},removeFromCart:function(e){var t=i.filter((function(t){return t.id!==e}));a(ze(t))},isInCart:function(e){return i.find((function(t){return t.id===e.id}))},quantityIconCart:function(){return i.reduce((function(e,t){return e+t.quantity}),0)},totalPrice:function(){return i.reduce((function(e,t){return e+t.quantity*t.productPrice}),0)}},children:n})};var xo=function(){var e=bo(),t=e.cartList,n=e.quantityIconCart;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(yo,{to:"/CartList",children:(0,T.jsx)("img",{src:Ea,width:"30",height:"30",alt:"carrito"})}),0===t.length?(0,T.jsx)(T.Fragment,{}):(0,T.jsxs)(Ta,{bg:"primary",pill:!0,className:"ms-2 ",children:[" ",n()," "]})]})};function Eo(e,t,n){return Eo=Lt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&W(i,n.prototype),i},Eo.apply(null,arguments)}function _o(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Io(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_o(a,r,i,o,u,"next",e)}function u(e){_o(a,r,i,o,u,"throw",e)}o(void 0)}))}}var So=n(757),To=n.n(So);function Co(e){var t="function"===typeof Map?new Map:void 0;return Co=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Eo(e,arguments,Ot(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),W(n,e)},Co(e)}var No=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ao={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(No(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Oo=function(e){return function(e){var t=No(e);return Ao.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Po=function(e){try{return Ao.decodeString(e,!0)}catch(tR){console.error("base64Decode failed: ",tR)}return null};function Do(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Do(e[n],t[n]));return e}var Ro=function(){function e(){var t=this;Ke(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return He(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Lo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oo(JSON.stringify({alg:"none",type:"JWT"})),Oo(JSON.stringify(a)),""].join(".")}function Mo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jo(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mo())}function Fo(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(tR){return!1}}function Vo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Uo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Bo(){var e=Mo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qo(){return"object"===typeof indexedDB}var zo=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(jt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(jt(a),Ko.prototype.create),a}return He(n)}(Co(Error)),Ko=function(){function e(t,n,r){Ke(this,e),this.service=t,this.serviceName=n,this.errors=r}return He(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Wo(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new zo(n,a,t);return o}}]),e}();function Wo(e,t){return e.replace(Ho,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ho=/\{\$([^}]+)}/g;function Go(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Yo(u)&&Yo(s)){if(!Qo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yo(e){return null!==e&&"object"===typeof e}function $o(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xo(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Jo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Zo(e,t){var n=new eu(e,t);return n.subscribe.bind(n)}var eu=function(){function e(t,n){var r=this;Ke(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return He(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=zn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=tu),void 0===r.error&&(r.error=tu),void 0===r.complete&&(r.complete=tu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(tR){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(tR){"undefined"!==typeof console&&console.error&&console.error(tR)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function tu(){}function nu(e){return e&&e._delegate?e._delegate:e}function ru(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var iu=function(){function e(t){Ke(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return He(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new au(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new ou(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),au=function(){function e(t){var n=this;Ke(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return He(e,[{key:"objectStore",value:function(e){return new ou(this._transaction.objectStore(e))}}]),e}(),ou=function(){function e(t){Ke(this,e),this._store=t}return He(e,[{key:"index",value:function(e){return new uu(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new uu(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return ru(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return ru(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return ru(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return ru(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),uu=function(){function e(t){Ke(this,e),this._index=t}return He(e,[{key:"get",value:function(e){return ru(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var su=function(){function e(t,n,r){Ke(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return He(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),cu="[DEFAULT]",lu=function(){function e(t,n){Ke(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return He(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ro;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(tR){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(tR){if(r)return null;throw tR}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cu})}catch(tR){}var t,n=zn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(tR){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Io(So.mark((function e(){var t;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ze(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ze(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=zn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ew){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===cu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ew){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu;return this.component?this.component.multipleInstances?e:cu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var fu,hu,du=function(){function e(t){Ke(this,e),this.name=t,this.providers=new Map}return He(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new lu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hu||(hu={}));var vu,mu,yu={debug:hu.DEBUG,verbose:hu.VERBOSE,info:hu.INFO,warn:hu.WARN,error:hu.ERROR,silent:hu.SILENT},gu=hu.INFO,ku=(i(fu={},hu.DEBUG,"log"),i(fu,hu.VERBOSE,"log"),i(fu,hu.INFO,"info"),i(fu,hu.WARN,"warn"),i(fu,hu.ERROR,"error"),fu),bu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ku[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},wu=function(){function e(t){Ke(this,e),this.name=t,this._logLevel=gu,this._logHandler=bu,this._userLogHandler=null,pu.push(this)}return He(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in hu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?yu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hu.DEBUG].concat(t)),this._logHandler.apply(this,[this,hu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,hu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hu.INFO].concat(t)),this._logHandler.apply(this,[this,hu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hu.WARN].concat(t)),this._logHandler.apply(this,[this,hu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hu.ERROR].concat(t)),this._logHandler.apply(this,[this,hu.ERROR].concat(t))}}]),e}();var xu=function(){function e(t){Ke(this,e),this.container=t}return He(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Eu="@firebase/app",_u="0.7.21",Iu=new wu("@firebase/app"),Su="[DEFAULT]",Tu=(i(vu={},Eu,"fire-core"),i(vu,"@firebase/app-compat","fire-core-compat"),i(vu,"@firebase/analytics","fire-analytics"),i(vu,"@firebase/analytics-compat","fire-analytics-compat"),i(vu,"@firebase/app-check","fire-app-check"),i(vu,"@firebase/app-check-compat","fire-app-check-compat"),i(vu,"@firebase/auth","fire-auth"),i(vu,"@firebase/auth-compat","fire-auth-compat"),i(vu,"@firebase/database","fire-rtdb"),i(vu,"@firebase/database-compat","fire-rtdb-compat"),i(vu,"@firebase/functions","fire-fn"),i(vu,"@firebase/functions-compat","fire-fn-compat"),i(vu,"@firebase/installations","fire-iid"),i(vu,"@firebase/installations-compat","fire-iid-compat"),i(vu,"@firebase/messaging","fire-fcm"),i(vu,"@firebase/messaging-compat","fire-fcm-compat"),i(vu,"@firebase/performance","fire-perf"),i(vu,"@firebase/performance-compat","fire-perf-compat"),i(vu,"@firebase/remote-config","fire-rc"),i(vu,"@firebase/remote-config-compat","fire-rc-compat"),i(vu,"@firebase/storage","fire-gcs"),i(vu,"@firebase/storage-compat","fire-gcs-compat"),i(vu,"@firebase/firestore","fire-fst"),i(vu,"@firebase/firestore-compat","fire-fst-compat"),i(vu,"fire-js","fire-js"),i(vu,"firebase","fire-js-all"),vu),Cu=new Map,Nu=new Map;function Au(e,t){try{e.container.addComponent(t)}catch(tR){Iu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),tR)}}function Ou(e,t){e.container.addOrOverwriteComponent(t)}function Pu(e){var t=e.name;if(Nu.has(t))return Iu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nu.set(t,e);var n,r=zn(Cu.values());try{for(r.s();!(n=r.n()).done;){Au(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Du(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ru(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Su;Du(e,t).clearInstance(n)}function Lu(){Nu.clear()}var Mu=(i(mu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(mu,"bad-app-name","Illegal App name: '{$appName}"),i(mu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(mu,"app-deleted","Firebase App named '{$appName}' already deleted"),i(mu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(mu,"invalid-log-argument","First argument to `onLog` must be null or a function."),i(mu,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),i(mu,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),i(mu,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),i(mu,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),mu),ju=new Ko("app","Firebase",Mu),Fu=function(){function e(t,n,r){var i=this;Ke(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new su("app",(function(){return i}),"PUBLIC"))}return He(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}]),e}(),Vu="9.6.11";function Uu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Su,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ju.create("bad-app-name",{appName:String(i)});var a=Cu.get(i);if(a){if(Qo(e,a.options)&&Qo(r,a.config))return a;throw ju.create("duplicate-app",{appName:i})}var o,u=new du(i),s=zn(Nu.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Fu(e,r,u);return Cu.set(i,l),l}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su,t=Cu.get(e);if(!t)throw ju.create("no-app",{appName:e});return t}function qu(){return Array.from(Cu.values())}function zu(e){return Ku.apply(this,arguments)}function Ku(){return Ku=Io(So.mark((function e(t){var n;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Cu.has(n)){e.next=6;break}return Cu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Wu(e,t,n){var r,i=null!==(r=Tu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Iu.warn(u.join(" "))}Pu(new su("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Hu(e,t){if(null!==e&&"function"!==typeof e)throw ju.create("invalid-log-argument");!function(e,t){var n,r=zn(pu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=yu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:hu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Gu(e){var t;t=e,pu.forEach((function(e){e.setLogLevel(t)}))}var Qu="firebase-heartbeat-store",Yu=null;function $u(){var e,t,n;return Yu||(Yu=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Qu)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new iu(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new iu(a.result),e.oldVersion,e.newVersion,new au(a.transaction))}}catch(tR){i("Error opening indexedDB: ".concat(tR.message))}}))).catch((function(e){throw ju.create("storage-open",{originalErrorMessage:e.message})}))),Yu}function Xu(e){return Ju.apply(this,arguments)}function Ju(){return Ju=Io(So.mark((function e(t){var n;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$u();case 3:return n=e.sent,e.abrupt("return",n.transaction(Qu).objectStore(Qu).get(ts(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ju.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ju.apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return es=Io(So.mark((function e(t,n){var r,i,a;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$u();case 3:return r=e.sent,i=r.transaction(Qu,"readwrite"),a=i.objectStore(Qu),e.next=8,a.put(n,ts(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ju.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),es.apply(this,arguments)}function ts(e){return"".concat(e.name,"!").concat(e.options.appId)}var ns=function(){function e(t){var n=this;Ke(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new os(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return He(e,[{key:"triggerHeartbeat",value:function(){var e=Io(So.mark((function e(){var t,n,r;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=rs(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Io(So.mark((function e(){var t,n,r,i,a;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=rs(),n=is(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Oo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rs(){return(new Date).toISOString().substring(0,10)}function is(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=zn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),us(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),us(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var as,os=function(){function e(t){Ke(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return He(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Io(So.mark((function e(){return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qo()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Io(So.mark((function e(){var t;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Xu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Io(So.mark((function e(t){var n,r;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Zu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Io(So.mark((function e(t){var n,r;return So.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Zu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ze(r.heartbeats),ze(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function us(e){return Oo(JSON.stringify({version:2,heartbeats:e})).length}as="",Pu(new su("platform-logger",(function(e){return new xu(e)}),"PRIVATE")),Pu(new su("heartbeat",(function(e){return new ns(e)}),"PRIVATE")),Wu(Eu,_u,as),Wu(Eu,_u,"esm2017"),Wu("fire-js","");var ss,cs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ls={},fs=fs||{},hs=cs||self;function ds(){}function ps(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ms="closure_uid_"+(1e9*Math.random()>>>0),ys=0;function gs(e,t,n){return e.call.apply(e.bind,arguments)}function ks(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bs(e,t,n){return(bs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gs:ks).apply(null,arguments)}function ws(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xs(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Es(){this.s=this.s,this.o=this.o}var _s={};Es.prototype.s=!1,Es.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ms)&&e[ms]||(e[ms]=++ys)}(this);delete _s[e]}},Es.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Is=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ss=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ts(e){return Array.prototype.concat.apply([],arguments)}function Cs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ns(e){return/^[\s\xa0]*$/.test(e)}var As,Os=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ps(e,t){return-1!=e.indexOf(t)}function Ds(e,t){return e<t?-1:e>t?1:0}e:{var Rs=hs.navigator;if(Rs){var Ls=Rs.userAgent;if(Ls){As=Ls;break e}}As=""}function Ms(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function js(e){var t={};for(var n in e)t[n]=e[n];return t}var Fs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Fs.length;a++)n=Fs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Us(e){return Us[" "](e),e}Us[" "]=ds;var Bs,qs=Ps(As,"Opera"),zs=Ps(As,"Trident")||Ps(As,"MSIE"),Ks=Ps(As,"Edge"),Ws=Ks||zs,Hs=Ps(As,"Gecko")&&!(Ps(As.toLowerCase(),"webkit")&&!Ps(As,"Edge"))&&!(Ps(As,"Trident")||Ps(As,"MSIE"))&&!Ps(As,"Edge"),Gs=Ps(As.toLowerCase(),"webkit")&&!Ps(As,"Edge");function Qs(){var e=hs.document;return e?e.documentMode:void 0}e:{var Ys="",$s=function(){var e=As;return Hs?/rv:([^\);]+)(\)|;)/.exec(e):Ks?/Edge\/([\d\.]+)/.exec(e):zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gs?/WebKit\/(\S+)/.exec(e):qs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($s&&(Ys=$s?$s[1]:""),zs){var Xs=Qs();if(null!=Xs&&Xs>parseFloat(Ys)){Bs=String(Xs);break e}}Bs=Ys}var Js,Zs={};function ec(){return function(e){var t=Zs;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Os(String(Bs)).split("."),n=Os("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ds(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ds(0==a[2].length,0==o[2].length)||Ds(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(hs.document&&zs){var tc=Qs();Js=tc||(parseInt(Bs,10)||void 0)}else Js=void 0;var nc=Js,rc=function(){if(!hs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hs.addEventListener("test",ds,t),hs.removeEventListener("test",ds,t)}catch(n){}return e}();function ic(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ac(e,t){if(ic.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hs){e:{try{Us(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ac.Z.h.call(this)}}ic.prototype.h=function(){this.defaultPrevented=!0},xs(ac,ic);var oc={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var uc="closure_listenable_"+(1e6*Math.random()|0),sc=0;function cc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++sc,this.ca=this.fa=!1}function lc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fc(e){this.src=e,this.g={},this.h=0}function hc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Is(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(lc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function dc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}fc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=dc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new cc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var pc="closure_lm_"+(1e6*Math.random()|0),vc={};function mc(e,t,n,r,i){if(r&&r.once)return gc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)mc(e,t[a],n,r,i);return null}return n=Ic(n),e&&e[uc]?e.N(t,n,vs(r)?!!r.capture:!!r,i):yc(e,t,n,!1,r,i)}function yc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=vs(i)?!!i.capture:!!i,u=Ec(e);if(u||(e[pc]=u=new fc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gc(e,t[a],n,r,i);return null}return n=Ic(n),e&&e[uc]?e.O(t,n,vs(r)?!!r.capture:!!r,i):yc(e,t,n,!0,r,i)}function kc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)kc(e,t[a],n,r,i);else r=vs(r)?!!r.capture:!!r,n=Ic(n),e&&e[uc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=dc(a=e.g[t],n,r,i))&&(lc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ec(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dc(t,n,r,i)),(n=-1<e?t[e]:null)&&bc(n))}function bc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[uc])hc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ec(t))?(hc(n,e),0==n.h&&(n.src=null,t[pc]=null)):lc(e)}}}function wc(e){return e in vc?vc[e]:vc[e]="on"+e}function xc(e,t){if(e.ca)e=!0;else{t=new ac(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&bc(e),e=n.call(r,t)}return e}function Ec(e){return(e=e[pc])instanceof fc?e:null}var _c="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ic(e){return"function"===typeof e?e:(e[_c]||(e[_c]=function(t){return e.handleEvent(t)}),e[_c])}function Sc(){Es.call(this),this.i=new fc(this),this.P=this,this.I=null}function Tc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ic(t,e);else if(t instanceof ic)t.target=t.target||e;else{var i=t;Vs(t=new ic(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Cc(o,r,!0,t)&&i}if(i=Cc(o=t.g=e,r,!0,t)&&i,i=Cc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Cc(o=t.g=n[a],r,!1,t)&&i}function Cc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&hc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}xs(Sc,Es),Sc.prototype[uc]=!0,Sc.prototype.removeEventListener=function(e,t,n,r){kc(this,e,t,n,r)},Sc.prototype.M=function(){if(Sc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lc(n[r]);delete t.g[e],t.h--}}this.I=null},Sc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nc=hs.JSON.stringify;function Ac(){var e=Fc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oc,Pc=function(){function e(){Ke(this,e),this.h=this.g=null}return He(e,[{key:"add",value:function(e,t){var n=Dc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Dc=new(function(){function e(t,n){Ke(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return He(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Rc}),(function(e){return e.reset()})),Rc=function(){function e(){Ke(this,e),this.next=this.g=this.h=null}return He(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Lc(e){hs.setTimeout((function(){throw e}),0)}function Mc(e,t){Oc||function(){var e=hs.Promise.resolve(void 0);Oc=function(){e.then(Vc)}}(),jc||(Oc(),jc=!0),Fc.add(e,t)}var jc=!1,Fc=new Pc;function Vc(){for(var e;e=Ac();){try{e.h.call(e.g)}catch(n){Lc(n)}var t=Dc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jc=!1}function Uc(e,t){Sc.call(this),this.h=e||1,this.g=t||hs,this.j=bs(this.kb,this),this.l=Date.now()}function Bc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qc(e,t,n){if("function"===typeof e)n&&(e=bs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bs(e.handleEvent,e)}return 2147483647<Number(t)?-1:hs.setTimeout(e,t||0)}function zc(e){e.g=qc((function(){e.g=null,e.i&&(e.i=!1,zc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}xs(Uc,Sc),(ss=Uc.prototype).da=!1,ss.S=null,ss.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tc(this,"tick"),this.da&&(Bc(this),this.start()))}},ss.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ss.M=function(){Uc.Z.M.call(this),Bc(this),delete this.g};var Kc=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return He(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:zc(this)}},{key:"M",value:function(){Dt(Ot(n.prototype),"M",this).call(this),this.g&&(hs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Es);function Wc(e){Es.call(this),this.h=e,this.g={}}xs(Wc,Es);var Hc=[];function Gc(e,t,n,r){Array.isArray(n)||(n&&(Hc[0]=n.toString()),n=Hc);for(var i=0;i<n.length;i++){var a=mc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qc(e){Ms(e.g,(function(e,t){this.g.hasOwnProperty(t)&&bc(e)}),e),e.g={}}function Yc(){this.g=!0}function $c(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Nc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Wc.prototype.M=function(){Wc.Z.M.call(this),Qc(this)},Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yc.prototype.Aa=function(){this.g=!1},Yc.prototype.info=function(){};var Xc={},Jc=null;function Zc(){return Jc=Jc||new Sc}function el(e){ic.call(this,Xc.Ma,e)}function tl(e){var t=Zc();Tc(t,new el(t,e))}function nl(e,t){ic.call(this,Xc.STAT_EVENT,e),this.stat=t}function rl(e){var t=Zc();Tc(t,new nl(t,e))}function il(e,t){ic.call(this,Xc.Na,e),this.size=t}function al(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hs.setTimeout((function(){e()}),t)}Xc.Ma="serverreachability",xs(el,ic),Xc.STAT_EVENT="statevent",xs(nl,ic),Xc.Na="timingevent",xs(il,ic);var ol={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ul={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sl(){}function cl(e){return e.h||(e.h=e.i())}function ll(){}sl.prototype.h=null;var fl,hl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dl(){ic.call(this,"d")}function pl(){ic.call(this,"c")}function vl(){}function ml(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Wc(this),this.P=gl,e=Ws?125:void 0,this.W=new Uc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yl}function yl(){this.i=null,this.g="",this.h=!1}xs(dl,ic),xs(pl,ic),xs(vl,sl),vl.prototype.g=function(){return new XMLHttpRequest},vl.prototype.i=function(){return{}},fl=new vl;var gl=45e3,kl={},bl={};function wl(e,t,n){e.K=1,e.v=Kl(Fl(t)),e.s=n,e.U=!0,xl(e,null)}function xl(e,t){e.F=Date.now(),Sl(e),e.A=Fl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yl,e.g=oh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kc(bs(e.Ia,e,e.g),e.O)),Gc(e.V,e.g,"readystatechange",e.gb),t=e.H?js(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function El(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function _l(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Il(e,n))==bl){4==t&&(e.o=4,rl(14),i=!1),$c(e.j,e.m,null,"[Incomplete Response]");break}if(r==kl){e.o=4,rl(15),$c(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$c(e.j,e.m,r,null),Ol(e,r)}El(e)&&r!=bl&&r!=kl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jf(t),t.L=!0,rl(11))):($c(e.j,e.m,n,"[Invalid Chunked Response]"),Al(e),Nl(e))}function Il(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bl:(n=Number(t.substring(n,r)),isNaN(n)?kl:(r+=1)+n>t.length?bl:(t=t.substr(r,n),e.C=r+n,t))}function Sl(e){e.Y=Date.now()+e.P,Tl(e,e.P)}function Tl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=al(bs(e.eb,e),t)}function Cl(e){e.B&&(hs.clearTimeout(e.B),e.B=null)}function Nl(e){0==e.l.G||e.I||th(e.l,e)}function Al(e){Cl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bc(e.W),Qc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ol(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hf(n.i,e)))if(n.I=e.N,!e.J&&hf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;eh(n),zf(n)}Xf(n),rl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=al(bs(n.ab,n),6e3));if(1>=ff(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else rh(n,11)}else if((e.J||n.g==e)&&eh(n),!Ns(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ps(l,"spdy")||Ps(l,"quic")||Ps(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(df(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,zl(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ah(r,r.H?r.la:null,r.W),d.J){pf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Cl(p),Sl(p)),r.g=d}else $f(r);0<n.l.length&&Hf(n)}else"stop"!=a[0]&&"close"!=a[0]||rh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rh(n,7):qf(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}tl(4)}catch(a){}}function Pl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ps(e)||"string"===typeof e)Ss(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ps(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ps(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Dl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ll(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ll(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ll(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ss=ml.prototype).setTimeout=function(e){this.P=e},ss.gb=function(e){e=e.target;var t=this.L;t&&3==jf(e)?t.l():this.Ia(e)},ss.Ia=function(e){try{if(e==this.g)e:{var t=jf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ws||this.g&&(this.h.h||this.g.ga()||Ff(this.g)))){this.I||4!=t||7==n||tl(8==n||0>=r?3:2),Cl(this);var i=this.g.ba();this.N=i;t:if(El(this)){var a=Ff(this.g);e="";var o=a.length,u=4==jf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Al(this),Nl(this);var s="";break t}this.h.i=new hs.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ns(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rl(12),Al(this),Nl(this);break e}$c(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ol(this,i)}this.U?(_l(this,t,s),Ws&&this.i&&3==t&&(Gc(this.V,this.W,"tick",this.fb),this.W.start())):($c(this.j,this.m,s,null),Ol(this,s)),4==t&&Al(this),this.i&&!this.I&&(4==t?th(this.l,this):(this.i=!1,Sl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rl(12)):(this.o=0,rl(13)),Al(this),Nl(this)}}}catch(t){}},ss.fb=function(){if(this.g){var e=jf(this.g),t=this.g.ga();this.C<t.length&&(Cl(this),_l(this,e,t),this.i&&4!=e&&Sl(this))}},ss.cancel=function(){this.I=!0,Al(this)},ss.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(tl(3),rl(17)),Al(this),this.o=2,Nl(this)):Tl(this,this.Y-e)},(ss=Dl.prototype).R=function(){Rl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ss.T=function(){return Rl(this),this.g.concat()},ss.get=function(e,t){return Ll(this.h,e)?this.h[e]:t},ss.set=function(e,t){Ll(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ss.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ml=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jl){this.g=void 0!==t?t:e.g,Vl(this,e.j),this.s=e.s,Ul(this,e.i),Bl(this,e.m),this.l=e.l,t=e.h;var n=new Zl;n.i=t.i,t.g&&(n.g=new Dl(t.g),n.h=t.h),ql(this,n),this.o=e.o}else e&&(n=String(e).match(Ml))?(this.g=!!t,Vl(this,n[1]||"",!0),this.s=Wl(n[2]||""),Ul(this,n[3]||"",!0),Bl(this,n[4]),this.l=Wl(n[5]||"",!0),ql(this,n[6]||"",!0),this.o=Wl(n[7]||"")):(this.g=!!t,this.h=new Zl(null,this.g))}function Fl(e){return new jl(e)}function Vl(e,t,n){e.j=n?Wl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ul(e,t,n){e.i=n?Wl(t,!0):t}function Bl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ql(e,t,n){t instanceof Zl?(e.h=t,function(e,t){t&&!e.j&&(ef(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tf(this,t),rf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Hl(t,Xl)),e.h=new Zl(t,e.g))}function zl(e,t,n){e.h.set(t,n)}function Kl(e){return zl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hl(t,Ql,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hl(t,Ql,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hl(n,"/"==n.charAt(0)?$l:Yl,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hl(n,Jl)),e.join("")};var Ql=/[#\/\?@]/g,Yl=/[#\?:]/g,$l=/[#\?]/g,Xl=/[#\?@]/g,Jl=/#/g;function Zl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ef(e){e.g||(e.g=new Dl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tf(e,t){ef(e),t=af(e,t),Ll(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ll((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rl(e)))}function nf(e,t){return ef(e),t=af(e,t),Ll(e.g.h,t)}function rf(e,t,n){tf(e,t),0<n.length&&(e.i=null,e.g.set(af(e,t),Cs(n)),e.h+=n.length)}function af(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ss=Zl.prototype).add=function(e,t){ef(this),this.i=null,e=af(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ss.forEach=function(e,t){ef(this),this.g.forEach((function(n,r){Ss(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ss.T=function(){ef(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ss.R=function(e){ef(this);var t=[];if("string"===typeof e)nf(this,e)&&(t=Ts(t,this.g.get(af(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ts(t,e[n])}return t},ss.set=function(e,t){return ef(this),this.i=null,nf(this,e=af(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ss.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ss.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var of=He((function e(t,n){Ke(this,e),this.h=t,this.g=n}));function uf(e){this.l=e||cf,hs.PerformanceNavigationTiming?e=0<(e=hs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hs.g&&hs.g.Ea&&hs.g.Ea()&&hs.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sf,cf=10;function lf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ff(e){return e.h?1:e.g?e.g.size:0}function hf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function df(e,t){e.g?e.g.add(t):e.h=t}function pf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=zn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Cs(e.i)}function mf(){}function yf(){this.g=new mf}function gf(e,t,n){var r=n||"";try{Pl(e,(function(e,n){var i=e;vs(e)&&(i=Nc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(tR){throw t.push(r+"type="+encodeURIComponent("_badmap")),tR}}function kf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bf(e){this.l=e.$b||null,this.j=e.ib||!1}function wf(e,t){Sc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uf.prototype.cancel=function(){if(this.i=vf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=zn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mf.prototype.stringify=function(e){return hs.JSON.stringify(e,void 0)},mf.prototype.parse=function(e){return hs.JSON.parse(e,void 0)},xs(bf,sl),bf.prototype.g=function(){return new wf(this.l,this.j)},bf.prototype.i=(sf={},function(){return sf}),xs(wf,Sc);var xf=0;function Ef(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _f(e){e.readyState=4,e.l=null,e.j=null,e.A=null,If(e)}function If(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ss=wf.prototype).open=function(e,t){if(this.readyState!=xf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,If(this)},ss.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hs).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ss.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=xf},ss.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,If(this)),this.g&&(this.readyState=3,If(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof hs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ef(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ss.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_f(this):If(this),3==this.readyState&&Ef(this)}},ss.Ua=function(e){this.g&&(this.response=this.responseText=e,_f(this))},ss.Ta=function(e){this.g&&(this.response=e,_f(this))},ss.ha=function(){this.g&&_f(this)},ss.setRequestHeader=function(e,t){this.v.append(e,t)},ss.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ss.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sf=hs.JSON.parse;function Tf(e){Sc.call(this),this.headers=new Dl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cf,this.K=this.L=!1}xs(Tf,Sc);var Cf="",Nf=/^https?$/i,Af=["POST","PUT"];function Of(e){return"content-type"==e.toLowerCase()}function Pf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Df(e),Lf(e)}function Df(e){e.D||(e.D=!0,Tc(e,"complete"),Tc(e,"error"))}function Rf(e){if(e.h&&"undefined"!=typeof fs&&(!e.C[1]||4!=jf(e)||2!=e.ba()))if(e.v&&4==jf(e))qc(e.Fa,0,e);else if(Tc(e,"readystatechange"),4==jf(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ml)[1]||null;if(!a&&hs.self&&hs.self.location){var o=hs.self.location.protocol;a=o.substr(0,o.length-1)}i=!Nf.test(a?a.toLowerCase():"")}t=i}if(t)Tc(e,"complete"),Tc(e,"success");else{e.m=6;try{var u=2<jf(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Df(e)}}finally{Lf(e)}}}function Lf(e,t){if(e.g){Mf(e);var n=e.g,r=e.C[0]?ds:null;e.g=null,e.C=null,t||Tc(e,"ready");try{n.onreadystatechange=r}catch(tR){}}}function Mf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hs.clearTimeout(e.A),e.A=null)}function jf(e){return e.g?e.g.readyState:0}function Ff(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ms(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zl(e,t,n))}function Uf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bf(e){this.za=0,this.l=[],this.h=new Yc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uf("baseRetryDelayMs",5e3,e),this.$a=Uf("retryDelaySeedMs",1e4,e),this.Ya=Uf("forwardChannelMaxRetries",2,e),this.ra=Uf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new uf(e&&e.concurrentRequestLimit),this.Ca=new yf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function qf(e){if(Kf(e),3==e.G){var t=e.V++,n=Fl(e.F);zl(n,"SID",e.J),zl(n,"RID",t),zl(n,"TYPE","terminate"),Qf(e,n),(t=new ml(e,e.h,t,void 0)).K=2,t.v=Kl(Fl(n)),n=!1,hs.navigator&&hs.navigator.sendBeacon&&(n=hs.navigator.sendBeacon(t.v.toString(),"")),!n&&hs.Image&&((new Image).src=t.v,n=!0),n||(t.g=oh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Sl(t)}ih(e)}function zf(e){e.g&&(Jf(e),e.g.cancel(),e.g=null)}function Kf(e){zf(e),e.u&&(hs.clearTimeout(e.u),e.u=null),eh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&hs.clearTimeout(e.m),e.m=null)}function Wf(e,t){e.l.push(new of(e.Za++,t)),3==e.G&&Hf(e)}function Hf(e){lf(e.i)||e.m||(e.m=!0,Mc(e.Ha,e),e.C=0)}function Gf(e,t){var n;n=t?t.m:e.V++;var r=Fl(e.F);zl(r,"SID",e.J),zl(r,"RID",n),zl(r,"AID",e.U),Qf(e,r),e.o&&e.s&&Vf(r,e.o,e.s),n=new ml(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Yf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),df(e.i,n),wl(n,r,t)}function Qf(e,t){e.j&&Pl({},(function(e,n){zl(t,n,e)}))}function Yf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?bs(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{gf(l,o,"req"+c+"_")}catch(Rh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $f(e){e.g||e.u||(e.Y=1,Mc(e.Ga,e),e.A=0)}function Xf(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=al(bs(e.Ga,e),nh(e,e.A)),e.A++,!0)}function Jf(e){null!=e.B&&(hs.clearTimeout(e.B),e.B=null)}function Zf(e){e.g=new ml(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Fl(e.oa);zl(t,"RID","rpc"),zl(t,"SID",e.J),zl(t,"CI",e.N?"0":"1"),zl(t,"AID",e.U),Qf(e,t),zl(t,"TYPE","xmlhttp"),e.o&&e.s&&Vf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kl(Fl(t)),n.s=null,n.U=!0,xl(n,e)}function eh(e){null!=e.v&&(hs.clearTimeout(e.v),e.v=null)}function th(e,t){var n=null;if(e.g==t){eh(e),Jf(e),e.g=null;var r=2}else{if(!hf(e.i,t))return;n=t.D,pf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Tc(r=Zc(),new il(r,n,t,i)),Hf(e)}else $f(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ff(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=al(bs(e.Ha,e,t),nh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rh(e,5);break;case 4:rh(e,10);break;case 3:rh(e,6);break;default:rh(e,2)}}function nh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=bs(e.jb,e);n||(n=new jl("//www.google.com/images/cleardot.gif"),hs.location&&"http"==hs.location.protocol||Vl(n,"https"),Kl(n)),function(e,t){var n=new Yc;if(hs.Image){var r=new Image;r.onload=ws(kf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ws(kf,n,r,"TestLoadImage: error",!1,t),r.onabort=ws(kf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ws(kf,n,r,"TestLoadImage: timeout",!1,t),hs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rl(2);e.G=0,e.j&&e.j.va(t),ih(e),Kf(e)}function ih(e){e.G=0,e.I=-1,e.j&&(0==vf(e.i).length&&0==e.l.length||(e.i.i.length=0,Cs(e.l),e.l.length=0),e.j.ua())}function ah(e,t,n){var r=function(e){return e instanceof jl?Fl(e):new jl(e,void 0)}(n);if(""!=r.i)t&&Ul(r,t+"."+r.i),Bl(r,r.m);else{var i=hs.location;r=function(e,t,n,r){var i=new jl(null,void 0);return e&&Vl(i,e),t&&Ul(i,t),n&&Bl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ms(e.aa,(function(e,t){zl(r,t,e)})),t=e.D,n=e.sa,t&&n&&zl(r,t,n),zl(r,"VER",e.ma),Qf(e,r),r}function oh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Tf(new bf({ib:!0})):new Tf(e.qa)).L=e.H,t}function uh(){}function sh(){if(zs&&!(10<=Number(nc)))throw Error("Environmental error: no available transport.")}function ch(e,t){Sc.call(this),this.g=new Bf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ns(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ns(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hh(this)}function lh(e){dl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fh(){pl.call(this),this.status=1}function hh(e){this.g=e}(ss=Tf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fl.g(),this.C=this.u?cl(this.u):cl(fl),this.g.onreadystatechange=bs(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Pf(this,a)}e=n||"";var i=new Dl(this.headers);r&&Pl(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Of,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=hs.FormData&&e instanceof hs.FormData,!(0<=Is(Af,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mf(this),0<this.B&&((this.K=function(e){return zs&&ec()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bs(this.pa,this)):this.A=qc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pf(this,a)}},ss.pa=function(){"undefined"!=typeof fs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tc(this,"timeout"),this.abort(8))},ss.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tc(this,"complete"),Tc(this,"abort"),Lf(this))},ss.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lf(this,!0)),Tf.Z.M.call(this)},ss.Fa=function(){this.s||(this.F||this.v||this.l?Rf(this):this.cb())},ss.cb=function(){Rf(this)},ss.ba=function(){try{return 2<jf(this)?this.g.status:-1}catch(sf){return-1}},ss.ga=function(){try{return this.g?this.g.responseText:""}catch(sf){return""}},ss.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sf(t)}},ss.Da=function(){return this.m},ss.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ss=Bf.prototype).ma=8,ss.G=1,ss.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ss.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ml(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Vs(n=js(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Yf(this,t,r),zl(i=Fl(this.F),"RID",e),zl(i,"CVER",22),this.D&&zl(i,"X-HTTP-Session-Id",this.D),Qf(this,i),this.o&&n&&Vf(i,this.o,n),df(this.i,t),this.Ra&&zl(i,"TYPE","init"),this.ja?(zl(i,"$req",r),zl(i,"SID","null"),t.$=!0,wl(t,i,null)):wl(t,i,r),this.G=2}}else 3==this.G&&(e?Gf(this,e):0==this.l.length||lf(this.i)||Gf(this))},ss.Ga=function(){if(this.u=null,Zf(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=al(bs(this.bb,this),e)}},ss.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rl(10),zf(this),Zf(this))},ss.ab=function(){null!=this.v&&(this.v=null,zf(this),Xf(this),rl(19))},ss.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rl(2)):(this.h.info("Failed to ping google.com"),rl(1))},(ss=uh.prototype).xa=function(){},ss.wa=function(){},ss.va=function(){},ss.ua=function(){},ss.Oa=function(){},sh.prototype.g=function(e,t){return new ch(e,t)},xs(ch,Sc),ch.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Mc(bs(e.hb,e,t))),rl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ah(e,null,e.W),Hf(e)},ch.prototype.close=function(){qf(this.g)},ch.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Wf(this.g,t)}else this.v?((t={}).__data__=Nc(e),Wf(this.g,t)):Wf(this.g,e)},ch.prototype.M=function(){this.g.j=null,delete this.j,qf(this.g),delete this.g,ch.Z.M.call(this)},xs(lh,dl),xs(fh,pl),xs(hh,uh),hh.prototype.xa=function(){Tc(this.g,"a")},hh.prototype.wa=function(e){Tc(this.g,new lh(e))},hh.prototype.va=function(e){Tc(this.g,new fh(e))},hh.prototype.ua=function(){Tc(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,ch.prototype.send=ch.prototype.u,ch.prototype.open=ch.prototype.m,ch.prototype.close=ch.prototype.close,ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,ul.COMPLETE="complete",ll.EventType=hl,hl.OPEN="a",hl.CLOSE="b",hl.ERROR="c",hl.MESSAGE="d",Sc.prototype.listen=Sc.prototype.N,Tf.prototype.listenOnce=Tf.prototype.O,Tf.prototype.getLastError=Tf.prototype.La,Tf.prototype.getLastErrorCode=Tf.prototype.Da,Tf.prototype.getStatus=Tf.prototype.ba,Tf.prototype.getResponseJson=Tf.prototype.Qa,Tf.prototype.getResponseText=Tf.prototype.ga,Tf.prototype.send=Tf.prototype.ea;var dh=ls.createWebChannelTransport=function(){return new sh},ph=ls.getStatEventTarget=function(){return Zc()},vh=ls.ErrorCode=ol,mh=ls.EventType=ul,yh=ls.Event=Xc,gh=ls.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kh=ls.FetchXmlHttpFactory=bf,bh=ls.WebChannel=ll,wh=ls.XhrIo=Tf,xh="@firebase/firestore",Eh=function(){function e(t){Ke(this,e),this.uid=t}return He(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Eh.UNAUTHENTICATED=new Eh(null),Eh.GOOGLE_CREDENTIALS=new Eh("google-credentials-uid"),Eh.FIRST_PARTY=new Eh("first-party-uid"),Eh.MOCK_USER=new Eh("mock-user");var _h="9.6.11",Ih=new wu("@firebase/firestore");function Sh(){return Ih.logLevel}function Th(e){if(Ih.logLevel<=hu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ah);Ih.debug.apply(Ih,["Firestore (".concat(_h,"): ").concat(e)].concat(ze(i)))}}function Ch(e){if(Ih.logLevel<=hu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ah);Ih.error.apply(Ih,["Firestore (".concat(_h,"): ").concat(e)].concat(ze(i)))}}function Nh(e){if(Ih.logLevel<=hu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ah);Ih.warn.apply(Ih,["Firestore (".concat(_h,"): ").concat(e)].concat(ze(i)))}}function Ah(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Oh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_h,") INTERNAL ASSERTION FAILED: ")+e;throw Ch(t),new Error(t)}function Ph(e,t){e||Oh()}function Dh(e,t){return e}var Rh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lh=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return He(n)}(zo),Mh=He((function e(){var t=this;Ke(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),jh=He((function e(t,n){Ke(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Fh=function(){function e(){Ke(this,e)}return He(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Eh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Vh=function(){function e(t){Ke(this,e),this.token=t,this.changeListener=null}return He(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Uh=function(){function e(t){Ke(this,e),this.t=t,this.currentUser=Eh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return He(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Mh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Mh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Th("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Th("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Th("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ph("string"==typeof n.accessToken),new jh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ph(null===e||"string"==typeof e),new Eh(e)}}]),e}(),Bh=He((function e(t,n,r){Ke(this,e),this.type="FirstParty",this.user=Eh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),qh=function(){function e(t,n,r){Ke(this,e),this.h=t,this.l=n,this.m=r}return He(e,[{key:"getToken",value:function(){return Promise.resolve(new Bh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Eh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),zh=He((function e(t){Ke(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Kh=function(){function e(t){Ke(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return He(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Th("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Th("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Th("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Th("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ph("string"==typeof t.token),e.p=t.token,new zh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Wh=function(){function e(t,n){var r=this;Ke(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return He(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Hh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Wh.A=-1;var Gh=function(){function e(){Ke(this,e)}return He(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Hh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Qh(e,t){return e<t?-1:e>t?1:0}function Yh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $h(e){return e+"\0"}var Xh=function(){function e(t,n){if(Ke(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Lh(Rh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lh(Rh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Lh(Rh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lh(Rh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return He(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Qh(this.nanoseconds,e.nanoseconds):Qh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Jh=function(){function e(t){Ke(this,e),this.timestamp=t}return He(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xh(0,0))}},{key:"max",value:function(){return new e(new Xh(253402300799,999999999))}}]),e}();function Zh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ed(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function td(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var nd=function(){function e(t,n,r){Ke(this,e),void 0===n?n=0:n>t.length&&Oh(),void 0===r?r=t.length-n:r>t.length-n&&Oh(),this.segments=t,this.offset=n,this.len=r}return He(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),rd=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ze(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nd),id=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ad=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return id.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Lh(Rh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Lh(Rh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Lh(Rh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nd),od=function(){function e(t){Ke(this,e),this.fields=t,t.sort(ad.comparator)}return He(e,[{key:"covers",value:function(e){var t,n=zn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Yh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ud=function(e){function t(e){Ke(this,t),this.binaryString=e}return He(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Qh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ud.EMPTY_BYTE_STRING=new ud("");var sd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cd(e){if(Ph(!!e),"string"==typeof e){var t=0,n=sd.exec(e);if(Ph(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ld(e.seconds),nanos:ld(e.nanos)}}function ld(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fd(e){return"string"==typeof e?ud.fromBase64String(e):ud.fromUint8Array(e)}function hd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dd(e){var t=e.mapValue.fields.__previous_value__;return hd(t)?dd(t):t}function pd(e){var t=cd(e.mapValue.fields.__local_write_time__.timestampValue);return new Xh(t.seconds,t.nanos)}var vd=He((function e(t,n,r,i,a,o,u,s){Ke(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),md=function(){function e(t,n){Ke(this,e),this.projectId=t,this.database=n||"(default)"}return He(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function yd(e){return null==e}function gd(e){return 0===e&&1/e==-1/0}function kd(e){return"number"==typeof e&&Number.isInteger(e)&&!gd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var bd=function(){function e(t){Ke(this,e),this.path=t}return He(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===rd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(rd.fromString(t))}},{key:"fromName",value:function(t){return new e(rd.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(rd.emptyPath())}},{key:"comparator",value:function(e,t){return rd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new rd(t.slice()))}}]),e}(),wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xd={nullValue:"NULL_VALUE"};function Ed(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hd(e)?4:jd(e)?9:10:Oh()}function _d(e,t){if(e===t)return!0;var n=Ed(e);if(n!==Ed(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pd(e).isEqual(pd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=cd(e.timestampValue),r=cd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fd(e.bytesValue).isEqual(fd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ld(e.geoPointValue.latitude)===ld(t.geoPointValue.latitude)&&ld(e.geoPointValue.longitude)===ld(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ld(e.integerValue)===ld(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ld(e.doubleValue),r=ld(t.doubleValue);return n===r?gd(n)===gd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yh(e.arrayValue.values||[],t.arrayValue.values||[],_d);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zh(n)!==Zh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_d(n[i],r[i])))return!1;return!0}(e,t);default:return Oh()}}function Id(e,t){return void 0!==(e.values||[]).find((function(e){return _d(e,t)}))}function Sd(e,t){if(e===t)return 0;var n=Ed(e),r=Ed(t);if(n!==r)return Qh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ld(e.integerValue||e.doubleValue),r=ld(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Td(e.timestampValue,t.timestampValue);case 4:return Td(pd(e),pd(t));case 5:return Qh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fd(e),r=fd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Qh(n[i],r[i]);if(0!==a)return a}return Qh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qh(ld(e.latitude),ld(t.latitude));return 0!==n?n:Qh(ld(e.longitude),ld(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sd(n[i],r[i]);if(a)return a}return Qh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Qh(r[o],a[o]);if(0!==u)return u;var s=Sd(n[r[o]],i[a[o]]);if(0!==s)return s}return Qh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Oh()}}function Td(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qh(e,t);var n=cd(e),r=cd(t),i=Qh(n.seconds,r.seconds);return 0!==i?i:Qh(n.nanos,r.nanos)}function Cd(e){return Nd(e)}function Nd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=cd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=zn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Nd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=zn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Nd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Oh();var t,n}function Ad(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Od(e){return!!e&&"integerValue"in e}function Pd(e){return!!e&&"arrayValue"in e}function Dd(e){return!!e&&"nullValue"in e}function Rd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ld(e){return!!e&&"mapValue"in e}function Md(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ed(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Md(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Md(e.arrayValue.values[r]);return n}return Object.assign({},e)}function jd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fd(e){return"nullValue"in e?xd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ad(md.empty(),bd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Oh()}function Vd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ad(md.empty(),bd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?wd:Oh()}function Ud(e,t){return void 0===e?t:void 0===t||Sd(e,t)>0?e:t}function Bd(e,t){return void 0===e?t:void 0===t||Sd(e,t)<0?e:t}var qd=function(){function e(t){Ke(this,e),this.value=t}return He(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ld(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(t)}},{key:"setAll",value:function(e){var t=this,n=ad.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Md(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return _d(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ld(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ed(t,(function(t,n){return e[t]=n}));var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Md(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zd(e){var t=[];return ed(e.fields,(function(e,n){var r=new ad([e]);if(Ld(n)){var i=zd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=zn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new od(t)}var Kd=function(){function e(t,n,r,i,a,o){Ke(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return He(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=qd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=qd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Jh.min(),Jh.min(),qd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Jh.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Jh.min(),qd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Jh.min(),qd.empty(),2)}}]),e}(),Wd=He((function e(t,n,r,i){Ke(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Hd(e){return e.fields.find((function(e){return 2===e.kind}))}function Gd(e){return e.fields.filter((function(e){return 2!==e.kind}))}Wd.UNKNOWN_ID=-1;var Qd=He((function e(t,n){Ke(this,e),this.fieldPath=t,this.kind=n})),Yd=function(){function e(t,n){Ke(this,e),this.sequenceNumber=t,this.offset=n}return He(e,null,[{key:"empty",value:function(){return new e(0,Jd.min())}}]),e}();function $d(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jh.fromTimestamp(1e9===r?new Xh(n+1,0):new Xh(n,r));return new Jd(i,bd.empty(),t)}function Xd(e){return new Jd(e.readTime,e.key,-1)}var Jd=function(){function e(t,n,r){Ke(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return He(e,null,[{key:"min",value:function(){return new e(Jh.min(),bd.empty(),-1)}},{key:"max",value:function(){return new e(Jh.max(),bd.empty(),-1)}}]),e}();function Zd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=bd.comparator(e.documentKey,t.documentKey))?n:Qh(e.largestBatchId,t.largestBatchId)}var ep=He((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ke(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function tp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ep(e,t,n,r,i,a,o)}function np(e){var t=Dh(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Cd(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),yd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Cd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Cd(e)})).join(",")),t.P=n}return t.P}function rp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!_d(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wp(e.startAt,t.startAt)&&wp(e.endAt,t.endAt)}function ip(e){return bd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ap(e,t){return e.filters.filter((function(e){return e instanceof sp&&e.field.isEqual(t)}))}function op(e,t,n){var r,i,a=!0,o=zn(ap(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=Fd(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=xd}Ud(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ud(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function up(e,t,n){var r,i,a=!0,o=zn(ap(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=Vd(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=wd}Bd(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Bd(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var sp=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return He(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Sd(t,this.value)):null!==t&&Ed(this.value)===Ed(t)&&this.v(Sd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Oh()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new cp(e,t,r):"array-contains"===t?new dp(e,r):"in"===t?new pp(e,r):"not-in"===t?new vp(e,r):"array-contains-any"===t?new mp(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new lp(e,n):new fp(e,n)}}]),n}(function(){return He((function e(){Ke(this,e)}))}()),cp=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this,e,r,i)).key=bd.fromName(i.referenceValue),a}return He(n,[{key:"matches",value:function(e){var t=bd.comparator(e.key,this.key);return this.v(t)}}]),n}(sp),lp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,"in",r)).keys=hp("in",r),i}return He(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sp),fp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,"not-in",r)).keys=hp("not-in",r),i}return He(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sp);function hp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bd.fromName(e.referenceValue)}))}var dp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"array-contains",r)}return He(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pd(t)&&Id(t.arrayValue,this.value)}}]),n}(sp),pp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"in",r)}return He(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Id(this.value.arrayValue,t)}}]),n}(sp),vp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"not-in",r)}return He(n,[{key:"matches",value:function(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Id(this.value.arrayValue,t)}}]),n}(sp),mp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"array-contains-any",r)}return He(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Id(t.value.arrayValue,e)}))}}]),n}(sp),yp=He((function e(t,n){Ke(this,e),this.position=t,this.inclusive=n})),gp=He((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ke(this,e),this.field=t,this.dir=n}));function kp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bd.comparator(bd.fromName(o.referenceValue),n.key):Sd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function wp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_d(e.position[n],t.position[n]))return!1;return!0}var xp=He((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ke(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Ep(e,t,n,r,i,a,o,u){return new xp(e,t,n,r,i,a,o,u)}function _p(e){return new xp(e)}function Ip(e){return!yd(e.limit)&&"F"===e.limitType}function Sp(e){return!yd(e.limit)&&"L"===e.limitType}function Tp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cp(e){var t,n=zn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Np(e){return null!==e.collectionGroup}function Ap(e){var t=Dh(e);if(null===t.D){t.D=[];var n=Cp(t),r=Tp(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new gp(n)),t.D.push(new gp(ad.keyField(),"asc"));else{var i,a=!1,o=zn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new gp(ad.keyField(),s))}}}return t.D}function Op(e){var t=Dh(e);if(!t.C)if("F"===t.limitType)t.C=tp(t.path,t.collectionGroup,Ap(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=zn(Ap(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new yp(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new yp(t.startAt.position,!t.startAt.inclusive):null;t.C=tp(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Pp(e,t,n){return new xp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dp(e,t){return rp(Op(e),Op(t))&&e.limitType===t.limitType}function Rp(e){return"".concat(np(Op(e)),"|lt:").concat(e.limitType)}function Lp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Cd(t.value));var t})).join(", "),"]")),yd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Cd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Cd(e)})).join(",")),"Target(".concat(t,")")}(Op(e)),"; limitType=").concat(e.limitType,")")}function Mp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=zn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=zn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=bp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ap(e),t))&&!(e.endAt&&!function(e,t,n){var r=bp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ap(e),t))}(e,t)}function jp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fp(e){return function(t,n){var r,i=!1,a=zn(Ap(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Vp(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Vp(e,t,n){var r=e.field.isKeyField()?bd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sd(r,i):Oh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Oh()}}function Up(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(t)?"-0":t}}function Bp(e){return{integerValue:""+e}}function qp(e,t){return kd(t)?Bp(t):Up(e,t)}var zp=He((function e(){Ke(this,e),this._=void 0}));function Kp(e,t,n){return e instanceof Gp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qp?Yp(e,t):e instanceof $p?Xp(e,t):function(e,t){var n=Hp(e,t),r=Zp(n)+Zp(e.k);return Od(n)&&Od(e.k)?Bp(r):Up(e.M,r)}(e,t)}function Wp(e,t,n){return e instanceof Qp?Yp(e,t):e instanceof $p?Xp(e,t):n}function Hp(e,t){return e instanceof Jp?Od(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gp=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n)}(zp),Qp=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).elements=e,r}return He(n)}(zp);function Yp(e,t){var n,r=ev(t),i=zn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return _d(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $p=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).elements=e,r}return He(n)}(zp);function Xp(e,t){var n,r=ev(t),i=zn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!_d(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jp=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).M=e,i.k=r,i}return He(n)}(zp);function Zp(e){return ld(e.integerValue||e.doubleValue)}function ev(e){return Pd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tv=He((function e(t,n){Ke(this,e),this.field=t,this.transform=n}));var nv=He((function e(t,n){Ke(this,e),this.version=t,this.transformResults=n})),rv=function(){function e(t,n){Ke(this,e),this.updateTime=t,this.exists=n}return He(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function iv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var av=He((function e(){Ke(this,e)}));function ov(e,t,n){e instanceof fv?function(e,t,n){var r=e.value.clone(),i=pv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hv?function(e,t,n){if(iv(e.precondition,t)){var r=pv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uv(e,t,n){e instanceof fv?function(e,t,n){if(iv(e.precondition,t)){var r=e.value.clone(),i=vv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(lv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof hv?function(e,t,n){if(iv(e.precondition,t)){var r=vv(e.fieldTransforms,n,t),i=t.data;i.setAll(dv(e)),i.setAll(r),t.convertToFoundDocument(lv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){iv(e.precondition,t)&&t.convertToNoDocument(Jh.min())}(e,t)}function sv(e,t){var n,r=null,i=zn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Hp(a.transform,o||null);null!=u&&(null==r&&(r=qd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function cv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qp&&t instanceof Qp||e instanceof $p&&t instanceof $p?Yh(e.elements,t.elements,_d):e instanceof Jp&&t instanceof Jp?_d(e.k,t.k):e instanceof Gp&&t instanceof Gp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function lv(e){return e.isFoundDocument()?e.version:Jh.min()}var fv=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ke(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return He(n)}(av),hv=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ke(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return He(n)}(av);function dv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pv(e,t,n){var r=new Map;Ph(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Wp(o,u,n[i]))}return r}function vv(e,t,n){var r,i=new Map,a=zn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Kp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var mv,yv,gv=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return He(n)}(av),kv=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return He(n)}(av),bv=He((function e(t){Ke(this,e),this.count=t}));function wv(e){switch(e){default:return Oh();case Rh.CANCELLED:case Rh.UNKNOWN:case Rh.DEADLINE_EXCEEDED:case Rh.RESOURCE_EXHAUSTED:case Rh.INTERNAL:case Rh.UNAVAILABLE:case Rh.UNAUTHENTICATED:return!1;case Rh.INVALID_ARGUMENT:case Rh.NOT_FOUND:case Rh.ALREADY_EXISTS:case Rh.PERMISSION_DENIED:case Rh.FAILED_PRECONDITION:case Rh.ABORTED:case Rh.OUT_OF_RANGE:case Rh.UNIMPLEMENTED:case Rh.DATA_LOSS:return!0}}function xv(e){if(void 0===e)return Ch("GRPC error has no .code"),Rh.UNKNOWN;switch(e){case mv.OK:return Rh.OK;case mv.CANCELLED:return Rh.CANCELLED;case mv.UNKNOWN:return Rh.UNKNOWN;case mv.DEADLINE_EXCEEDED:return Rh.DEADLINE_EXCEEDED;case mv.RESOURCE_EXHAUSTED:return Rh.RESOURCE_EXHAUSTED;case mv.INTERNAL:return Rh.INTERNAL;case mv.UNAVAILABLE:return Rh.UNAVAILABLE;case mv.UNAUTHENTICATED:return Rh.UNAUTHENTICATED;case mv.INVALID_ARGUMENT:return Rh.INVALID_ARGUMENT;case mv.NOT_FOUND:return Rh.NOT_FOUND;case mv.ALREADY_EXISTS:return Rh.ALREADY_EXISTS;case mv.PERMISSION_DENIED:return Rh.PERMISSION_DENIED;case mv.FAILED_PRECONDITION:return Rh.FAILED_PRECONDITION;case mv.ABORTED:return Rh.ABORTED;case mv.OUT_OF_RANGE:return Rh.OUT_OF_RANGE;case mv.UNIMPLEMENTED:return Rh.UNIMPLEMENTED;case mv.DATA_LOSS:return Rh.DATA_LOSS;default:return Oh()}}(yv=mv||(mv={}))[yv.OK=0]="OK",yv[yv.CANCELLED=1]="CANCELLED",yv[yv.UNKNOWN=2]="UNKNOWN",yv[yv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yv[yv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yv[yv.NOT_FOUND=5]="NOT_FOUND",yv[yv.ALREADY_EXISTS=6]="ALREADY_EXISTS",yv[yv.PERMISSION_DENIED=7]="PERMISSION_DENIED",yv[yv.UNAUTHENTICATED=16]="UNAUTHENTICATED",yv[yv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yv[yv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yv[yv.ABORTED=10]="ABORTED",yv[yv.OUT_OF_RANGE=11]="OUT_OF_RANGE",yv[yv.UNIMPLEMENTED=12]="UNIMPLEMENTED",yv[yv.INTERNAL=13]="INTERNAL",yv[yv.UNAVAILABLE=14]="UNAVAILABLE",yv[yv.DATA_LOSS=15]="DATA_LOSS";var Ev=function(){function e(t,n){Ke(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return He(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ed(this.inner,(function(t,n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return td(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),_v=function(){function e(t,n){Ke(this,e),this.comparator=t,this.root=n||Sv.EMPTY}return He(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Iv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Iv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Iv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Iv(this.root,e,this.comparator,!0)}}]),e}(),Iv=function(){function e(t,n,r,i){Ke(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return He(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sv=function(){function e(t,n,r,i,a){Ke(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return He(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Oh();if(this.right.isRed())throw Oh();var e=this.left.check();if(e!==this.right.check())throw Oh();return e+(this.isRed()?0:1)}}]),e}();Sv.EMPTY=null,Sv.RED=!0,Sv.BLACK=!1,Sv.EMPTY=new(function(){function e(){Ke(this,e),this.size=0}return He(e,[{key:"key",get:function(){throw Oh()}},{key:"value",get:function(){throw Oh()}},{key:"color",get:function(){throw Oh()}},{key:"left",get:function(){throw Oh()}},{key:"right",get:function(){throw Oh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Tv=function(){function e(t){Ke(this,e),this.comparator=t,this.data=new _v(this.comparator)}return He(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cv=function(){function e(t){Ke(this,e),this.iter=t}return He(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Nv(e){return e.hasNext()?e.getNext():void 0}var Av=new _v(bd.comparator);function Ov(){return Av}var Pv=new _v(bd.comparator);function Dv(){return Pv}function Rv(){return new Ev((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Lv=new _v(bd.comparator),Mv=new Tv(bd.comparator);function jv(){for(var e=Mv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Fv=new Tv(Qh);function Vv(){return Fv}var Uv=function(){function e(t,n,r,i,a){Ke(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return He(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Bv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jh.min(),r,Vv(),Ov(),jv())}}]),e}(),Bv=function(){function e(t,n,r,i,a){Ke(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return He(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ud.EMPTY_BYTE_STRING,n,jv(),jv(),jv())}}]),e}(),qv=He((function e(t,n,r,i){Ke(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),zv=He((function e(t,n){Ke(this,e),this.targetId=t,this.$=n})),Kv=He((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ud.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ke(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Wv=function(){function e(){Ke(this,e),this.B=0,this.L=Qv(),this.U=ud.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return He(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=jv(),t=jv(),n=jv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Oh()}})),new Bv(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Qv()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Hv=function(){function e(t){Ke(this,e),this.nt=t,this.st=new Map,this.it=Ov(),this.rt=Gv(),this.ot=new Tv(Qh)}return He(e,[{key:"ut",value:function(e){var t,n=zn(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=zn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Oh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(ip(i))if(0===n){var a=new bd(i.path);this.ct(t,a,Kd.newNoDocument(a,Jh.min()))}else Ph(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ip(a.target)){var o=new bd(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Kd.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=jv();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Uv(e,n,this.ot,this.it,r);return this.it=Ov(),this.rt=Gv(),this.ot=new Tv(Qh),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Wv,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Tv(Qh),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Th("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Wv),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Gv(){return new _v(bd.comparator)}function Qv(){return new _v(bd.comparator)}var Yv={asc:"ASCENDING",desc:"DESCENDING"},$v={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xv=He((function e(t,n){Ke(this,e),this.databaseId=t,this.N=n}));function Jv(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zv(e,t){return e.N?t.toBase64():t.toUint8Array()}function em(e,t){return Jv(e,t.toTimestamp())}function tm(e){return Ph(!!e),Jh.fromTimestamp(function(e){var t=cd(e);return new Xh(t.seconds,t.nanos)}(e))}function nm(e,t){return function(e){return new rd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function rm(e){var t=rd.fromString(e);return Ph(Sm(t)),t}function im(e,t){return nm(e.databaseId,t.path)}function am(e,t){var n=rm(t);if(n.get(1)!==e.databaseId.projectId)throw new Lh(Rh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lh(Rh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bd(cm(n))}function om(e,t){return nm(e.databaseId,t)}function um(e){var t=rm(e);return 4===t.length?rd.emptyPath():cm(t)}function sm(e){return new rd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cm(e){return Ph(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lm(e,t,n){return{name:im(e,t),fields:n.value.mapValue.fields}}function fm(e,t,n){var r=am(e,t.name),i=tm(t.updateTime),a=new qd({mapValue:{fields:t.fields}}),o=Kd.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function hm(e,t){return"found"in t?function(e,t){Ph(!!t.found),t.found.name,t.found.updateTime;var n=am(e,t.found.name),r=tm(t.found.updateTime),i=new qd({mapValue:{fields:t.found.fields}});return Kd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ph(!!t.missing),Ph(!!t.readTime);var n=am(e,t.missing),r=tm(t.readTime);return Kd.newNoDocument(n,r)}(e,t):Oh()}function dm(e,t){var n;if(t instanceof fv)n={update:lm(e,t.key,t.value)};else if(t instanceof gv)n={delete:im(e,t.key)};else if(t instanceof hv)n={update:lm(e,t.key,t.data),updateMask:Im(t.fieldMask)};else{if(!(t instanceof kv))return Oh();n={verify:im(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $p)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jp)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Oh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:em(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Oh()}(e,t.precondition)),n}function pm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rv.updateTime(tm(e.updateTime)):void 0!==e.exists?rv.exists(e.exists):rv.none()}(t.currentDocument):rv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ph("REQUEST_TIME"===t.setToServerValue),n=new Gp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $p(i)}else"increment"in t?n=new Jp(e,t.increment):Oh();var a=ad.fromServerFormat(t.fieldPath);return new tv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=am(e,t.update.name),a=new qd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new od(t.map((function(e){return ad.fromServerFormat(e)})))}(t.updateMask);return new hv(i,a,o,n,r)}return new fv(i,a,n,r)}if(t.delete){var u=am(e,t.delete);return new gv(u,n)}if(t.verify){var s=am(e,t.verify);return new kv(s,n)}return Oh()}function vm(e,t){return{documents:[om(e,t.path)]}}function mm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=om(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=om(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Rd(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NAN"}};if(Dd(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rd(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NOT_NAN"}};if(Dd(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wm(e.field),op:bm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wm(e.field),direction:km(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||yd(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ym(e){var t=um(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ph(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=gm(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new gp(xm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return yd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new yp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new yp(n,t)}(n.endAt)),Ep(t,i,u,o,s,"F",c,l)}function gm(e){return e?void 0!==e.unaryFilter?[_m(e)]:void 0!==e.fieldFilter?[Em(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return gm(e)})).reduce((function(e,t){return e.concat(t)})):Oh():[]}function km(e){return Yv[e]}function bm(e){return $v[e]}function wm(e){return{fieldPath:e.canonicalString()}}function xm(e){return ad.fromServerFormat(e.fieldPath)}function Em(e){return sp.create(xm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oh()}}(e.fieldFilter.op),e.fieldFilter.value)}function _m(e){switch(e.unaryFilter.op){case"IS_NAN":var t=xm(e.unaryFilter.field);return sp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=xm(e.unaryFilter.field);return sp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xm(e.unaryFilter.field);return sp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xm(e.unaryFilter.field);return sp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Oh()}}function Im(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Sm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Tm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Nm(t)),t=Cm(e.get(n),t);return Nm(t)}function Cm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Nm(e){return e+"\x01\x01"}function Am(e){var t=e.length;if(Ph(t>=2),2===t)return Ph("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),rd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Oh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Oh()}a=o+2}return new rd(r)}var Om=["userId","batchId"];function Pm(e,t){return[e,Tm(t)]}function Dm(e,t,n){return[e,Tm(t),n]}var Rm={},Lm=["prefixPath","collectionGroup","readTime","documentId"],Mm=["prefixPath","collectionGroup","documentId"],jm=["collectionGroup","readTime","prefixPath","documentId"],Fm=["canonicalId","targetId"],Vm=["targetId","path"],Um=["path","targetId"],Bm=["collectionId","parent"],qm=["indexId","uid"],zm=["uid","sequenceNumber"],Km=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wm=["indexId","uid","orderedDocumentKey"],Hm=["userId","collectionPath","documentId"],Gm=["userId","collectionPath","largestBatchId"],Qm=["userId","collectionGroup","largestBatchId"],Ym=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),$m=[].concat(ze(Ym),["documentOverlays"]),Xm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jm=[].concat(Xm,["indexConfiguration","indexState","indexEntries"]),Zm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ey=function(){function e(){Ke(this,e),this.onCommittedListeners=[]}return He(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ty=function(){function e(t){var n=this;Ke(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return He(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Oh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=zn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ny=function(){function e(t,n){var r=this;Ke(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Mh,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new ay(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=ly(e.target.error);r.At.reject(new ay(t,n))}}return He(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Th("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new uy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ay(n,t)}}}]),e}(),ry=function(){function e(t,n,r){Ke(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(Mo())&&Ch("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return He(e,[{key:"Nt",value:function(){var e=Io(To().mark((function e(t){var n=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Th("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ay(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lh(Rh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Lh(Rh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ay(t,n))},i.onupgradeneeded=function(e){Th("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Th("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Io(To().mark((function e(t,n,r,i){var a,o,u,s,c=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(To().mark((function e(){var n,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ny.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),ty.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Th("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Th("SimpleDb","Removing database:",e),sy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!qo())return!1;if(e.St())return!0;var t=Mo(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/emuruags.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),iy=function(){function e(t){Ke(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return He(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return sy(this.Ft.delete())}}]),e}(),ay=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,Rh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return He(n)}(Lh);function oy(e){return"IndexedDbTransactionError"===e.name}var uy=function(){function e(t){Ke(this,e),this.store=t}return He(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Th("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Th("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sy(n)}},{key:"add",value:function(e){return Th("SimpleDb","ADD",this.store.name,e,e),sy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return sy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Th("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Th("SimpleDb","DELETE",this.store.name,e),sy(this.store.delete(e))}},{key:"count",value:function(){return Th("SimpleDb","COUNT",this.store.name),sy(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ty((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ty((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Th("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ty((function(n,r){t.onerror=function(e){var t=ly(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ty((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new iy(i),o=t(i.primaryKey,i.value,a);if(o instanceof ty){var u=o.catch((function(e){return a.done(),ty.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ty.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function sy(e){return new ty((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ly(e.target.error);n(t)}}))}var cy=!1;function ly(e){var t=ry.Vt(Mo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Lh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cy||(cy=!0,setTimeout((function(){throw r}),0)),r}}return e}var fy=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return He(n)}(ey);function hy(e,t){var n=Dh(e);return ry.xt(n.Ht,t)}var dy=function(){function e(t,n,r,i){Ke(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return He(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ov(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=zn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&uv(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=zn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&uv(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Jh.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Yh(this.mutations,e.mutations,(function(e,t){return cv(e,t)}))&&Yh(this.baseMutations,e.baseMutations,(function(e,t){return cv(e,t)}))}}]),e}(),py=function(){function e(t,n,r,i){Ke(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return He(e,null,[{key:"from",value:function(t,n,r){Ph(t.mutations.length===r.length);for(var i=Lv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),vy=function(){function e(t,n){Ke(this,e),this.largestBatchId=t,this.mutation=n}return He(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),my=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jh.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ud.EMPTY_BYTE_STRING;Ke(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return He(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),yy=He((function e(t){Ke(this,e),this.Jt=t}));function gy(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ky(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:im(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Jv(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:by(t.version)};else{if(!t.isUnknownDocument())return Oh();r.unknownDocument={path:n.path.toArray(),version:by(t.version)}}return r}function ky(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function by(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wy(e){var t=new Xh(e.seconds,e.nanoseconds);return Jh.fromTimestamp(t)}function xy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return pm(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return pm(e.Jt,t)})),u=Xh.fromMillis(t.localWriteTimeMs);return new dy(t.batchId,u,n,o)}function Ey(e){var t,n,r=wy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?wy(e.lastLimboFreeSnapshotVersion):Jh.min();return void 0!==e.query.documents?(Ph(1===(n=e.query).documents.length),t=Op(_p(um(n.documents[0])))):t=function(e){return Op(ym(e))}(e.query),new my(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ud.fromBase64String(e.resumeToken))}function _y(e,t){var n,r=by(t.snapshotVersion),i=by(t.lastLimboFreeSnapshotVersion);n=ip(t.target)?vm(e.Jt,t.target):mm(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:np(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Iy(e){var t=ym({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pp(t,t.limit,"L"):t}function Sy(e,t){return new vy(t.largestBatchId,pm(e.Jt,t.overlayMutation))}function Ty(e,t){var n=t.path.lastSegment();return[e,Tm(t.path.popLast()),n]}var Cy=function(){function e(){Ke(this,e)}return He(e,[{key:"getBundleMetadata",value:function(e,t){return Ny(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:wy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ny(e).put({bundleId:(n=t).id,createTime:by(tm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ay(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Iy(t.bundledQuery),readTime:wy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ay(e).put(function(e){return{name:e.name,readTime:by(tm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ny(e){return hy(e,"bundles")}function Ay(e){return hy(e,"namedQueries")}var Oy=function(){function e(t,n){Ke(this,e),this.M=t,this.userId=n}return He(e,[{key:"getOverlay",value:function(e,t){var n=this;return Py(e).get(Ty(this.userId,t)).next((function(e){return e?Sy(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new vy(t,a);i.push(r.Xt(e,o))})),ty.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Tm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Py(e).Qt("collectionPathOverlayIndex",i))})),ty.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Rv(),a=Tm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Py(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=zn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Sy(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Rv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Py(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Sy(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Py(e).put(function(e,t,n){var r=f(Ty(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:dm(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Py(e){return hy(e,"documentOverlays")}var Dy=function(){function e(){Ke(this,e)}return He(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ld(e.integerValue));else if("doubleValue"in e){var n=ld(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),gd(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(fd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?jd(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Oh()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),bd.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Ry(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ly(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ry(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Dy.fe=new Dy;var My=function(){function e(){Ke(this,e),this.buffer=new Uint8Array(1024),this.position=0}return He(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=zn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=zn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Ly(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Ly(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jy=function(){function e(t){Ke(this,e),this.De=t}return He(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),Fy=function(){function e(t){Ke(this,e),this.De=t}return He(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Vy=function(){function e(){Ke(this,e),this.De=new My,this.Ce=new jy(this.De),this.xe=new Fy(this.De)}return He(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Uy=function(){function e(t,n,r,i){Ke(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return He(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function By(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=qy(e.arrayValue,t.arrayValue))?n:0!==(n=qy(e.directionalValue,t.directionalValue))?n:bd.comparator(e.documentKey,t.documentKey)}function qy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var zy=function(){function e(t){Ke(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=zn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return He(e,[{key:"$e",value:function(e){var t=Hd(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Gd(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=zn(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Ky=function(){function e(){Ke(this,e),this.qe=new Wy}return He(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ty.resolve()}},{key:"getCollectionParents",value:function(e,t){return ty.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ty.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ty.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ty.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return ty.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return ty.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ty.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return ty.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ty.resolve()}}]),e}(),Wy=function(){function e(){Ke(this,e),this.index={}}return He(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tv(rd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Tv(rd.comparator)).toArray()}}]),e}(),Hy=new Uint8Array(0),Gy=function(){function e(t,n){Ke(this,e),this.user=t,this.databaseId=n,this.Ke=new Wy,this.Ge=new Ev((function(e){return np(e)}),(function(e,t){return rp(e,t)})),this.uid=t.uid||""}return He(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Tm(i)};return Qy(e).put(a)}return ty.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$h(t),""],!1,!0);return Qy(e).qt(r).next((function(e){var r,i=zn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Am(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=$y(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=$y(e),r=Xy(e),i=Yy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Yy(e),i=!0,a=new Map;return ty.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=jv(),o=[];return ty.forEach(a,(function(i,a){var u;Th("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(np(t)));var s=function(e,t){var n=Hd(t);if(void 0===n)return null;var r,i=zn(ap(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=zn(Gd(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=zn(ap(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=zn(Gd(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?op(e,o.fieldPath,e.startAt):up(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new yp(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=zn(Gd(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?up(e,o.fieldPath,e.endAt):op(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new yp(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return ty.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=bd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ty.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Hy,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,ze(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Uy(e,bd.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Uy(e,bd.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Uy(e,bd.empty(),Hy,Hy)}},{key:"getFieldIndex",value:function(e,t){var n=new zy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Vy,i=zn(Gd(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Dy.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Vy;return Dy.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Vy;return Dy.fe.Zt(Ad(this.databaseId,t),n.Ne(function(e){var t=Gd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Vy);var i,a=0,o=zn(Gd(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=zn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Pd(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Dy.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=ze(e),a=[],o=zn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=zn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Vy;f.seed(l.Se()),Dy.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof sp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=$y(e),i=Xy(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ty.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Yd(t.sequenceNumber,new Jd(wy(t.readTime),new bd(Am(t.documentKey)),t.largestBatchId)):Yd.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Qd(ad.fromServerFormat(n),r)}));return new Wd(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Qh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=$y(e),a=Xy(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ty.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:by(r.readTime),documentKey:Tm(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ty.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ty.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ty.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?ty.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Yy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Yy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Yy(e),i=new Tv(By);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Uy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Tv(By),r=this.Ze(t,e);if(null==r)return n;var i=Hd(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Pd(a)){var o,u=zn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Uy(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Uy(t.indexId,e.key,Hy,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Th("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Nv(a),s=Nv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Nv(o)):l?(i(u),u=Nv(a)):(u=Nv(a),s=Nv(o))}}(r,i,By,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),ty.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Xy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return By(e,t)})).filter((function(e,t,n){return!t||0!==By(e,n[t-1])}));var r=[];r.push(e);var i,a=zn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=By(o,e),s=By(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Hy,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Hy,[]]));return c}}]),e}();function Qy(e){return hy(e,"collectionParents")}function Yy(e){return hy(e,"indexEntries")}function $y(e){return hy(e,"indexConfiguration")}function Xy(e){return hy(e,"indexState")}var Jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zy=function(){function e(t,n,r){Ke(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return He(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function eg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ph(1===u)})));var c,l=[],f=zn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Dm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ty.waitFor(a).next((function(){return l}))}function tg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Oh();t=e.noDocument}return JSON.stringify(t).length}Zy.DEFAULT_COLLECTION_PERCENTILE=10,Zy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zy.DEFAULT=new Zy(41943040,Zy.DEFAULT_COLLECTION_PERCENTILE,Zy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zy.DISABLED=new Zy(-1,0,0);var ng=function(){function e(t,n,r,i){Ke(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return He(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ig(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ag(e),o=ig(e);return o.add({}).next((function(u){Ph("number"==typeof u);var s,c=new dy(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return dm(e.Jt,t)})),i=n.mutations.map((function(t){return dm(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Tv((function(e,t){return Qh(e.canonicalString(),t.canonicalString())})),d=zn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Dm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Rm))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),ty.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ig(e).get(t).next((function(e){return e?(Ph(e.userId===n.userId),xy(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?ty.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ig(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ph(t.batchId>=r),a=xy(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ig(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ig(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return xy(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Pm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ag(e).Wt({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],h=Am(c);if(s===n.userId&&t.path.isEqual(h))return ig(e).get(l).next((function(e){if(!e)throw Oh();Ph(e.userId===n.userId),a.push(xy(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tv(Qh),i=[];return t.forEach((function(t){var a=Pm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ag(e).Wt({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=Am(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ty.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Pm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Tv(Qh);return ag(e).Wt({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],h=Am(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ig(e).get(t).next((function(e){if(null===e)throw Oh();Ph(e.userId===n.userId),r.push(xy(n.M,e))})))})),ty.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return eg(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),ty.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ty.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ag(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Am(e[1]);i.push(a)}else r.done()})).next((function(){Ph(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return rg(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return og(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Ph(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function rg(e,t,n){var r=Pm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ag(e).Wt({range:a,jt:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ig(e){return hy(e,"mutations")}function ag(e){return hy(e,"documentMutations")}function og(e){return hy(e,"mutationQueues")}var ug=function(){function e(t){Ke(this,e),this.mn=t}return He(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),sg=function(){function e(t,n){Ke(this,e),this.referenceDelegate=t,this.M=n}return He(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new ug(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Jh.fromTimestamp(new Xh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return cg(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Ph(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return cg(e).Wt((function(o,u){var s=Ey(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ty.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return cg(e).Wt((function(e,n){var r=Ey(n);t(r)}))}},{key:"pn",value:function(e){return lg(e).get("targetGlobalKey").next((function(e){return Ph(null!==e),e}))}},{key:"In",value:function(e,t){return lg(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return cg(e).put(_y(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=np(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cg(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ey(n);rp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=fg(e);return t.forEach((function(t){var o=Tm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ty.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=fg(e);return ty.forEach(t,(function(t){var a=Tm(t.path);return ty.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=fg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fg(e),i=jv();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Am(e[1]),a=new bd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Tm(t.path),r=IDBKeyRange.bound([n],[$h(n)],!1,!0),i=0;return fg(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return cg(e).get(t).next((function(e){return e?Ey(e):null}))}}]),e}();function cg(e){return hy(e,"targets")}function lg(e){return hy(e,"targetGlobal")}function fg(e){return hy(e,"targetDocuments")}function hg(e){return dg.apply(this,arguments)}function dg(){return dg=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Rh.FAILED_PRECONDITION&&t.message===Zm){e.next=2;break}throw t;case 2:Th("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=Qh(r,o);return 0===s?Qh(i,u):s}var vg=function(){function e(t){Ke(this,e),this.An=t,this.buffer=new Tv(pg),this.Rn=0}return He(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mg=function(){function e(t,n){Ke(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return He(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Th("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Io(To().mark((function n(){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!oy(n.t0)){n.next=12;break}Th("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,hg(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),yg=function(){function e(t,n){Ke(this,e),this.Dn=t,this.params=n}return He(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ty.resolve(Wh.A);var r=new vg(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Th("LruGarbageCollector","Garbage collection skipped; disabled"),ty.resolve(Jy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Th("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Jy):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Th("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Sh()<=hu.DEBUG&&Th("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ty.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),gg=function(){function e(t,n){Ke(this,e),this.db=t,this.garbageCollector=function(e,t){return new yg(e,t)}(this,n)}return He(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return kg(e,n)}},{key:"removeReference",value:function(e,t,n){return kg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return kg(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return og(e).zt((function(r){return rg(e,r,t).next((function(e){return e&&(n=!0),ty.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Jh.min()),fg(e).delete([0,Tm(o.path)])}))}));i.push(s)}})).next((function(){return ty.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return kg(e,t)}},{key:"Mn",value:function(e,t){var n,r=fg(e),i=Wh.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Wh.A&&t(new bd(Am(n)),i),i=s,n=u):i=Wh.A})).next((function(){i!==Wh.A&&t(new bd(Am(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function kg(e,t){return fg(e).put(function(e,t){return{targetId:0,path:Tm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var bg=function(){function e(){Ke(this,e),this.changes=new Ev((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return He(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Kd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ty.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),wg=function(){function e(t){Ke(this,e),this.M=t}return He(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return _g(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return _g(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ky(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Kd.newInvalidDocument(t);return _g(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ig(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Kd.newInvalidDocument(t)};return _g(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ig(t))},(function(e,i){r={document:n.$n(t,i),size:tg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ov();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Ov(),i=new _v(bd.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,tg(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return ty.resolve();var r=new Tv(Tg);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ig(r.first()),Ig(r.last())),a=r.getIterator(),o=a.getNext();return _g(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=bd.fromSegments([].concat(ze(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Tg(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Ig(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ky(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _g(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ov(),i=zn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(bd.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ov(),o=Sg(t,n),u=Sg(t,Jd.max());return _g(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(bd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new xg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Eg(e).get("remoteDocumentGlobalKey").next((function(e){return Ph(!!e),e}))}},{key:"Fn",value:function(e,t){return Eg(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=fm(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=bd.fromSegments(t.noDocument.path),i=wy(t.noDocument.readTime);n=Kd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Oh();var a=bd.fromSegments(t.unknownDocument.path),o=wy(t.unknownDocument.version);n=Kd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Xh(e[0],e[1]);return Jh.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Jh.min()))return n}return Kd.newInvalidDocument(e)}}]),e}(),xg=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Ev((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return He(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Tv((function(e,t){return Qh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=gy(t.Kn.M,o);i=i.add(a.path.popLast());var c=tg(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=gy(t.Kn.M,o.convertToNoDocument(Jh.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(bg);function Eg(e){return hy(e,"remoteDocumentGlobal")}function _g(e){return hy(e,"remoteDocumentsV14")}function Ig(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Sg(e,t){var n=t.documentKey.path.toArray();return[e,ky(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Tg(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Qh(n[a],r[a]))return i;return(i=Qh(n.length,r.length))||((i=Qh(n[n.length-2],r[r.length-2]))||Qh(n[n.length-1],r[r.length-1]))}var Cg=function(){function e(t){Ke(this,e),this.M=t}return He(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ny("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Om,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ng(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ty.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ng(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Om,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ty.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Hm});t.createIndex("collectionPathOverlayIndex",Gm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Lm});t.createIndex("documentKeyIndex",Mm),t.createIndex("collectionGroupIndex",jm)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:qm}).createIndex("sequenceNumberIndex",zm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Km}).createIndex("documentKeyIndex",Wm,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=tg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ty.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ty.forEach(r,(function(r){Ph(r.userId===n.userId);var i=xy(t.M,r);return eg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new rd(n),o=function(e){return[0,Tm(e)]}(a);r.push(t.get(o).next((function(n){return n?ty.resolve():function(n){return t.put({targetId:0,path:Tm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ty.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Bm});var n=t.store("collectionParents"),r=new Wy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Tm(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new rd(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],Am(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Ey(r),a=_y(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new bd(rd.fromString(i.document.name).popFirst(5)):i.noDocument?bd.fromSegments(i.noDocument.path):i.unknownDocument?bd.fromSegments(i.unknownDocument.path):Oh()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ty.waitFor(r)}))}}]),e}();function Ng(e){e.createObjectStore("targetDocuments",{keyPath:Vm}).createIndex("documentTargetsIndex",Um,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fm,{unique:!0}),e.createObjectStore("targetGlobal")}var Ag="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Og=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ke(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Lh(Rh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gg(this,i),this.hs=n+"main",this.M=new yy(s),this.ls=new ry(this.hs,this.ts,new Cg(this.M)),this.fs=new sg(this.referenceDelegate,this.M),this.ds=function(e){return new wg(e)}(this.M),this._s=new Cy,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ch("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return He(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Lh(Rh.FAILED_PRECONDITION,Ag);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Wh(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Io(To().mark((function n(r){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Io(To().mark((function t(n){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Dg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(oy(t))return Th("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Th("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Pg(e).get("owner").next((function(e){return ty.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Dg(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Io(To().mark((function e(){var t,n,r,i,a=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=hy(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ty.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=zn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ty.resolve(!0):Pg(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Lh(Rh.FAILED_PRECONDITION,Ag);return!1}}return!(!t.networkEnabled||!t.inForeground)||Dg(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Th("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Io(To().mark((function e(){var t=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new fy(e,Wh.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Dg(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return ng.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Gy(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Oy.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Th("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Jm:13===i?Xm:12===i?$m:11===i?Ym:void Oh();return this.ls.runTransaction(e,o,u,(function(i){return a=new fy(i,r.es?r.es.next():Wh.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ch("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Lh(Rh.FAILED_PRECONDITION,Zm);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Pg(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Lh(Rh.FAILED_PRECONDITION,Ag)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pg(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Pg(e);return n.get("owner").next((function(e){return t.bs(e)?(Th("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ty.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ch("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Fo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Th("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ch("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(xs){Ch("Failed to set zombie client id.",xs)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(xs){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return ry.vt()}}]),e}();function Pg(e){return hy(e,"owner")}function Dg(e){return hy(e,"clientMetadata")}function Rg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Lg=function(){function e(t,n,r){Ke(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return He(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=zn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=zn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return bd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Np(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new bd(t)).next((function(e){var t=Dv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Dv();return this.indexManager.getCollectionParents(e,i).next((function(o){return ty.forEach(o,(function(o){var u=function(e,t){return new xp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=zn(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=zn(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Kd.newInvalidDocument(s),r=r.insert(s,c)),uv(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Mp(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Mg=function(){function e(t,n,r,i){Ke(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return He(e,null,[{key:"Ys",value:function(t,n){var r,i=jv(),a=jv(),o=zn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),jg=function(){function e(){Ke(this,e)}return He(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Jh.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Ip(t)||Sp(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Sh()<=hu.DEBUG&&Th("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lp(t)),i.Zs.Qs(e,t,$d(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Tv(Fp(e));return t.forEach((function(t,r){Mp(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Sh()<=hu.DEBUG&&Th("QueryEngine","Using full collection scan to execute query:",Lp(t)),this.Zs.Qs(e,t,Jd.min())}}]),e}(),Fg=function(){function e(t,n,r,i){Ke(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new _v(Qh),this.ri=new Ev((function(e){return np(e)}),rp),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return He(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Lg(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function Vg(e,t,n,r){return new Fg(e,t,n,r)}function Ug(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=jv(),s=zn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=zn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=zn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=zn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function qg(e,t){var n=Dh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ty.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ph(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function zg(e){var t=Dh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Kg(e,t){var n=Dh(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ud.EMPTY_BYTE_STRING,Jh.min()).withLastLimboFreeSnapshotVersion(Jh.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Ov();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Wg(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Jh.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ty.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function Wg(e,t,n){var r=jv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ov();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Jh.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Th("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Hg(e,t){var n=Dh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Gg(e,t){var n=Dh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,ty.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new my(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Qg(e,t,n){return Yg.apply(this,arguments)}function Yg(){return Yg=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dh(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),oy(e.t1)){e.next=12;break}throw e.t1;case 12:Th("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Yg.apply(this,arguments)}function $g(e,t,n){var r=Dh(e),i=Jh.min(),a=jv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Dh(e),i=r.ri.get(n);return void 0!==i?ty.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Op(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Jh.min(),n?a:jv())})).next((function(e){return Zg(r,jp(t),e),{documents:e,li:a}}))}))}function Xg(e,t){var n=Dh(e),r=Dh(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Jg(e,t){var n=Dh(e),r=n.oi.get(t)||Jh.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,$d(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Zg(n,t,e),e}))}function Zg(e,t,n){var r=Jh.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function ek(e,t,n,r){return tk.apply(this,arguments)}function tk(){return tk=Io(To().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Dh(t),o=jv(),u=Ov(),s=zn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Gg(a,function(e){return Op(_p(rd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Wg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=Io(To().mark((function e(t,n){var r,i,a,o=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:jv(),e.next=3,Gg(t,Op(Iy(n.bundledQuery)));case 3:return i=e.sent,a=Dh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=tm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(ud.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}var ik=function(){function e(t){Ke(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return He(e,[{key:"getBundleMetadata",value:function(e,t){return ty.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:tm(n.createTime)}),ty.resolve()}},{key:"getNamedQuery",value:function(e,t){return ty.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Iy(e.bundledQuery),readTime:tm(e.readTime)}}(t)),ty.resolve()}}]),e}(),ak=function(){function e(){Ke(this,e),this.overlays=new _v(bd.comparator),this.gi=new Map}return He(e,[{key:"getOverlay",value:function(e,t){return ty.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ty.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),ty.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Rv(),i=t.length+1,a=new bd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ty.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _v((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Rv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Rv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ty.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new vy(t,n));var a=this.gi.get(t);void 0===a&&(a=jv(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),ok=function(){function e(){Ke(this,e),this.yi=new Tv(uk.pi),this.Ii=new Tv(uk.Ti)}return He(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uk(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new uk(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new bd(new rd([])),r=new uk(n,e),i=new uk(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new bd(new rd([])),n=new uk(t,e),r=new uk(t,e+1),i=jv();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uk(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uk=function(){function e(t,n){Ke(this,e),this.key=t,this.vi=n}return He(e,null,[{key:"pi",value:function(e,t){return bd.comparator(e.key,t.key)||Qh(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Qh(e.vi,t.vi)||bd.comparator(e.key,t.key)}}]),e}(),sk=function(){function e(t,n){Ke(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Tv(uk.pi)}return He(e,[{key:"checkEmpty",value:function(e){return ty.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new dy(i,t,n,r);this.Bs.push(a);var o,u=zn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new uk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ty.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ty.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return ty.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ty.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return ty.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uk(t,0),i=new uk(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),ty.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tv(Qh);return t.forEach((function(e){var t=new uk(e,0),i=new uk(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),ty.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bd.isDocumentKey(i)||(i=i.child(""));var a=new uk(new bd(i),0),o=new Tv(Qh);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),ty.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ph(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return ty.forEach(t.mutations,(function(i){var a=new uk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uk(t,0),r=this.Di.firstAfterOrEqual(n);return ty.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,ty.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),ck=function(){function e(t){Ke(this,e),this.Mi=t,this.docs=new _v(bd.comparator),this.size=0}return He(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ty.resolve(n?n.document.mutableCopy():Kd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ov();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Kd.newInvalidDocument(e))})),ty.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ov(),i=new bd(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Zd(Xd(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ty.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Oh()}},{key:"Oi",value:function(e,t){return ty.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lk(this)}},{key:"getSize",value:function(e){return ty.resolve(this.size)}}]),e}(),lk=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).Kn=e,r}return He(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(bg),fk=function(){function e(t){Ke(this,e),this.persistence=t,this.Fi=new Ev((function(e){return np(e)}),rp),this.lastRemoteSnapshotVersion=Jh.min(),this.highestTargetId=0,this.$i=0,this.Bi=new ok,this.targetCount=0,this.Li=ug.gn()}return He(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),ty.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ty.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ty.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),ty.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),ty.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new ug(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ty.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ty.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ty.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ty.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ty.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return ty.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),ty.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ty.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),ty.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return ty.resolve(n)}},{key:"containsKey",value:function(e,t){return ty.resolve(this.Bi.containsKey(t))}}]),e}(),hk=function(){function e(t,n){var r=this;Ke(this,e),this.Ui={},this.overlays={},this.es=new Wh(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new fk(this),this.indexManager=new Ky,this.ds=new ck((function(e){return r.referenceDelegate.qi(e)})),this.M=new yy(n),this._s=new ik(this.M)}return He(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ak,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new sk(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Th("MemoryPersistence","Starting transaction:",e);var i=new dk(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return ty.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),dk=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return He(n)}(ey),pk=function(){function e(t){Ke(this,e),this.persistence=t,this.ji=new ok,this.Wi=null}return He(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Oh()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),ty.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),ty.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),ty.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ty.forEach(this.Hi,(function(r){var i=bd.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Jh.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return ty.or([function(){return ty.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function vk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function mk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function yk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var gk=function(){function e(t,n,r,i){Ke(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return He(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Lh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ch("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),kk=function(){function e(t,n,r){Ke(this,e),this.targetId=t,this.state=n,this.error=r}return He(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ch("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),bk=function(){function e(t,n){Ke(this,e),this.clientId=t,this.activeTargetIds=n}return He(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Vv(),o=0;i&&o<r.activeTargetIds.length;++o)i=kd(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ch("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),wk=function(){function e(t,n){Ke(this,e),this.clientId=t,this.onlineState=n}return He(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ch("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),xk=function(){function e(){Ke(this,e),this.activeTargetIds=Vv()}return He(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ek=function(){function e(t,n,r,i,a){Ke(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new _v(Qh),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=vk(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new xk),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return He(e,[{key:"start",value:function(){var e=Io(To().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=zn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(vk(this.persistenceKey,i)))&&(o=bk.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=zn(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(yk(this.persistenceKey,e));if(n){var r=kk.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(yk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Th("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Th("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Th("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Th("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Ch("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Io(To().mark((function e(){var r,i,a,o,u,s,c;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Wh.A;if(null!=e)try{var n=JSON.parse(e);Ph("number"==typeof n),t=n}catch(e){Ch("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Wh.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new gk(this.currentUser,e,t,n),i=mk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=mk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=yk(this.persistenceKey,e),i=new kk(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return bk.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gk.Yi(new Eh(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return kk.Yi(r,t)}},{key:"mr",value:function(e){return wk.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Th("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=Vv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_k=function(){function e(){Ke(this,e),this.$r=new xk,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return He(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new xk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ik=function(){function e(){Ke(this,e)}return He(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sk=function(){function e(){var t=this;Ke(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return He(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Th("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=zn(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Th("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=zn(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ck=function(){function e(t){Ke(this,e),this.Wr=t.Wr,this.zr=t.zr}return He(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),Nk=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return He(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new wh;o.listenOnce(mh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case vh.NO_ERROR:var t=o.getResponseJson();Th("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vh.TIMEOUT:Th("Connection",'RPC "'+e+'" timed out'),a(new Lh(Rh.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:var n=o.getStatus();if(Th("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rh).indexOf(t)>=0?t:Rh.UNKNOWN}(r.status);a(new Lh(u,r.message))}else a(new Lh(Rh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Lh(Rh.UNAVAILABLE,"Connection failed."));break;default:Oh()}}finally{Th("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=dh(),a=ph(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new kh({})),this.ao(o.initMessageHeaders,t,n),jo()||Uo()||Mo().indexOf("Electron/")>=0||Bo()||Mo().indexOf("MSAppHost/")>=0||Vo()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Th("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Ck({Wr:function(e){l?Th("Connection","Not sending because WebChannel is closed:",e):(c||(Th("Connection","Opening WebChannel transport."),s.open(),c=!0),Th("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,bh.EventType.OPEN,(function(){l||Th("Connection","WebChannel transport opened.")})),h(s,bh.EventType.CLOSE,(function(){l||(l=!0,Th("Connection","WebChannel transport closed"),f.no())})),h(s,bh.EventType.ERROR,(function(e){l||(l=!0,Nh("Connection","WebChannel transport errored:",e),f.no(new Lh(Rh.UNAVAILABLE,"The operation could not be completed")))})),h(s,bh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ph(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Th("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=mv[e];if(void 0!==t)return xv(t)}(a),u=i.message;void 0===o&&(o=Rh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new Lh(o,u)),s.close()}else Th("Connection","WebChannel received:",n),f.so(n)}})),h(a,yh.STAT_EVENT,(function(e){e.stat===gh.PROXY?Th("Connection","Detected buffering proxy"):e.stat===gh.NOPROXY&&Th("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){Ke(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return He(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Th("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Th("RestConnection","Received: ",e),e}),(function(t){throw Nh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Tk[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Ak(){return"undefined"!=typeof window?window:null}function Ok(){return"undefined"!=typeof document?document:null}function Pk(e){return new Xv(e,!0)}var Dk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ke(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return He(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Th("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),Rk=function(){function e(t,n,r,i,a,o,u,s){Ke(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Dk(t,n)}return He(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Rh.RESOURCE_EXHAUSTED?(Ch(n.toString()),Ch("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Rh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Lh(Rh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Th("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Th("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Lk=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a,o,u){var s;return Ke(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return He(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Oh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ph(void 0===t||"string"==typeof t),ud.fromBase64String(t||"")):(Ph(void 0===t||t instanceof Uint8Array),ud.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Rh.UNKNOWN:xv(e.code);return new Lh(t,e.message||"")}(o);n=new Kv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=am(e,s.document.name),l=tm(s.document.updateTime),f=new qd({mapValue:{fields:s.document.fields}}),h=Kd.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new qv(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=am(e,v.document),y=v.readTime?tm(v.readTime):Jh.min(),g=Kd.newNoDocument(m,y),k=v.removedTargetIds||[];n=new qv([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=am(e,b.document),x=b.removedTargetIds||[];n=new qv([],x,w,null)}else{if(!("filter"in t))return Oh();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new bv(_),S=E.targetId;n=new zv(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Jh.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jh.min():t.readTime?tm(t.readTime):Jh.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=sm(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=ip(r)?{documents:vm(e,r)}:{query:mm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zv(e,t.resumeToken):t.snapshotVersion.compareTo(Jh.min())>0&&(n.readTime=Jv(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=sm(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(Rk),Mk=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a,o,u){var s;return Ke(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return He(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Dt(Ot(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ph(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Ph(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?tm(e.updateTime):tm(t);return n.isEqual(Jh.min())&&(n=tm(t)),new nv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=tm(e.commitTime);return this.listener.Yo(n,t)}return Ph(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=sm(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return dm(t.M,e)}))};this.Fo(n)}}]),n}(Rk),jk=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a){var o;return Ke(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return He(n,[{key:"eu",value:function(){if(this.tu)throw new Lh(Rh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lh(Rh.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lh(Rh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return He((function e(){Ke(this,e)}))}()),Fk=function(){function e(t,n){Ke(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return He(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Ch(t),this.iu=!1):Th("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),Vk=He((function e(t,n,r,i,a){var o=this;Ke(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$k(o),!e.t0){e.next=5;break}return Th("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dh(t)).fu.add(4),e.next=4,qk(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,Uk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new Fk(r,i)}));function Uk(e){return Bk.apply(this,arguments)}function Bk(){return Bk=Io(To().mark((function e(t){var n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$k(t)){e.next=18;break}n=zn(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Bk.apply(this,arguments)}function qk(e){return zk.apply(this,arguments)}function zk(){return zk=Io(To().mark((function e(t){var n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zn(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zk.apply(this,arguments)}function Kk(e,t){var n=Dh(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),Yk(n)?Qk(n):Ib(n).xo()&&Hk(n,t))}function Wk(e,t){var n=Dh(e),r=Ib(n);n.lu.delete(t),r.xo()&&Gk(n,t),0===n.lu.size&&(r.xo()?r.Mo():$k(n)&&n.wu.set("Unknown"))}function Hk(e,t){e.mu.Z(t.targetId),Ib(e).jo(t)}function Gk(e,t){e.mu.Z(t),Ib(e).Wo(t)}function Qk(e){e.mu=new Hv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Ib(e).start(),e.wu.ru()}function Yk(e){return $k(e)&&!Ib(e).Co()&&e.lu.size>0}function $k(e){return 0===Dh(e).fu.size}function Xk(e){e.mu=void 0}function Jk(e){return Zk.apply(this,arguments)}function Zk(){return Zk=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){Hk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function eb(e,t){return tb.apply(this,arguments)}function tb(){return tb=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xk(t),Yk(t)?(t.wu.au(n),Qk(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),tb.apply(this,arguments)}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=Io(To().mark((function e(t,n,r){var i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Kv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=zn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Th("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ib(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof qv?t.mu.ut(n):n instanceof zv?t.mu._t(n):t.mu.ht(n),r.isEqual(Jh.min())){e.next=29;break}return e.prev=14,e.next=17,zg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(ud.EMPTY_BYTE_STRING,n.snapshotVersion)),Gk(e,t);var r=new my(n.target,t,1,n.sequenceNumber);Hk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Th("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ib(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rb.apply(this,arguments)}function ib(e,t,n){return ab.apply(this,arguments)}function ab(){return ab=Io(To().mark((function e(t,n,r){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oy(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,qk(t);case 5:t.wu.set("Offline"),r||(r=function(){return zg(t.localStore)}),t.asyncQueue.enqueueRetryable(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Th("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,Uk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ab.apply(this,arguments)}function ob(e,t){return t().catch((function(n){return ib(e,n,t)}))}function ub(e){return sb.apply(this,arguments)}function sb(){return sb=Io(To().mark((function e(t){var n,r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dh(t),r=Sb(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!cb(n)){e.next=19;break}return e.prev=3,e.next=6,Hg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,lb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ib(n,e.t0);case 17:e.next=2;break;case 19:fb(n)&&hb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sb.apply(this,arguments)}function cb(e){return $k(e)&&e.hu.length<10}function lb(e,t){e.hu.push(t);var n=Sb(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function fb(e){return $k(e)&&!Sb(e).Co()&&e.hu.length>0}function hb(e){Sb(e).start()}function db(e){return pb.apply(this,arguments)}function pb(){return pb=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sb(t).Zo();case 1:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e){return mb.apply(this,arguments)}function mb(){return mb=Io(To().mark((function e(t){var n,r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sb(t),r=zn(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t,n){return gb.apply(this,arguments)}function gb(){return gb=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=py.from(i,n,r),e.next=3,ob(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ub(t);case 5:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function kb(e,t){return bb.apply(this,arguments)}function bb(){return bb=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Sb(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wv(i=n.code)||i===Rh.ABORTED){e.next=7;break}return r=t.hu.shift(),Sb(t).ko(),e.next=5,ob(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ub(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fb(t)&&hb(t);case 5:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}function wb(e,t){return xb.apply(this,arguments)}function xb(){return xb=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Dh(t)).asyncQueue.verifyOperationInProgress(),Th("RemoteStore","RemoteStore received new credentials"),i=$k(r),r.fu.add(3),e.next=6,qk(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,Uk(r);case 12:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function Eb(e,t){return _b.apply(this,arguments)}function _b(){return _b=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,Uk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,qk(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function Ib(e){return e.gu||(e.gu=function(e,t,n){var r=Dh(e);return r.eu(),new Lk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Jk.bind(null,e),Yr:eb.bind(null,e),Qo:nb.bind(null,e)}),e.du.push(function(){var t=Io(To().mark((function t(n){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),Yk(e)?Qk(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:Xk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function Sb(e){return e.yu||(e.yu=function(e,t,n){var r=Dh(e);return r.eu(),new Mk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:db.bind(null,e),Yr:kb.bind(null,e),Xo:vb.bind(null,e),Yo:yb.bind(null,e)}),e.du.push(function(){var t=Io(To().mark((function t(n){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,ub(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Th("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var Tb=function(){function e(t,n,r,i,a){Ke(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return He(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lh(Rh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Cb(e,t){if(Ch("AsyncQueue","".concat(t,": ").concat(e)),oy(e))return new Lh(Rh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Nb=function(){function e(t){Ke(this,e),this.comparator=t?function(e,n){return t(e,n)||bd.comparator(e.key,n.key)}:function(e,t){return bd.comparator(e.key,t.key)},this.keyedMap=Dv(),this.sortedSet=new _v(this.comparator)}return He(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ab=function(){function e(){Ke(this,e),this.pu=new _v(bd.comparator)}return He(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Oh():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ob=function(){function e(t,n,r,i,a,o,u,s){Ke(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return He(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Nb.emptySet(n),a,r,i,!0,!1)}}]),e}(),Pb=He((function e(){Ke(this,e),this.Tu=void 0,this.listeners=[]})),Db=He((function e(){Ke(this,e),this.queries=new Ev((function(e){return Rp(e)}),Dp),this.onlineState="Unknown",this.Eu=new Set}));function Rb(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=Io(To().mark((function e(t,n){var r,i,a,o,u;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Pb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Cb(e.t0,"Initialization of query '".concat(Lp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&Ub(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Lb.apply(this,arguments)}function Mb(e,t){return jb.apply(this,arguments)}function jb(){return jb=Io(To().mark((function e(t,n){var r,i,a,o,u;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Fb(e,t){var n,r=Dh(e),i=!1,a=zn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=zn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ub(r)}function Vb(e,t,n){var r=Dh(e),i=r.queries.get(t);if(i){var a,o=zn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ub(e){e.Eu.forEach((function(e){e.next()}))}var Bb=function(){function e(t,n,r){Ke(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return He(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=zn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ob(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=Ob.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),qb=function(){function e(t,n){Ke(this,e),this.payload=t,this.byteLength=n}return He(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),zb=function(){function e(t){Ke(this,e),this.M=t}return He(e,[{key:"fi",value:function(e){return am(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?fm(this.M,e.document,!1):Kd.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return tm(e)}}]),e}(),Kb=function(){function e(t,n,r){Ke(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wb(t)}return He(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=rd.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new zb(this.M),i=zn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=zn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||jv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Io(To().mark((function e(){var t,n,r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ek(this.localStore,new zb(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=zn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Hb=He((function e(t){Ke(this,e),this.key=t})),Gb=He((function e(t){Ke(this,e),this.key=t})),Qb=function(){function e(t,n){Ke(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=jv(),this.mutatedKeys=jv(),this.Uu=Fp(t),this.qu=new Nb(this.Uu)}return He(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new Ab,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Ip(this.query)&&i.size===this.query.limit?i.last():null,c=Sp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Mp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ip(this.query)||Sp(this.query))for(;o.size>this.query.limit;){var l=Ip(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oh()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new Ob(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Ab,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=jv(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new Gb(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new Hb(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=jv();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return Ob.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),Yb=He((function e(t,n,r){Ke(this,e),this.query=t,this.targetId=n,this.view=r})),$b=He((function e(t){Ke(this,e),this.key=t,this.Zu=!1})),Xb=function(){function e(t,n,r,i,a,o){Ke(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Ev((function(e){return Rp(e)}),Dp),this.na=new Map,this.sa=new Set,this.ia=new _v(bd.comparator),this.ra=new Map,this.oa=new ok,this.ua={},this.aa=new Map,this.ca=ug.yn(),this.onlineState="Unknown",this.ha=void 0}return He(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function Jb(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=Io(To().mark((function e(t,n){var r,i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ww(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,Gg(r.localStore,Op(n));case 8:return u=e.sent,r.isPrimaryClient&&Kk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ew(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function ew(e,t,n,r){return tw.apply(this,arguments)}function tw(){return tw=Io(To().mark((function e(t,n,r,i){var a,o,u,s,c,l;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=Io(To().mark((function e(t,n,r,i){var a,o,u;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,$g(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ww(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,$g(t.localStore,n,!0);case 3:return a=e.sent,o=new Qb(n,a.li),u=o.Gu(a.documents),s=Bv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),ww(t,r,c.Hu),l=new Yb(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t){return rw.apply(this,arguments)}function rw(){return rw=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Dp(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Qg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Wk(r.remoteStore,i.targetId),kw(r,i.targetId)})).catch(hg);case 9:e.next=14;break;case 11:return kw(r,i.targetId),e.next=14,Qg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hw(t),e.prev=1,e.next=4,function(e,t){var n,r=Dh(e),i=Xh.now(),a=t.reduce((function(e,t){return e.add(t.key)}),jv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=zn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=sv(c,n.get(c.key));null!=l&&u.push(new hv(c.key,l,zd(l.value.mapValue),rv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new _v(Qh)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_w(i,a.changes);case 9:return e.next=11,ub(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Cb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),aw.apply(this,arguments)}function ow(e,t){return uw.apply(this,arguments)}function uw(){return uw=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.prev=1,e.next=4,Kg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Ph(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Ph(n.Zu):e.removedDocuments.size>0&&(Ph(n.Zu),n.Zu=!1))})),e.next=8,_w(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,hg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),uw.apply(this,arguments)}function sw(e,t,n){var r=Dh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Dh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=zn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ub(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function cw(e,t,n){return lw.apply(this,arguments)}function lw(){return lw=Io(To().mark((function e(t,n,r){var i,a,o,u,s,c;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Dh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new _v(bd.comparator)).insert(o,Kd.newNoDocument(o,Jh.min())),s=jv().add(o),c=new Uv(Jh.min(),new Map,new Tv(Qh),u,s),e.next=9,ow(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),Ew(i),e.next=16;break;case 14:return e.next=16,Qg(i.localStore,n,!1).then((function(){return kw(i,n,r)})).catch(hg);case 16:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e,t){return hw.apply(this,arguments)}function hw(){return hw=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),i=n.batch.batchId,e.prev=1,e.next=4,qg(r.localStore,n);case 4:return a=e.sent,gw(r,i,null),yw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_w(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,hg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hw.apply(this,arguments)}function dw(e,t,n){return pw.apply(this,arguments)}function pw(){return pw=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dh(t),e.prev=1,e.next=4,function(e,t){var n=Dh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Ph(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,gw(i,n,r),yw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_w(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,hg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $k((r=Dh(t)).remoteStore)||Th("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Dh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Cb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),mw.apply(this,arguments)}function yw(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function gw(e,t,n){var r=Dh(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function kw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=zn(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||bw(e,t)}))}function bw(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(Wk(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),Ew(e))}function ww(e,t,n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Hb?(e.oa.addReference(a.key,t),xw(e,a)):a instanceof Gb?(Th("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||bw(e,a.key)):Oh()}}catch(o){i.e(o)}finally{i.f()}}function xw(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Th("SyncEngine","New document in limbo: "+n),e.sa.add(r),Ew(e))}function Ew(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new bd(rd.fromString(t)),r=e.ca.next();e.ra.set(r,new $b(n)),e.ia=e.ia.insert(n,r),Kk(e.remoteStore,new my(Op(_p(n.path)),r,2,Wh.A))}}function _w(e,t,n){return Iw.apply(this,arguments)}function Iw(){return Iw=Io(To().mark((function e(t,n,r){var i,a,o,u;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dh(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Mg.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=Io(To().mark((function e(t,n){var r,i,a,o,u,s,c,l;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ty.forEach(n,(function(t){return ty.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ty.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),oy(e.t0)){e.next=10;break}throw e.t0;case 10:Th("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=zn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Sw(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Dh(t)).currentUser.isEqual(n)){e.next=11;break}return Th("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ug(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Lh(Rh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_w(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Cw(e,t){var n=Dh(e),r=n.ra.get(t);if(r&&r.Zu)return jv().add(r.key);var i=jv(),a=n.na.get(t);if(!a)return i;var o,u=zn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function Nw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.next=3,$g(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&ww(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Ow(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.abrupt("return",Jg(r.localStore,n).then((function(e){return _w(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Dw(e,t,n,r){return Rw.apply(this,arguments)}function Rw(){return Rw=Io(To().mark((function e(t,n,r,i){var a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Dh(t),e.next=3,function(e,t){var n=Dh(e),r=Dh(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):ty.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ub(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(gw(a,n,i||null),yw(a,n),function(e,t){Dh(Dh(e).Bs)._n(t)}(a.localStore,n)):Oh();case 11:return e.next=13,_w(a,o);case 13:e.next=16;break;case 15:Th("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Lw(e,t){return Mw.apply(this,arguments)}function Mw(){return Mw=Io(To().mark((function e(t,n){var r,i,a,o,u,s,c,l;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ww(r=Dh(t)),Hw(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,jw(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,Eb(r.remoteStore,!0);case 9:o=zn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Kk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return kw(r,t),Qg(r.localStore,t,!0)})),Wk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,jw(r,c);case 21:return function(e){var t=Dh(e);t.ra.forEach((function(e,n){Wk(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new _v(bd.comparator)}(r),r.ha=!1,e.next=25,Eb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}function jw(e,t,n){return Fw.apply(this,arguments)}function Fw(){return Fw=Io(To().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Dh(t),a=[],o=[],u=zn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,Gg(i.localStore,Op(f[0]));case 11:l=e.sent,h=zn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,Nw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Xg(i.localStore,c);case 36:return y=e.sent,e.next=39,Gg(i.localStore,y);case 39:return l=e.sent,e.next=42,ew(i,Vw(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Fw.apply(this,arguments)}function Vw(e){return Ep(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Uw(e){var t=Dh(e);return Dh(Dh(t.localStore).persistence).Fs()}function Bw(e,t,n,r){return qw.apply(this,arguments)}function qw(){return qw=Io(To().mark((function e(t,n,r,i){var a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Dh(t)).ha){e.next=3;break}return e.abrupt("return",void Th("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Jg(a.localStore,jp(o[0]));case 10:return u=e.sent,s=Uv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,_w(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Qg(a.localStore,n,!0);case 17:return kw(a,n,i),e.abrupt("break",20);case 19:Oh();case 20:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function zw(e,t,n){return Kw.apply(this,arguments)}function Kw(){return Kw=Io(To().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Ww(t)).ha){e.next=45;break}a=zn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return Th("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Xg(i.localStore,u);case 12:return s=e.sent,e.next=15,Gg(i.localStore,s);case 15:return c=e.sent,e.next=18,ew(i,Vw(s),c.targetId,!1);case 18:Kk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=zn(r),e.prev=30,h=To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,Qg(i.localStore,t,!1).then((function(){Wk(i.remoteStore,t),kw(i,t)})).catch(hg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Kw.apply(this,arguments)}function Ww(e){var t=Dh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cw.bind(null,t),t.ta.Qo=Fb.bind(null,t.eventManager),t.ta.fa=Vb.bind(null,t.eventManager),t}function Hw(e){var t=Dh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dw.bind(null,t),t}function Gw(e,t,n){var r=Dh(e);(function(){var e=Io(To().mark((function e(t,n,r){var i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Dh(e),r=tm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Wb(i)),a=new Kb(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,_w(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Dh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Nh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Qw=function(){function e(){Ke(this,e),this.synchronizeTabs=!1}return He(e,[{key:"initialize",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Pk(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return Vg(this.persistence,new jg,e.initialUser,this.M)}},{key:"wa",value:function(e){return new hk(pk.zi,this.M)}},{key:"_a",value:function(e){return new _k}},{key:"terminate",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yw=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return He(n,[{key:"initialize",value:function(){var e=Io(To().mark((function e(t){var r=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(Ot(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,Hw(this.ya.syncEngine);case 6:return e.next=8,ub(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return Vg(this.persistence,new jg,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new mg(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=Rg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zy.withCacheSize(this.cacheSizeBytes):Zy.DEFAULT;return new Og(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ak(),Ok(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new _k}}]),n}(Qw),$w=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return He(n,[{key:"initialize",value:function(){var e=Io(To().mark((function e(t){var r,i=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(Ot(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof Ek,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:Dw.bind(null,r),Or:Bw.bind(null,r),Fr:zw.bind(null,r),Fs:Uw.bind(null,r),kr:Ow.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lw(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=Ak();if(!Ek.vt(t))throw new Lh(Rh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ek(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Yw),Xw=function(){function e(){Ke(this,e)}return He(e,[{key:"initialize",value:function(){var e=Io(To().mark((function e(t,n){var r=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Sw.bind(null,this.syncEngine),e.next=12,Eb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Db}},{key:"createDatastore",value:function(e){var t,n=Pk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Nk(t));return function(e,t,n,r){return new jk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return sw(o.syncEngine,e,0)},a=Sk.vt()?new Sk:new Ik,new Vk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Xb(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dh(t),Th("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,qk(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Jw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Io(To().mark((function r(){var i;return To().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Zw=function(){function e(t){Ke(this,e),this.observer=t,this.muted=!1}return He(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ex=function(){function e(t,n){var r=this;Ke(this,e),this.Ta=t,this.M=n,this.metadata=new Mh,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return He(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=Io(To().mark((function e(){var t,n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new qb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=Io(To().mark((function e(){var t,n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=Io(To().mark((function e(){var t,n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tx=function(){function e(t){Ke(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return He(e,[{key:"lookup",value:function(){var e=Io(To().mark((function e(t){var n,r=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Lh(Rh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Io(To().mark((function e(t,n){var r,i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),i=sm(r.M)+"/documents",a={documents:n.map((function(e){return im(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=hm(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ph(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Io(To().mark((function e(){var t,n=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bd.fromPath(t);n.mutations.push(new kv(r,n.precondition(r)))})),e.next=7,function(){var e=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),i=sm(r.M)+"/documents",a={writes:n.map((function(e){return dm(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Oh();t=Jh.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Lh(Rh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rv.updateTime(t):rv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jh.min()))throw new Lh(Rh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rv.updateTime(t)}return rv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),nx=function(){function e(t,n,r,i){Ke(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Dk(this.asyncQueue,"transaction_retry")}return He(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(Io(To().mark((function t(){var n,r;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new tx(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!yd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wv(t)}return!1}}]),e}(),rx=function(){function e(t,n,r,i){var a=this;Ke(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Eh.UNAUTHENTICATED,this.clientId=Gh.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Th("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Th("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return He(e,[{key:"getConfiguration",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lh(Rh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Mh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Io(To().mark((function n(){var r;return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Cb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Th("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ug(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sx(t);case 3:return r=e.sent,Th("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e){return cx.apply(this,arguments)}function cx(){return cx=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Th("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ix(t,new Qw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e){return fx.apply(this,arguments)}function fx(){return fx=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Th("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ox(t,new Xw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e){return sx(e).then((function(e){return e.persistence}))}function dx(e){return sx(e).then((function(e){return e.localStore}))}function px(e){return lx(e).then((function(e){return e.remoteStore}))}function vx(e){return lx(e).then((function(e){return e.syncEngine}))}function mx(e){return yx.apply(this,arguments)}function yx(){return yx=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Jb.bind(null,n.syncEngine),r.onUnlisten=nw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function gx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function i(){return To().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zw({next:function(a){t.enqueueAndForget((function(){return Mb(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Lh(Rh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Lh(Rh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Bb(_p(n.path),a,{includeMetadataChanges:!0,Cu:!0});return Rb(e,o)},i.next=3,mx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function i(){return To().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zw({next:function(n){t.enqueueAndForget((function(){return Mb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Lh(Rh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Bb(n,a,{includeMetadataChanges:!0,Cu:!0});return Rb(e,o)},i.next=3,mx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var bx=new Map;function wx(e,t,n){if(!n)throw new Lh(Rh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xx(e,t,n,r){if(!0===t&&!0===r)throw new Lh(Rh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ex(e){if(!bd.isDocumentKey(e))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _x(e){if(bd.isDocumentKey(e))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ix(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Oh()}function Sx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lh(Rh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ix(e);throw new Lh(Rh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Tx(e,t){if(t<=0)throw new Lh(Rh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Cx=function(){function e(t){var n;if(Ke(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lh(Rh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lh(Rh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return He(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Nx=function(){function e(t,n,r){Ke(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,t instanceof md?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lh(Rh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(e.options.projectId)}(t))}return He(e,[{key:"app",get:function(){if(!this._app)throw new Lh(Rh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lh(Rh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fh;switch(e.type){case"gapi":var t=e.client;return Ph(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new qh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Lh(Rh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=bx.get(e);t&&(Th("ComponentProvider","Removing Datastore"),bx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ax(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Sx(e,Nx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Nh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Eh.MOCK_USER;else{o=Lo(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Lh(Rh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Eh(s)}e._authCredentials=new Vh(new jh(o,u))}}var Ox=function(){function e(t,n,r){Ke(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return He(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Dx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Px=function(){function e(t,n,r){Ke(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return He(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Dx=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this,e,r,_p(i)))._path=i,a.type="collection",a}return He(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ox(this.firestore,null,new bd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Px);function Rx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nu(e),wx("collection","path",t),e instanceof Nx){var a=rd.fromString.apply(rd,[t].concat(r));return _x(a),new Dx(e,null,a)}if(!(e instanceof Ox||e instanceof Dx))throw new Lh(Rh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rd.fromString.apply(rd,[t].concat(r)));return _x(o),new Dx(e.firestore,null,o)}function Lx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nu(e),1===arguments.length&&(t=Gh.R()),wx("doc","path",t),e instanceof Nx){var a=rd.fromString.apply(rd,[t].concat(r));return Ex(a),new Ox(e,null,new bd(a))}if(!(e instanceof Ox||e instanceof Dx))throw new Lh(Rh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rd.fromString.apply(rd,[t].concat(r)));return Ex(o),new Ox(e.firestore,e instanceof Dx?e.converter:null,new bd(o))}function Mx(e,t){return e=nu(e),t=nu(t),(e instanceof Ox||e instanceof Dx)&&(t instanceof Ox||t instanceof Dx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jx(e,t){return e=nu(e),t=nu(t),e instanceof Px&&t instanceof Px&&e.firestore===t.firestore&&Dp(e._query,t._query)&&e.converter===t.converter}var Fx=function(){function e(){var t=this;Ke(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Dk(this,"async_queue_retry"),this.qa=function(){var e=Ok();e&&Th("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Ok();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return He(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Ok();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Mh;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=Io(To().mark((function e(){var t=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),oy(e.t0)){e.next=12;break}throw e.t0;case 12:Th("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ch("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=Tb.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Oh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=zn(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=zn(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function Vx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=zn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Ux=function(){function e(){Ke(this,e),this._progressObserver={},this._taskCompletionResolver=new Mh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return He(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Bx=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Fx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return He(n,[{key:"_terminate",value:function(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}}]),n}(Nx);function qx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bu();return Du(e,"firestore").getImmediate()}function zx(e){return e._firestoreClient||Kx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new vd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Wx(e,t,n){var r=new Mh;return e.asyncQueue.enqueue(Io(To().mark((function i(){return To().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ix(e,n);case 3:return i.next=5,ox(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Rh.FAILED_PRECONDITION||e.code===Rh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Hx(e){return function(e){return e.asyncQueue.enqueue(Io(To().mark((function t(){var n,r;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hx(e);case 2:return n=t.sent,t.next=5,px(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Dh(e);return t.fu.delete(0),Uk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zx(e=Sx(e,Bx)))}function Gx(e){return function(e){return e.asyncQueue.enqueue(Io(To().mark((function t(){var n,r;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hx(e);case 2:return n=t.sent,t.next=5,px(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dh(t)).fu.add(0),e.next=4,qk(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zx(e=Sx(e,Bx)))}function Qx(e,t){var n=zx(e=Sx(e,Bx)),r=new Ux;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ex(e,t)}(function(e,t){if(e instanceof Uint8Array)return Jw(e,t);if(e instanceof ArrayBuffer)return Jw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Pk(t));e.asyncQueue.enqueueAndForget(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gw,t.next=3,vx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Yx(e,t){return function(e,t){return e.asyncQueue.enqueue(Io(To().mark((function n(){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Dh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,dx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zx(e=Sx(e,Bx)),t).then((function(t){return t?new Px(e,null,t.query):null}))}function $x(e){if(e._initialized||e._terminated)throw new Lh(Rh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xx=function(){function e(){Ke(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ad(n)}return He(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();function Jx(){return new Xx("__name__")}var Zx=function(){function e(t){Ke(this,e),this._byteString=t}return He(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ud.fromBase64String(t))}catch(t){throw new Lh(Rh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ud.fromUint8Array(t))}}]),e}(),eE=He((function e(t){Ke(this,e),this._methodName=t})),tE=function(){function e(t,n){if(Ke(this,e),!isFinite(t)||t<-90||t>90)throw new Lh(Rh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lh(Rh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return He(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Qh(this._lat,e._lat)||Qh(this._long,e._long)}}]),e}(),nE=/^__.*__$/,rE=function(){function e(t,n,r){Ke(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return He(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hv(e,this.data,this.fieldMask,t,this.fieldTransforms):new fv(e,this.data,t,this.fieldTransforms)}}]),e}(),iE=function(){function e(t,n,r){Ke(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return He(e,[{key:"toMutation",value:function(e,t){return new hv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function aE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oh()}}var oE=function(){function e(t,n,r,i,a,o){Ke(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return He(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return SE(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(aE(this.Xa)&&nE.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),uE=function(){function e(t,n,r){Ke(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Pk(t)}return He(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oE({Xa:e,methodName:t,uc:n,path:ad.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function sE(e){var t=e._freezeSettings(),n=Pk(e._databaseId);return new uE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);xE("Data must be an object, but it was:",o,r);var u,s,c=bE(r,o);if(a.merge)u=new od(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=zn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EE(t,d,n);if(!o.contains(p))throw new Lh(Rh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));TE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new od(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new rE(new qd(c),u,s)}var lE=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eE);function fE(e,t,n){return new oE({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var hE=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"_toFieldTransform",value:function(e){return new tv(e.path,new Gp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eE),dE=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e)).cc=r,i}return He(n,[{key:"_toFieldTransform",value:function(e){var t=fE(this,e,!0),n=this.cc.map((function(e){return kE(e,t)})),r=new Qp(n);return new tv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eE),pE=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e)).cc=r,i}return He(n,[{key:"_toFieldTransform",value:function(e){var t=fE(this,e,!0),n=this.cc.map((function(e){return kE(e,t)})),r=new $p(n);return new tv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eE),vE=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e)).hc=r,i}return He(n,[{key:"_toFieldTransform",value:function(e){var t=new Jp(e.M,qp(e.M,this.hc));return new tv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eE);function mE(e,t,n,r){var i=e.ac(1,t,n);xE("Data must be an object, but it was:",i,r);var a=[],o=qd.empty();ed(r,(function(e,r){var u=IE(t,e,n);r=nu(r);var s=i.sc(u);if(r instanceof lE)a.push(u);else{var c=kE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new od(a);return new iE(o,u,i.fieldTransforms)}function yE(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[EE(t,r,n)],s=[i];if(a.length%2!=0)throw new Lh(Rh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(EE(t,a[c])),s.push(a[c+1]);for(var l=[],f=qd.empty(),h=u.length-1;h>=0;--h)if(!TE(l,u[h])){var d=u[h],p=s[h];p=nu(p);var v=o.sc(d);if(p instanceof lE)l.push(d);else{var m=kE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new od(l);return new iE(f,y,o.fieldTransforms)}function gE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kE(n,e.ac(r?4:3,t))}function kE(e,t){if(wE(e=nu(e)))return xE("Unsupported field value:",t,e),bE(e,t);if(e instanceof eE)return function(e,t){if(!aE(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=zn(e);try{for(a.s();!(n=a.n()).done;){var o=kE(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=nu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qp(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xh.fromDate(e);return{timestampValue:Jv(t.M,n)}}if(e instanceof Xh){var r=new Xh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jv(t.M,r)}}if(e instanceof tE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zx)return{bytesValue:Zv(t.M,e._byteString)};if(e instanceof Ox){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:nm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(Ix(e)))}(e,t)}function bE(e,t){var n={};return td(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ed(e,(function(e,r){var i=kE(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xh||e instanceof tE||e instanceof Zx||e instanceof Ox||e instanceof eE)}function xE(e,t,n){if(!wE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ix(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function EE(e,t,n){if((t=nu(t))instanceof Xx)return t._internalPath;if("string"==typeof t)return IE(e,t);throw SE("Field path arguments must be of type string or ",e,!1,void 0,n)}var _E=new RegExp("[~\\*/\\[\\]]");function IE(e,t,n){if(t.search(_E)>=0)throw SE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Eo(Xx,ze(t.split(".")))._internalPath}catch(r){throw SE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function SE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Lh(Rh.INVALID_ARGUMENT,u+e+s)}function TE(e,t){return e.some((function(e){return e.isEqual(t)}))}var CE=function(){function e(t,n,r,i,a){Ke(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return He(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ox(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(AE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NE=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"data",value:function(){return Dt(Ot(n.prototype),"data",this).call(this)}}]),n}(CE);function AE(e,t){return"string"==typeof t?IE(e,t):t instanceof Xx?t._internalPath:t._delegate._internalPath}var OE=function(){function e(t,n){Ke(this,e),this.hasPendingWrites=t,this.fromCache=n}return He(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),PE=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a,o,u){var s;return Ke(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return He(n,[{key:"exists",value:function(){return Dt(Ot(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new DE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(AE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(CE),DE=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dt(Ot(n.prototype),"data",this).call(this,e)}}]),n}(PE),RE=function(){function e(t,n,r,i){Ke(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new OE(i.hasPendingWrites,i.fromCache),this.query=r}return He(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new DE(n._firestore,n._userDataWriter,r.key,r,new OE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lh(Rh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new DE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new DE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:LE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function LE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oh()}}function ME(e,t){return e instanceof PE&&t instanceof PE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof RE&&t instanceof RE&&e._firestore===t._firestore&&jx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function jE(e){if(Sp(e)&&0===e.explicitOrderBy.length)throw new Lh(Rh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var FE=He((function e(){Ke(this,e)}));function VE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var UE=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return He(n,[{key:"_apply",value:function(e){var t=sE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ZE(o,a);var s,c=[],l=zn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(JE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=JE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ZE(o,a),u=gE(n,"where",o,"in"===a||"not-in"===a);var h=sp.create(i,a,u);return function(e,t){if(t.S()){var n=Cp(e);if(null!==n&&!n.isEqual(t.field))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tp(e);null!==r&&e_(e,t.field,r)}var i=function(e,t){var n,r=zn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lh(Rh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lh(Rh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Px(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new xp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(FE);function BE(e,t,n){var r=t,i=AE("where",e);return new UE(i,r,n)}var qE=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return He(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gp(t,n);return function(e,t){if(null===Tp(e)){var n=Cp(e);null!==n&&e_(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new Px(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(FE);function zE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=AE("orderBy",e);return new qE(r,n)}var KE=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return He(n,[{key:"_apply",value:function(e){return new Px(e.firestore,e.converter,Pp(e._query,this.wc,this.mc))}}]),n}(FE);var WE=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return He(n,[{key:"_apply",value:function(e){var t=XE(e,this.type,this.gc,this.yc);return new Px(e.firestore,e.converter,function(e,t){return new xp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(FE);function HE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WE("startAt",t,!0)}function GE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WE("startAfter",t,!1)}var QE=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a;return Ke(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return He(n,[{key:"_apply",value:function(e){var t=XE(e,this.type,this.gc,this.yc);return new Px(e.firestore,e.converter,function(e,t){return new xp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(FE);function YE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QE("endBefore",t,!1)}function $E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QE("endAt",t,!0)}function XE(e,t,n,r){if(n[0]=nu(n[0]),n[0]instanceof CE)return function(e,t,n,r,i){if(!r)throw new Lh(Rh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=zn(Ap(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ad(t,r.key));else{var c=r.data.field(s.field);if(hd(c))throw new Lh(Rh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new yp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=sE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Lh(Rh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Np(e)&&-1!==c.indexOf("/"))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(rd.fromString(c));if(!bd.isDocumentKey(l))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bd(l);u.push(Ad(t,f))}else{var h=gE(n,r,c);u.push(h)}}return new yp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function JE(e,t,n){if("string"==typeof(n=nu(n))){if(""===n)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Np(t)&&-1!==n.indexOf("/"))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(rd.fromString(n));if(!bd.isDocumentKey(r))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ad(e,new bd(r))}if(n instanceof Ox)return Ad(e,n._key);throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ix(n),"."))}function ZE(e,t){if(!Array.isArray(e)||0===e.length)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function e_(e,t,n){if(!n.isEqual(t))throw new Lh(Rh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var t_=function(){function e(){Ke(this,e)}return He(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ld(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Oh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ed(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new tE(ld(e.latitude),ld(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=dd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=cd(e);return new Xh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=rd.fromString(e);Ph(Sm(n));var r=new md(n.get(1),n.get(3)),i=new bd(n.popFirst(5));return r.isEqual(t)||Ch("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function n_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var r_=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).firestore=e,r}return He(n,[{key:"convertBytes",value:function(e){return new Zx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ox(this.firestore,null,t)}}]),n}(t_),i_=function(){function e(t,n){Ke(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sE(t)}return He(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=a_(e,this._firestore),i=n_(r.converter,t,n),a=cE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=a_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=nu(t))||t instanceof Xx?yE(this._dataReader,"WriteBatch.update",i._key,t,n,o):mE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=a_(e,this._firestore);return this._mutations=this._mutations.concat(new gv(t._key,rv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Lh(Rh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function a_(e,t){if((e=nu(e)).firestore!==t)throw new Lh(Rh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function o_(e){e=Sx(e,Ox);var t=Sx(e.firestore,Bx);return gx(zx(t),e._key).then((function(n){return y_(t,e,n)}))}var u_=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).firestore=e,r}return He(n,[{key:"convertBytes",value:function(e){return new Zx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ox(this.firestore,null,t)}}]),n}(t_);function s_(e){e=Sx(e,Ox);var t=Sx(e.firestore,Bx),n=zx(t),r=new u_(t);return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function r(){return To().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Dh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Lh(Rh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Cb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new PE(t,r,e._key,n,new OE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function c_(e){e=Sx(e,Px);var t=Sx(e.firestore,Bx),n=zx(t),r=new u_(t);return jE(e._query),kx(n,e._query).then((function(n){return new RE(t,r,e,n)}))}function l_(e){e=Sx(e,Px);var t=Sx(e.firestore,Bx),n=zx(t),r=new u_(t);return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function r(){return To().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Io(To().mark((function e(t,n,r){var i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$g(t,n,!0);case 3:i=e.sent,a=new Qb(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Cb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new RE(t,r,e,n)}))}function f_(e,t,n){e=Sx(e,Ox);var r=Sx(e.firestore,Bx),i=n_(e.converter,t,n);return m_(r,[cE(sE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rv.none())])}function h_(e,t,n){e=Sx(e,Ox);for(var r=Sx(e.firestore,Bx),i=sE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return m_(r,[("string"==typeof(t=nu(t))||t instanceof Xx?yE(i,"updateDoc",e._key,t,n,o):mE(i,"updateDoc",e._key,t)).toMutation(e._key,rv.exists(!0))])}function d_(e,t){var n=Sx(e.firestore,Bx),r=Lx(e),i=n_(e.converter,t);return m_(n,[cE(sE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rv.exists(!1))]).then((function(){return r}))}function p_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=nu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Vx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Vx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Ox)l=Sx(e.firestore,Bx),f=_p(e._key.path),c={next:function(t){n[s]&&n[s](y_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Sx(e,Px);l=Sx(p.firestore,Bx),f=p._query;var v=new u_(l);c={next:function(e){n[s]&&n[s](new RE(l,v,p,e))},error:n[s+1],complete:n[s+2]},jE(e._query)}return function(e,t,n,r){var i=new Zw(r),a=new Bb(t,i,n);return e.asyncQueue.enqueueAndForget(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rb,t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Mb,t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zx(l),f,h,c)}function v_(e,t){return function(e,t){var n=new Zw(t);return e.asyncQueue.enqueueAndForget(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Dh(e).Eu.add(t),t.next()},t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Dh(e).Eu.delete(t)},t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zx(e=Sx(e,Bx)),Vx(t)?t:{next:t})}function m_(e,t){return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function r(){return To().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=iw,r.next=3,vx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zx(e),t)}function y_(e,t,n){var r=n.docs.get(t._key),i=new u_(e);return new PE(e,i,t._key,r,new OE(n.hasPendingWrites,n.fromCache),t.converter)}var g_=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,r))._firestore=e,i}return He(n,[{key:"get",value:function(e){var t=this,r=a_(e,this._firestore),i=new u_(this._firestore);return Dt(Ot(n.prototype),"get",this).call(this,e).then((function(e){return new PE(t._firestore,i,r._key,e._document,new OE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ke(this,e),this._firestore=t,this._transaction=n,this._dataReader=sE(t)}return He(e,[{key:"get",value:function(e){var t=this,n=a_(e,this._firestore),r=new r_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Oh();var i=e[0];if(i.isFoundDocument())return new CE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new CE(t._firestore,r,n._key,null,n.converter);throw Oh()}))}},{key:"set",value:function(e,t,n){var r=a_(e,this._firestore),i=n_(r.converter,t,n),a=cE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=a_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=nu(t))||t instanceof Xx?yE(this._dataReader,"Transaction.update",i._key,t,n,o):mE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=a_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function k_(e,t){return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function r(){var i;return To().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return lx(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new nx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(zx(e=Sx(e,Bx)),(function(n){return t(new g_(e,n))}))}function b_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dE("arrayUnion",t)}function w_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pE("arrayRemove",t)}function x_(e){return zx(e=Sx(e,Bx)),new i_(e,(function(t){return m_(e,t)}))}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_h=e}(Vu),Pu(new su("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Bx(i,new Uh(e.getProvider("auth-internal")),new Kh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Wu(xh,"3.4.8",e),Wu(xh,"3.4.8","esm2017")}();var E_=function(){var e=f((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){c_(VE(Rx(qx(),"categorys"),zE("key"))).then((function(e){return r(e.docs.map((function(e){return o({id:e.id},e.data())})))})).catch((function(e){return console.log(e)}))}),[]),(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(on,{collapseOnSelect:!0,expand:"lg",bg:"black",variant:"dark",children:(0,T.jsxs)(cn,{children:[(0,T.jsxs)(go,{to:"/",children:[(0,T.jsx)("img",{alt:"",src:xa,width:"40",height:"40",className:"d-inline-block align-top"})," ","Vikings Fitness Gear"]}),(0,T.jsx)(on.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,T.jsxs)(on.Collapse,{id:"responsive-navbar-nav",children:[(0,T.jsxs)(Bn,{className:"me-auto",children:[(0,T.jsxs)(wa,{title:"Tienda",id:"collasible-nav-dropdown",children:[n.map((function(e){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(go,{to:"/categoria/".concat(e.key),children:" ".concat(e.categoryDescription)},e.key),(0,T.jsx)("br",{})]})})),(0,T.jsx)(Bn.Link,{})]}),n.map((function(e){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(go,{to:"/categoria/".concat(e.key),children:"".concat(e.categoryDescription)},e.key),(0,T.jsx)(Bn.Link,{})]})})),(0,T.jsx)(Bn.Link,{})]}),(0,T.jsx)(Bn,{children:(0,T.jsx)(Bn.Link,{eventKey:2,href:"#memes",children:(0,T.jsx)(xo,{})})})]})]})})})},__=["bsPrefix","className","variant","as"],I_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,u=void 0===a?"img":a,s=d(e,__),c=A(n,"card-img");return(0,T.jsx)(u,o({ref:t,className:v()(i?"".concat(c,"-").concat(i):c,r)},s))}));I_.displayName="CardImg";var S_=I_,T_=["bsPrefix","className","as"],C_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,u=void 0===a?"div":a,s=d(e,T_),c=A(r,"card-header"),l=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:c}}),[c]);return(0,T.jsx)(Cn.Provider,{value:l,children:(0,T.jsx)(u,o(o({ref:n},s),{},{className:v()(i,c)}))})}));C_.displayName="CardHeader";var N_=C_,A_=["bsPrefix","className","bg","text","border","body","children","as"],O_=Nt("h5"),P_=Nt("h6"),D_=R("card-body"),R_=R("card-title",{Component:O_}),L_=R("card-subtitle",{Component:P_}),M_=R("card-link",{Component:"a"}),j_=R("card-text",{Component:"p"}),F_=R("card-footer"),V_=R("card-img-overlay"),U_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,u=e.border,s=e.body,c=e.children,l=e.as,f=void 0===l?"div":l,h=d(e,A_),p=A(n,"card");return(0,T.jsx)(f,o(o({ref:t},h),{},{className:v()(r,p,i&&"bg-".concat(i),a&&"text-".concat(a),u&&"border-".concat(u)),children:s?(0,T.jsx)(D_,{children:c}):c}))}));U_.displayName="Card",U_.defaultProps={body:!1};var B_=Object.assign(U_,{Img:S_,Title:R_,Subtitle:L_,Body:D_,Link:M_,Text:j_,Header:N_,Footer:F_,ImgOverlay:V_}),q_=["bsPrefix","className","as"],z_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,u=d(e,q_),s=A(n,"row"),c=O(),l="".concat(s,"-cols"),f=[];return c.forEach((function(e){var t,n=u[e];delete u[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,T.jsx)(a,o(o({ref:t},u),{},{className:v().apply(void 0,[r,s].concat(f))}))}));z_.displayName="Row";var K_=z_,W_=["as","bsPrefix","className"],H_=["className"];var G_=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=d(e,W_);n=A(n,"col");var a=O(),u=[],s=[];return a.forEach((function(e){var t,r,a,o=i[e];delete i[e],"object"===typeof o&&null!=o?(t=o.span,r=o.offset,a=o.order):t=o;var c="xs"!==e?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&s.push("order".concat(c,"-").concat(a)),null!=r&&s.push("offset".concat(c,"-").concat(r))})),[o(o({},i),{},{className:v().apply(void 0,[r].concat(u,s))}),{as:t,bsPrefix:n,spans:u}]}(e),r=f(n,2),i=r[0],a=i.className,u=d(i,H_),s=r[1],c=s.as,l=void 0===c?"div":c,h=s.bsPrefix,p=s.spans;return(0,T.jsx)(l,o(o({},u),{},{ref:t,className:v()(a,!p.length&&h)}))}));G_.displayName="Col";var Q_=G_,Y_=["as","className","type","tooltip"],$_={type:gt().string,tooltip:gt().bool,as:gt().elementType},X_=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,u=void 0===a?"valid":a,s=e.tooltip,c=void 0!==s&&s,l=d(e,Y_);return(0,T.jsx)(r,o(o({},l),{},{ref:t,className:v()(i,"".concat(u,"-").concat(c?"tooltip":"feedback"))}))}));X_.displayName="Feedback",X_.propTypes=$_;var J_=X_,Z_=t.createContext({}),eI=["id","bsPrefix","className","type","isValid","isInvalid","as"],tI=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,u=e.type,s=void 0===u?"checkbox":u,c=e.isValid,l=void 0!==c&&c,f=e.isInvalid,h=void 0!==f&&f,p=e.as,m=void 0===p?"input":p,y=d(e,eI),g=(0,t.useContext)(Z_).controlId;return i=A(i,"form-check-input"),(0,T.jsx)(m,o(o({},y),{},{ref:n,type:s,id:r||g,className:v()(a,i,l&&"is-valid",h&&"is-invalid")}))}));tI.displayName="FormCheckInput";var nI=tI,rI=["bsPrefix","className","htmlFor"],iI=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,u=d(e,rI),s=(0,t.useContext)(Z_).controlId;return r=A(r,"form-check-label"),(0,T.jsx)("label",o(o({},u),{},{ref:n,htmlFor:a||s,className:v()(i,r)}))}));iI.displayName="FormCheckLabel";var aI=iI;var oI=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],uI=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,u=e.inline,s=void 0!==u&&u,c=e.disabled,l=void 0!==c&&c,f=e.isValid,h=void 0!==f&&f,p=e.isInvalid,m=void 0!==p&&p,y=e.feedbackTooltip,g=void 0!==y&&y,k=e.feedback,b=e.feedbackType,w=e.className,x=e.style,E=e.title,_=void 0===E?"":E,I=e.type,S=void 0===I?"checkbox":I,C=e.label,N=e.children,O=e.as,P=void 0===O?"input":O,D=d(e,oI);i=A(i,"form-check"),a=A(a,"form-switch");var R=(0,t.useContext)(Z_).controlId,L=(0,t.useMemo)((function(){return{controlId:r||R}}),[R,r]),M=!N&&null!=C&&!1!==C||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(N,aI),j=(0,T.jsx)(nI,o(o({},D),{},{type:"switch"===S?"checkbox":S,ref:n,isValid:h,isInvalid:m,disabled:l,as:P}));return(0,T.jsx)(Z_.Provider,{value:L,children:(0,T.jsx)("div",{style:x,className:v()(w,M&&i,s&&"".concat(i,"-inline"),"switch"===S&&a),children:N||(0,T.jsxs)(T.Fragment,{children:[j,M&&(0,T.jsx)(aI,{title:_,children:C}),k&&(0,T.jsx)(J_,{type:b,tooltip:g,children:k})]})})})}));uI.displayName="FormCheck";var sI=Object.assign(uI,{Input:nI,Label:aI}),cI=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],lI=t.forwardRef((function(e,n){var r,a,u=e.bsPrefix,s=e.type,c=e.size,l=e.htmlSize,f=e.id,h=e.className,p=e.isValid,m=void 0!==p&&p,y=e.isInvalid,g=void 0!==y&&y,k=e.plaintext,b=e.readOnly,w=e.as,x=void 0===w?"input":w,E=d(e,cI),_=(0,t.useContext)(Z_).controlId;(u=A(u,"form-control"),k)?r=i({},"".concat(u,"-plaintext"),!0):(i(a={},u,!0),i(a,"".concat(u,"-").concat(c),c),r=a);return(0,T.jsx)(x,o(o({},E),{},{type:s,size:l,ref:n,readOnly:b,id:f||_,className:v()(h,r,m&&"is-valid",g&&"is-invalid","color"===s&&"".concat(u,"-color"))}))}));lI.displayName="FormControl";var fI=Object.assign(lI,{Feedback:J_}),hI=R("form-floating"),dI=["controlId","as"],pI=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,u=d(e,dI),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,T.jsx)(Z_.Provider,{value:s,children:(0,T.jsx)(a,o(o({},u),{},{ref:n}))})}));pI.displayName="FormGroup";var vI=pI,mI=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],yI=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,u=e.column,s=e.visuallyHidden,c=e.className,l=e.htmlFor,f=d(e,mI),h=(0,t.useContext)(Z_).controlId;a=A(a,"form-label");var p="col-form-label";"string"===typeof u&&(p="".concat(p," ").concat(p,"-").concat(u));var m=v()(c,a,s&&"visually-hidden",u&&p);return l=l||h,u?(0,T.jsx)(Q_,o({ref:n,as:"label",className:m,htmlFor:l},f)):(0,T.jsx)(i,o({ref:n,className:m,htmlFor:l},f))}));yI.displayName="FormLabel",yI.defaultProps={column:!1,visuallyHidden:!1};var gI=yI,kI=["bsPrefix","className","id"],bI=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,u=d(e,kI),s=(0,t.useContext)(Z_).controlId;return r=A(r,"form-range"),(0,T.jsx)("input",o(o({},u),{},{type:"range",ref:n,className:v()(i,r),id:a||s}))}));bI.displayName="FormRange";var wI=bI,xI=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],EI=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,u=e.className,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.id,p=d(e,xI),m=(0,t.useContext)(Z_).controlId;return r=A(r,"form-select"),(0,T.jsx)("select",o(o({},p),{},{size:a,ref:n,className:v()(u,r,i&&"".concat(r,"-").concat(i),c&&"is-valid",f&&"is-invalid"),id:h||m}))}));EI.displayName="FormSelect";var _I=EI,II=["bsPrefix","className","as","muted"],SI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,u=e.muted,s=d(e,II);return n=A(n,"form-text"),(0,T.jsx)(a,o(o({},s),{},{ref:t,className:v()(r,n,u&&"text-muted")}))}));SI.displayName="FormText";var TI=SI,CI=t.forwardRef((function(e,t){return(0,T.jsx)(sI,o(o({},e),{},{ref:t,type:"switch"}))}));CI.displayName="Switch";var NI=Object.assign(CI,{Input:sI.Input,Label:sI.Label}),AI=["bsPrefix","className","children","controlId","label"],OI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,u=e.label,s=d(e,AI);return n=A(n,"form-floating"),(0,T.jsxs)(vI,o(o({ref:t,className:v()(r,n),controlId:a},s),{},{children:[i,(0,T.jsx)("label",{htmlFor:a,children:u})]}))}));OI.displayName="FloatingLabel";var PI=OI,DI=["className","validated","as"],RI={_ref:gt().any,validated:gt().bool,as:gt().elementType},LI=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,u=d(e,DI);return(0,T.jsx)(a,o(o({},u),{},{ref:t,className:v()(n,r&&"was-validated")}))}));LI.displayName="Form",LI.propTypes=RI;var MI=Object.assign(LI,{Group:vI,Control:fI,Floating:hI,Check:sI,Switch:NI,Label:gI,Text:TI,Range:wI,Select:_I,FloatingLabel:PI});var jI=function(e){var n=e.stock,r=e.onAdd,i=f((0,t.useState)(1),2),a=i[0],o=i[1],u=parseInt(n);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(cn,{children:[(0,T.jsxs)(K_,{children:[(0,T.jsx)(Q_,{children:(0,T.jsx)(ca,{className:"",variant:"outline-danger",size:"sm",onClick:function(){a>1&&o((function(e){return e-1}))},children:" - "})}),(0,T.jsx)(Q_,{children:(0,T.jsx)(MI.Control,{size:"sm text-center",type:"text",placeholder:"",value:a})}),(0,T.jsx)(Q_,{children:(0,T.jsx)(ca,{className:"",variant:"outline-primary",size:"sm",onClick:function(){a<u&&o((function(e){return e+1}))},children:" + "})})]}),(0,T.jsx)(K_,{children:(0,T.jsx)(Q_,{children:(0,T.jsx)(ca,{className:"mt-2 ",size:"sm",variant:"outline-secondary",onClick:function(){r(a)},children:" Agregar al Carrito "})})})]})})};var FI=function(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{children:(0,T.jsx)(yo,{to:"/CartList",children:(0,T.jsx)(ca,{className:"mt-2 ",size:"sm",variant:"outline-secondary",onClick:console.log("ir a cart"),children:" Finalizar Compra "})})}),(0,T.jsx)("div",{children:(0,T.jsx)(yo,{to:"/",children:(0,T.jsx)(ca,{className:"mt-2 ",size:"sm",variant:"outline-secondary",onClick:console.log("Seguir Comprando"),children:" Seguir Comprando "})})})]})};var VI=function(e){var t=e.prod;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:"d-md-flex flex-md-equal my-md-3 ps-md-3 text-center pl-5 ",children:(0,T.jsx)("div",{className:" me-md-3 pt-3 px-3 pt-md-2 px-md-3 text-center overflow-hidden",children:(0,T.jsx)("div",{className:"my-3 p-3",children:(0,T.jsxs)(B_,{style:{width:"19rem"},children:[(0,T.jsx)(B_.Img,{variant:"top",src:"".concat(t.productImg),width:"100",height:"180"}),(0,T.jsxs)(B_.Body,{children:[(0,T.jsx)(B_.Title,{children:" ".concat(t.categoryDescription," - ").concat(t.productName)}),(0,T.jsx)(B_.Subtitle,{className:"mb-2 text-muted",children:"U$S ".concat(t.productPrice)}),(0,T.jsx)(B_.Text,{children:"".concat(t.productDescription)})]})]},t.id)})})})})};var UI=function(e){var n=e.prod,r=f((0,t.useState)(!1),2),i=r[0],a=r[1],u=bo().addToCart;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(cn,{children:(0,T.jsxs)(K_,{children:[(0,T.jsx)(Q_,{className:"col-4"}),(0,T.jsx)(Q_,{children:(0,T.jsx)("div",{className:"d-md-flex flex-md-equal w-100 my-md-3 ps-md-3 text-center pl-3 ",children:(0,T.jsxs)("div",{className:"bg-light me-md-3 pt-3 px-3 pt-md-2 px-md-3 text-center overflow-hidden",children:[(0,T.jsx)("div",{className:"my-3 p-3",children:(0,T.jsxs)(B_,{children:[(0,T.jsx)(VI,{prod:n}),(0,T.jsx)(B_.Footer,{children:(0,T.jsx)(cn,{children:(0,T.jsx)(K_,{className:"pb-2",children:(0,T.jsx)(Q_,{children:n.productStock>0?i?(0,T.jsx)(FI,{}):(0,T.jsx)(jI,{initial:1,stock:n.productStock,onAdd:function(e){n.productStock>=e&&(u(o(o({},n),{},{quantity:e})),a(!0))}}):(0,T.jsx)(Ta,{bg:"danger",pill:!0,className:"ms-2 ",children:"OUT OF STOCK"})})})})})]})}),(0,T.jsx)("div",{className:"bg-dark shadow-sm mx-auto"})]})})})]})})})};var BI=function(){var e=f((0,t.useState)(!0),2),n=e[0],r=e[1],i=f((0,t.useState)([]),2),a=i[0],u=i[1],s=ro().detalleId;return(0,t.useEffect)((function(){o_(Lx(qx(),"items",s)).then((function(e){return u(o({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){return r(!1)}))}),[s]),(0,T.jsx)(T.Fragment,{children:n?(0,T.jsx)("img",{className:"w-45 mx-auto ",src:"https://firebasestorage.googleapis.com/v0/b/coderhouse-reactjs-ecommerce.appspot.com/o/img%2Floading%2Floading.gif?alt=media&token=290b2e66-747c-4f5b-b784-bf84bfc8cf0a",alt:"loading"}):(0,T.jsx)(UI,{prod:a})})};var qI=function(e){var t=e.orderId;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(cn,{children:(0,T.jsx)(K_,{className:"mt-5",children:(0,T.jsxs)(B_,{children:[(0,T.jsx)(B_.Title,{className:"mt-3",children:"\xa1Felicitaciones!"}),(0,T.jsxs)(B_.Body,{className:"mt-32",children:["Su orden de compra es : ",(0,T.jsxs)("h3",{children:[" ",t]})," "]})]})})})})};var zI=function(){var e=bo(),t=e.quantityIconCart,n=e.totalPrice;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(B_,{children:[(0,T.jsx)(B_.Header,{children:"Resumen"}),(0,T.jsx)(B_.Body,{children:(0,T.jsxs)(B_.Text,{children:[(0,T.jsxs)(B_.Subtitle,{children:[" Cantidad de items: ",t()," "]}),(0,T.jsx)(B_.Title,{className:"mt-3 ",children:" Importe Total "}),(0,T.jsxs)(B_.Title,{className:"mt-3 ",children:[" u$s: ",n()," "]})]})})]})})},KI=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],WI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,i=e.disabled,a=e.eventKey,u=e.className,s=e.variant,c=e.action,l=e.as,h=d(e,KI);n=A(n,"list-group-item");var p=f(kn(o({key:m(a,h.href),active:r},h)),2),y=p[0],g=p[1],k=De((function(e){if(i)return e.preventDefault(),void e.stopPropagation();y.onClick(e)}));i&&void 0===h.tabIndex&&(h.tabIndex=-1,h["aria-disabled"]=!0);var b=l||(c?h.href?"a":"button":"div");return(0,T.jsx)(b,o(o(o({ref:t},h),y),{},{onClick:k,className:v()(u,n,g.isActive&&"active",i&&"disabled",s&&"".concat(n,"-").concat(s),c&&"".concat(n,"-action"))}))}));WI.displayName="ListGroupItem";var HI=WI,GI=["className","bsPrefix","variant","horizontal","numbered","as"],QI=t.forwardRef((function(e,t){var n,r=x(e,{activeKey:"onSelect"}),i=r.className,a=r.bsPrefix,u=r.variant,s=r.horizontal,c=r.numbered,l=r.as,f=void 0===l?"div":l,h=d(r,GI),p=A(a,"list-group");return s&&(n=!0===s?"horizontal":"horizontal-".concat(s)),(0,T.jsx)(Sn,o(o({ref:t},h),{},{as:f,className:v()(i,p,u&&"".concat(p,"-").concat(u),n&&"".concat(p,"-").concat(n),c&&"".concat(p,"-numbered"))}))}));QI.displayName="ListGroup";var YI=Object.assign(QI,{Item:HI}),$I={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XI=t.createContext&&t.createContext($I),JI=function(){return JI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},JI.apply(this,arguments)},ZI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function eS(e){return e&&e.map((function(e,n){return t.createElement(e.tag,JI({key:n},e.attr),eS(e.child))}))}function tS(e){return function(n){return t.createElement(nS,JI({attr:JI({},e.attr)},n),eS(e.child))}}function nS(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=ZI(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",JI({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:JI(JI({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==XI?t.createElement(XI.Consumer,null,(function(e){return n(e)})):n($I)}function rS(e){return tS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}}]})(e)}var iS=function(e){var t=e.prod,n=bo().removeFromCart;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(YI,{as:"ol",children:(0,T.jsxs)(YI.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[(0,T.jsx)("div",{className:"ms-2 ",children:(0,T.jsx)(B_.Img,{variant:"top",src:"".concat(t.productImg),width:"30",height:"60"})}),(0,T.jsxs)("div",{className:"ms-2 me-auto",children:[(0,T.jsx)("div",{className:"fw-bold",children:" ".concat(t.categoryDescription," - ").concat(t.productName)}),"Precio"," U$S ".concat(t.productPrice)]}),"Cantidad ",(0,T.jsx)(Ta,{bg:"primary",pill:!0,className:"ms-2 ",children:t.quantity}),(0,T.jsx)(ca,{bg:"danger",pill:!0,className:"ms-3 ",variant:"outline-danger",onClick:function(){return n(t.id)},children:(0,T.jsx)(rS,{className:"pl-2 "})})]},t.id)})})};var aS=function(e){var n=e.generateOrder,r=e.saveOrder,i=e.updateItemStock,a=bo(),o=a.cartList,u=a.emptyCart,s=f((0,t.useState)(!1),2),c=s[0],l=s[1],h=f((0,t.useState)(!1),2),d=h[0],p=h[1],v=f((0,t.useState)(!0),2),m=v[0],y=v[1],g=f((0,t.useState)(""),2),k=g[0],b=g[1],w=f((0,t.useState)(""),2),x=w[0],E=w[1],_=f((0,t.useState)(""),2),I=_[0],S=_[1],C=function(){y(!0),n(k,x,I),l(!0)},N=function(){y(!1),l(!1)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(cn,{className:"mt-3",children:(0,T.jsx)(K_,{children:(0,T.jsx)(Q_,{className:"col-12",children:(0,T.jsxs)(B_,{children:[(0,T.jsx)(B_.Header,{as:"h5",children:"Tu Carrito"}),(0,T.jsx)(B_.Body,{children:(0,T.jsxs)(K_,{className:"pt-2",children:[(0,T.jsx)(Q_,{className:"col-9",children:0===o.length?(0,T.jsxs)("div",{children:[(0,T.jsx)("h1",{children:"No hay productos en el carrito."}),(0,T.jsx)(yo,{to:"/",children:"Ir a Comprar"})]}):(0,T.jsx)(K_,{xs:1,md:1,className:"g-4",children:o.map((function(e){return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(cn,{children:(0,T.jsx)(K_,{children:(0,T.jsx)(Q_,{children:(0,T.jsx)(iS,{prod:e})})})})})}))})}),(0,T.jsx)(Q_,{className:"col-3",children:(0,T.jsxs)(B_,{children:[(0,T.jsx)(zI,{}),(0,T.jsxs)(B_.Footer,{children:[(0,T.jsx)("div",{children:(0,T.jsx)(ca,{variant:"outline-primary",onClick:function(){o.length>0&&p(!0)},children:" Check Out "})}),(0,T.jsx)("div",{children:(0,T.jsx)(ca,{className:"mt-2",size:"sm",variant:"outline-danger",onClick:function(){p(!1),u()},children:" Vaciar Carrito "})})]})]})})]})})]})})})}),(0,T.jsx)(cn,{children:(0,T.jsxs)(K_,{className:"mt-5",children:[(0,T.jsx)(Q_,{className:"col-3"}),(0,T.jsx)(Q_,{className:"col-6",children:d?(0,T.jsxs)(B_,{children:[(0,T.jsx)(B_.Header,{children:"Datos del comprador"}),(0,T.jsx)(B_.Body,{children:(0,T.jsxs)(MI,{children:[(0,T.jsxs)(MI.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(MI.Label,{children:"Nombre Completo"}),(0,T.jsx)(MI.Control,{id:"name",type:"text",placeholder:"Ingrese su nombre...",onChange:function(e){return b(e.target.value)},value:k})]}),(0,T.jsxs)(MI.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(MI.Label,{children:"Email"}),(0,T.jsx)(MI.Control,{type:"email",placeholder:"name@example.com",onChange:function(e){return E(e.target.value)},value:x})]}),(0,T.jsxs)(MI.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(MI.Label,{children:"Tel\xe9fono"}),(0,T.jsx)(MI.Control,{type:"text",placeholder:"Ingrese su celular",onChange:function(e){return S(e.target.value)},value:I})]}),m?(0,T.jsx)(T.Fragment,{}):(0,T.jsx)("span",{style:{color:"red"},children:" * Todos los campos son obligatorios "})]})}),c?(0,T.jsx)(B_,{children:(0,T.jsx)(B_.Footer,{children:(0,T.jsxs)("div",{children:[" ",(0,T.jsx)(ca,{variant:"success",onClick:function(){r(),i()},children:" Pagar "})," "]})})}):(0,T.jsx)(B_,{children:(0,T.jsx)(B_.Footer,{children:(0,T.jsxs)("div",{children:[" ",(0,T.jsx)(ca,{variant:"outline-primary",onClick:function(){k.length>0&&x.length>0&&I.length>0?C():N()},children:" Generar Orden "})," "]})})})]}):(0,T.jsx)(T.Fragment,{})})]})})]})};var oS=function(){var e=f((0,t.useState)(void 0),2),n=e[0],r=e[1],i=f((0,t.useState)(void 0),2),a=i[0],u=i[1],s=bo(),c=s.cartList,l=s.emptyCart,h=s.totalPrice,d=function(){var e=Io(To().mark((function e(){var t,n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=qx(),n=Rx(t,"items"),r=VE(n,BE(Jx(),"in",c.map((function(e){return e.id})))),i=x_(t),e.next=6,c_(r).then((function(e){return e.docs.forEach((function(e){return i.update(e.ref,{productStock:e.data().productStock-c.find((function(t){return t.id===e.id})).quantity})}))})).catch((function(e){return console.log(e)}));case 6:i.commit();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,T.jsx)(T.Fragment,{children:a?(0,T.jsx)(qI,{orderId:a}):(0,T.jsx)(aS,{generateOrder:function(e,t,n){r(void 0);var i=VE(Rx(qx(),"items"),BE(Jx(),"in",c.map((function(e){return e.id}))));c_(i).then((function(i){var a=i.docs.map((function(e){return o({documentId:e.id},e.data())})),u=void 0;u={buyer:{name:e,email:t,phone:n},items:[],date:new Date,total:h()};var s,l=zn(a);try{var f=function(){var e=s.value,t=c.find((function(t){return t.id===e.documentId}));if(t){if(!(e.productStock>=t.quantity))return"break";u.items.push({id:t.id,productName:t.productName,productPrice:t.productPrice,productQuantity:t.quantity})}};for(l.s();!(s=l.n()).done;){if("break"===f())break}}catch(d){l.e(d)}finally{l.f()}r(u)})).catch((function(e){return console.log(e)}))},order:n,saveOrder:function(){d_(Rx(qx(),"orders"),n).then((function(e){u(e.id),l()})).catch((function(e){return console.log(e)}))},updateItemStock:d})})};var uS=function(e){var t=e.prod;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(B_,{style:{width:"18rem"},children:[(0,T.jsx)(B_.Img,{variant:"top",src:"".concat(t.productImg),width:"100",height:"180"}),(0,T.jsxs)(B_.Body,{children:[(0,T.jsx)(B_.Title,{children:" ".concat(t.categoryDescription," - ").concat(t.productName)}),(0,T.jsx)(B_.Subtitle,{className:"mb-2 text-muted",children:"U$S ".concat(t.productPrice)}),(0,T.jsx)("div",{className:"row",children:(0,T.jsx)(B_.Text,{children:(0,T.jsx)(yo,{to:"/detalle/".concat(t.id),children:(0,T.jsx)(ca,{variant:"outline-secondary",children:"Ver Detalle"})})})})]})]},t.id)})};var sS=function(e){var t=e.prods;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(K_,{xs:1,md:3,className:"g-4",children:t.map((function(e){return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(cn,{className:"grid",fluid:"md",children:(0,T.jsx)("div",{className:"grid",children:(0,T.jsx)("div",{className:"d-md-flex flex-md-equal w-100 my-md-3 ps-md-3 text-center pl-3 ",children:(0,T.jsxs)("div",{className:"bg-light me-md-3 pt-3 px-3 pt-md-2 px-md-3 text-center overflow-hidden",children:[(0,T.jsx)("div",{className:"my-3 p-3",children:(0,T.jsx)(uS,{prod:e},e.id)}),(0,T.jsx)("div",{className:"bg-dark shadow-sm mx-auto"})]})})})})})}))})})};var cS=function(){var e=f((0,t.useState)([]),2),n=e[0],r=e[1],i=f((0,t.useState)(!0),2),a=i[0],u=i[1],s=ro().Id;return(0,t.useEffect)((function(){var e=Rx(qx(),"items"),t=VE(e,BE("idCategory","==",parseInt(s))),n=VE(e,zE("idCategory"));c_(s?t:n).then((function(e){return r(e.docs.map((function(e){return o({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return u(!1)}))}),[s]),(0,T.jsx)(T.Fragment,{children:a?(0,T.jsx)("img",{className:"w-45 mx-auto ",src:"https://firebasestorage.googleapis.com/v0/b/coderhouse-reactjs-ecommerce.appspot.com/o/img%2Floading%2Floading.gif?alt=media&token=290b2e66-747c-4f5b-b784-bf84bfc8cf0a",alt:"loading"}):(0,T.jsx)(cn,{children:(0,T.jsx)("div",{className:"row align-items-start m-3",children:(0,T.jsx)(sS,{prods:n})})})})};var lS,fS=function(){return(0,T.jsx)("div",{className:"App",children:(0,T.jsx)(mo,{children:(0,T.jsxs)(wo,{children:[(0,T.jsx)(E_,{}),(0,T.jsxs)(co,{children:[(0,T.jsx)(uo,{exact:!0,path:"/",element:(0,T.jsx)(cS,{})}),(0,T.jsx)(uo,{path:"/categoria/:Id",element:(0,T.jsx)(cS,{})}),(0,T.jsx)(uo,{path:"/detalle/:detalleId",element:(0,T.jsx)(BI,{})}),(0,T.jsx)(uo,{path:"/item/:detalleId",element:(0,T.jsx)(BI,{})}),(0,T.jsx)(uo,{path:"/cartList",element:(0,T.jsx)(oS,{})}),(0,T.jsx)(uo,{path:"/*",element:(0,T.jsx)(oo,{to:"/"})})]})]})})})},hS=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},dS=function(){function e(t,n){var r=this;Ke(this,e),this._delegate=t,this.firebase=n,Au(t,new su("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return He(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),zu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Au(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ou(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),pS=(i(lS={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(lS,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),lS),vS=new Ko("app-compat","Firebase",pS);var mS=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Uu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Go(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Wu,setLogLevel:Gu,onLog:Hu,apps:null,SDK_VERSION:Vu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Pu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw vS.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Do(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Go(n,e=e||Su))throw vS.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(dS);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Do(n,e)},createSubscribe:Zo,ErrorFactory:Ko,deepExtend:Do}),n}(),yS=new wu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){yS.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var gS=self.firebase.SDK_VERSION;gS&&gS.indexOf("LITE")>=0&&yS.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var kS=mS;!function(e){Wu("@firebase/app-compat","0.1.22",e)}();kS.registerVersion("firebase","9.6.11","app-compat");function bS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var wS;Object.create;var xS="facebook.com",ES="github.com",_S="google.com",IS="password",SS="twitter.com",TS="EMAIL_SIGNIN",CS="PASSWORD_RESET",NS="RECOVER_EMAIL",AS="REVERT_SECOND_FACTOR_ADDITION",OS="VERIFY_AND_CHANGE_EMAIL",PS="VERIFY_EMAIL";function DS(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var RS=function(){var e;return i(e={},"admin-restricted-operation","This operation is restricted to administrators only."),i(e,"argument-error",""),i(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),i(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),i(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),i(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),i(e,"cordova-not-ready","Cordova framework is not ready."),i(e,"cors-unsupported","This browser is not supported."),i(e,"credential-already-in-use","This credential is already associated with a different user account."),i(e,"custom-token-mismatch","The custom token corresponds to a different audience."),i(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),i(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),i(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),i(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),i(e,"email-already-in-use","The email address is already in use by another account."),i(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),i(e,"expired-action-code","The action code has expired."),i(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),i(e,"internal-error","An internal AuthError has occurred."),i(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),i(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),i(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),i(e,"invalid-auth-event","An internal AuthError has occurred."),i(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),i(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),i(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),i(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),i(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),i(e,"invalid-email","The email address is badly formatted."),i(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),i(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),i(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),i(e,"invalid-credential","The supplied auth credential is malformed or has expired."),i(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),i(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),i(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),i(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),i(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),i(e,"wrong-password","The password is invalid or the user does not have a password."),i(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),i(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),i(e,"invalid-provider-id","The specified provider ID is invalid."),i(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),i(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),i(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),i(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),i(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),i(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),i(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),i(e,"missing-continue-uri","A continue URL must be provided in the request."),i(e,"missing-iframe-start","An internal AuthError has occurred."),i(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),i(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),i(e,"missing-multi-factor-info","No second factor identifier is provided."),i(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),i(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),i(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),i(e,"app-deleted","This instance of FirebaseApp has been deleted."),i(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),i(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),i(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),i(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),i(e,"no-auth-event","An internal AuthError has occurred."),i(e,"no-such-provider","User was not linked to an account with the given provider."),i(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),i(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),i(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),i(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),i(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),i(e,"provider-already-linked","User can only be linked to one identity for the given provider."),i(e,"quota-exceeded","The project's quota for this operation has been exceeded."),i(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),i(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),i(e,"rejected-credential","The request contains malformed or mismatching credentials."),i(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),i(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),i(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),i(e,"timeout","The operation has timed out."),i(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),i(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),i(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),i(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),i(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),i(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),i(e,"unverified-email","The operation requires a verified email."),i(e,"user-cancelled","The user did not grant your application the permissions it requested."),i(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),i(e,"user-disabled","The user account has been disabled by an administrator."),i(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),i(e,"user-signed-out",""),i(e,"weak-password","The password must be 6 characters long or more."),i(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),i(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},LS=DS,MS=new Ko("auth","Firebase",DS()),jS=new wu("@firebase/auth");function FS(e){if(jS.logLevel<=hu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jS.error.apply(jS,["Auth (".concat(Vu,"): ").concat(e)].concat(n))}}function VS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zS.apply(void 0,[e].concat(n))}function US(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zS.apply(void 0,[e].concat(n))}function BS(e,t,n){var r=Object.assign(Object.assign({},LS()),i({},t,n));return new Ko("auth","Firebase",r).create(t,{appName:e.name})}function qS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&VS(e,"argument-error"),BS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function zS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ze(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ze(o)))}return MS.create.apply(MS,[e].concat(n))}function KS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zS.apply(void 0,[t].concat(r))}}function WS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw FS(t),new Error(t)}function HS(e,t){e||WS(t)}var GS=new Map;function QS(e){HS(e instanceof Function,"Expected a class definition");var t=GS.get(e);return t?(HS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,GS.set(e,t),t)}function YS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $S(){return"http:"===XS()||"https:"===XS()}function XS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var JS=function(){function e(t,n){Ke(this,e),this.shortDelay=t,this.longDelay=n,HS(n>t,"Short delay should be less than long delay!"),this.isMobile=jo()||Uo()}return He(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($S()||Vo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ZS(e,t){HS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var eT=function(){function e(){Ke(this,e)}return He(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void WS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void WS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void WS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),tT=(i(wS={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(wS,"MISSING_CUSTOM_TOKEN","internal-error"),i(wS,"INVALID_IDENTIFIER","invalid-email"),i(wS,"MISSING_CONTINUE_URI","internal-error"),i(wS,"INVALID_PASSWORD","wrong-password"),i(wS,"MISSING_PASSWORD","internal-error"),i(wS,"EMAIL_EXISTS","email-already-in-use"),i(wS,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(wS,"INVALID_IDP_RESPONSE","invalid-credential"),i(wS,"INVALID_PENDING_TOKEN","invalid-credential"),i(wS,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(wS,"MISSING_REQ_TYPE","internal-error"),i(wS,"EMAIL_NOT_FOUND","user-not-found"),i(wS,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(wS,"EXPIRED_OOB_CODE","expired-action-code"),i(wS,"INVALID_OOB_CODE","invalid-action-code"),i(wS,"MISSING_OOB_CODE","internal-error"),i(wS,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(wS,"INVALID_ID_TOKEN","invalid-user-token"),i(wS,"TOKEN_EXPIRED","user-token-expired"),i(wS,"USER_NOT_FOUND","user-token-expired"),i(wS,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(wS,"INVALID_CODE","invalid-verification-code"),i(wS,"INVALID_SESSION_INFO","invalid-verification-id"),i(wS,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(wS,"MISSING_SESSION_INFO","missing-verification-id"),i(wS,"SESSION_EXPIRED","code-expired"),i(wS,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(wS,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(wS,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(wS,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(wS,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(wS,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(wS,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(wS,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(wS,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(wS,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(wS,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),wS),nT=new JS(3e4,6e4);function rT(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function iT(e,t,n,r){return aT.apply(this,arguments)}function aT(){return aT=Io(To().mark((function e(t,n,r,i){var a,o=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",oT(t,a,Io(To().mark((function e(){var a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=$o(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",eT.fetch()(lT(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t,n){return uT.apply(this,arguments)}function uT(){return(uT=Io(To().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},tT),n),e.prev=2,a=new fT(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw hT(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw hT(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw hT(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw BS(t,p,d);case 30:VS(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof zo)){e.next=37;break}throw e.t0;case 37:VS(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function sT(e,t,n,r){return cT.apply(this,arguments)}function cT(){return cT=Io(To().mark((function e(t,n,r,i){var a,o,u=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,iT(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&VS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ZS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var fT=function(){function e(t){var n=this;Ke(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(US(n.auth,"network-request-failed"))}),nT.get())}))}return He(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function hT(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=US(e,t,r);return i.customData._tokenResponse=n,i}function dT(e,t){return pT.apply(this,arguments)}function pT(){return(pT=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vT(e,t){return mT.apply(this,arguments)}function mT(){return(mT=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yT(e,t){return gT.apply(this,arguments)}function gT(){return(gT=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(tR){}}function bT(){return bT=Io(To().mark((function e(t){var n,r,i,a,o,u,s=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=nu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,KS((a=xT(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:kT(wT(a.auth_time)),issuedAtTime:kT(wT(a.iat)),expirationTime:kT(wT(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e){return 1e3*Number(e)}function xT(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return FS("JWT malformed, contained fewer than 3 sections"),null;try{var a=Po(r);return a?JSON.parse(a):(FS("Failed to decode base64 JWT payload"),null)}catch(tR){return FS("Caught error parsing JWT payload as JSON",tR),null}}function ET(e,t){return _T.apply(this,arguments)}function _T(){return _T=Io(To().mark((function e(t,n){var r=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof zo&&IT(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),_T.apply(this,arguments)}function IT(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ST=function(){function e(t){Ke(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return He(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),TT=function(){function e(t,n){Ke(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return He(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=kT(this.lastLoginAt),this.creationTime=kT(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function CT(e){return NT.apply(this,arguments)}function NT(){return NT=Io(To().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ET(t,yT(r,{idToken:i}));case 6:KS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?PT(o.providerUserInfo):[],s=OT(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new TT(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function AT(){return(AT=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nu(t),e.next=3,CT(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OT(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ze(n),ze(t))}function PT(e){return e.map((function(e){var t=e.providerId,n=bS(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function DT(e,t){return RT.apply(this,arguments)}function RT(){return(RT=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oT(t,{},Io(To().mark((function e(){var r,i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=lT(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",eT.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LT=function(){function e(){Ke(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return He(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){KS(e.idToken,"internal-error"),KS("undefined"!==typeof e.idToken,"internal-error"),KS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=xT(e);return KS(t,"internal-error"),KS("undefined"!==typeof t.exp,"internal-error"),KS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Io(To().mark((function e(t){var n,r=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],KS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DT(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return WS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(KS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(KS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(KS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function MT(e,t){KS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jT=function(){function e(t){Ke(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ST(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ze(a.providerData):[],this.metadata=new TT(a.createdAt||void 0,a.lastLoginAt||void 0)}return He(e,[{key:"getIdToken",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ET(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(KS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bT.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return AT.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(KS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){KS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Io(To().mark((function e(t){var n,r,i=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,CT(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ET(this,dT(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;KS(k&&E,t,"internal-error");var _=LT.fromJSON(this.name,E);KS("string"===typeof k,t,"internal-error"),MT(f,t.name),MT(h,t.name),KS("boolean"===typeof b,t,"internal-error"),KS("boolean"===typeof w,t,"internal-error"),MT(d,t.name),MT(p,t.name),MT(v,t.name),MT(m,t.name),MT(y,t.name),MT(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Io(To().mark((function t(n,r){var i,a,o,u=arguments;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new LT).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,CT(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),FT=function(){function e(){Ke(this,e),this.type="NONE",this.storage={}}return He(e,[{key:"_isAvailable",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();FT.type="NONE";var VT=FT;function UT(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var BT=function(){function e(t,n,r){Ke(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=UT(this.userKey,a.apiKey,o),this.fullPersistenceKey=UT("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return He(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jT._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Io(To().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(QS(VT),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||QS(VT),u=UT(i,n.config.apiKey,n.name),s=null,c=zn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=jT._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qT(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QT(t))return"Blackberry";if(YT(t))return"Webos";if(KT(t))return"Safari";if((t.includes("chrome/")||WT(t))&&!t.includes("edge/"))return"Chrome";if(GT(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function zT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/firefox\//i.test(e)}function KT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/crios\//i.test(e)}function HT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/iemobile/i.test(e)}function GT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/android/i.test(e)}function QT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/blackberry/i.test(e)}function YT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/webos/i.test(e)}function $T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/iphone|ipad|ipod/i.test(e)}function XT(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return $T(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function JT(){return Bo()&&10===document.documentMode}function ZT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return $T(e)||GT(e)||YT(e)||QT(e)||/windows phone/i.test(e)||HT(e)}function eC(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qT(Mo());break;case"Worker":t="".concat(qT(Mo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Vu,"/").concat(r)}var tC=function(){function e(t,n,r){Ke(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rC(this),this.idTokenSubscription=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return He(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=QS(t)),this._initializationPromise=this.queue(Io(To().mark((function r(){var i,a;return To().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,BT.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Io(To().mark((function e(t){var n,r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return KS(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,CT(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?nu(t):null)&&KS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Io(To().mark((function e(t){var n=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&KS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Io(To().mark((function n(){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(QS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ko("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return KS(n=t&&QS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,BT.create(this,[QS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Io(To().mark((function e(t){var n=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return KS(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return KS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eC(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Io(To().mark((function e(){var t,n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nC(e){return nu(e)}var rC=function(){function e(t){var n=this;Ke(this,e),this.auth=t,this.observer=null,this.addObserver=Zo((function(e){return n.observer=e}))}return He(e,[{key:"next",get:function(){return KS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function iC(e,t,n){var r=nC(e);KS(r._canInitEmulator,r,"emulator-config-failed"),KS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=aC(t),o=function(e){var t=aC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:oC(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:oC(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function aC(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oC(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var uC=function(){function e(t,n){Ke(this,e),this.providerId=t,this.signInMethod=n}return He(e,[{key:"toJSON",value:function(){return WS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return WS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return WS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return WS("not implemented")}}]),e}();function sC(e,t){return cC.apply(this,arguments)}function cC(){return(cC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:resetPassword",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lC(e,t){return fC.apply(this,arguments)}function fC(){return(fC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hC(e,t){return dC.apply(this,arguments)}function dC(){return(dC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:update",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pC(e,t){return vC.apply(this,arguments)}function vC(){return(vC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithPassword",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mC(e,t){return yC.apply(this,arguments)}function yC(){return(yC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:sendOobCode",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gC(e,t){return kC.apply(this,arguments)}function kC(){return(kC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mC(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bC(e,t){return wC.apply(this,arguments)}function wC(){return(wC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mC(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xC(e,t){return EC.apply(this,arguments)}function EC(){return(EC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mC(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e,t){return IC.apply(this,arguments)}function IC(){return(IC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mC(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SC(e,t){return TC.apply(this,arguments)}function TC(){return(TC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithEmailLink",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CC(e,t){return NC.apply(this,arguments)}function NC(){return(NC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithEmailLink",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AC=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ke(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return He(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",pC(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",SC(t,{email:this._email,oobCode:this._password}));case 5:VS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lC(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",CC(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:VS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(uC);function OC(e,t){return PC.apply(this,arguments)}function PC(){return(PC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithIdp",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DC=function(e){Rt(n,e);var t=Vt(n);function n(){var e;return Ke(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return He(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return OC(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,OC(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,OC(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$o(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):VS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bS(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(uC);function RC(e,t){return LC.apply(this,arguments)}function LC(){return(LC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:sendVerificationCode",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(){return(MC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithPhoneNumber",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jC(){return(jC=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sT(t,"POST","/v1/accounts:signInWithPhoneNumber",rT(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw hT(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FC=i({},"USER_NOT_FOUND","user-not-found");function VC(){return(VC=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithPhoneNumber",rT(t,r),FC));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UC=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this,"phone","phone")).params=e,r}return He(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return MC.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jC.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return VC.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(uC);var BC=function(){function e(t){var n,r,i,a,o,u;Ke(this,e);var s=Xo(Jo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);KS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return He(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xo(Jo(e)).link,n=t?Xo(Jo(t)).deep_link_id:null,r=Xo(Jo(e)).deep_link_id;return(r?Xo(Jo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ew){return null}}}]),e}();var qC=function(){function e(){Ke(this,e),this.providerId=e.PROVIDER_ID}return He(e,null,[{key:"credential",value:function(e,t){return AC._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=BC.parseLink(t);return KS(n,"argument-error"),AC._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qC.PROVIDER_ID="password",qC.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qC.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var zC=function(){function e(t){Ke(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return He(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),KC=function(e){Rt(n,e);var t=Vt(n);function n(){var e;return Ke(this,n),(e=t.apply(this,arguments)).scopes=[],e}return He(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ze(this.scopes)}}]),n}(zC),WC=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return KS(e.idToken||e.accessToken,"argument-error"),DC._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return KS("providerId"in t&&"signInMethod"in t,"argument-error"),DC._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(tR){return null}}}]),n}(KC),HC=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.call(this,"facebook.com")}return He(n,null,[{key:"credential",value:function(e){return DC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ew){return null}}}]),n}(KC);HC.FACEBOOK_SIGN_IN_METHOD="facebook.com",HC.PROVIDER_ID="facebook.com";var GC=function(e){Rt(n,e);var t=Vt(n);function n(){var e;return Ke(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return He(n,null,[{key:"credential",value:function(e,t){return DC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ew){return null}}}]),n}(KC);GC.GOOGLE_SIGN_IN_METHOD="google.com",GC.PROVIDER_ID="google.com";var QC=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.call(this,"github.com")}return He(n,null,[{key:"credential",value:function(e){return DC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ew){return null}}}]),n}(KC);QC.GITHUB_SIGN_IN_METHOD="github.com",QC.PROVIDER_ID="github.com";var YC=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return He(n,[{key:"_getIdTokenResponse",value:function(e){return OC(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,OC(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,OC(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uC),$C=function(e){Rt(n,e);var t=Vt(n);function n(e){return Ke(this,n),KS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return He(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=YC.fromJSON(e);return KS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return YC._create(r,n)}catch(tR){return null}}}]),n}(zC),XC=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.call(this,"twitter.com")}return He(n,null,[{key:"credential",value:function(e,t){return DC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ew){return null}}}]),n}(KC);function JC(e,t){return ZC.apply(this,arguments)}function ZC(){return(ZC=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signUp",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}XC.TWITTER_SIGN_IN_METHOD="twitter.com",XC.PROVIDER_ID="twitter.com";var eN=function(){function e(t){Ke(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return He(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Io(To().mark((function t(n,r,i){var a,o,u,s,c=arguments;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,jT._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=tN(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Io(To().mark((function t(n,r,i){var a;return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tN(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function nN(){return nN=Io(To().mark((function e(t){var n,r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nC(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new eN({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,JC(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,eN._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}var rN=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a){var o,u;return Ke(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(jt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return He(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(zo);function iN(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw rN._fromErrorAndOperation(e,n,t,r);throw n}))}function aN(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function oN(e,t){return uN.apply(this,arguments)}function uN(){return uN=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nu(t),e.next=3,lN(!0,r,n);case 3:return e.t0=vT,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=aN(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}function sN(e,t){return cN.apply(this,arguments)}function cN(){return cN=Io(To().mark((function e(t,n){var r,i,a=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ET,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",eN._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),cN.apply(this,arguments)}function lN(e,t,n){return fN.apply(this,arguments)}function fN(){return(fN=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CT(n);case 2:i=aN(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",KS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hN(e,t){return dN.apply(this,arguments)}function dN(){return dN=Io(To().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ET(t,iN(i,a,n,t),r);case 6:return KS((o=e.sent).idToken,i,"internal-error"),KS(u=xT(o.idToken),i,"internal-error"),s=u.sub,KS(t.uid===s,i,"user-mismatch"),e.abrupt("return",eN._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&VS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),dN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=Io(To().mark((function e(t,n){var r,i,a,o,u=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,iN(t,i,n);case 4:return a=e.sent,e.next=7,eN._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function mN(e,t){return yN.apply(this,arguments)}function yN(){return(yN=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pN(nC(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gN(e,t){return kN.apply(this,arguments)}function kN(){return(kN=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nu(t),e.next=3,lN(!1,r,n.providerId);case 3:return e.abrupt("return",sN(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bN(e,t){return wN.apply(this,arguments)}function wN(){return(wN=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hN(nu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xN(e,t){return EN.apply(this,arguments)}function EN(){return(EN=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t,"POST","/v1/accounts:signInWithCustomToken",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _N(){return(_N=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nC(t),e.next=3,xN(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,eN._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var IN=function(){function e(t,n){Ke(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return He(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?SN._fromServerResponse(e,t):VS(e,"internal-error")}}]),e}(),SN=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return He(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(IN);function TN(e,t,n){var r;KS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),KS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(KS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(KS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function CN(){return(CN=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nu(t),a={requestType:"PASSWORD_RESET",email:n},r&&TN(i,a,r),e.next=5,bC(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NN(){return(NN=Io(To().mark((function e(t,n,r){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sC(nu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AN(){return(AN=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hC(nu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ON(e,t){return PN.apply(this,arguments)}function PN(){return(PN=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nu(t),e.next=3,sC(r,{oobCode:n});case 3:i=e.sent,KS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return KS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:KS(i.mfaInfo,r,"internal-error");case 13:KS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=IN._fromServerResponse(nC(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DN(){return(DN=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ON(nu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RN(e,t,n){return LN.apply(this,arguments)}function LN(){return(LN=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nC(t),e.next=3,JC(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,eN._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MN(){return(MN=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nu(t),a={requestType:"EMAIL_SIGNIN",email:n},KS(r.handleCodeInApp,i,"argument-error"),r&&TN(i,a,r),e.next=6,xC(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jN(){return(jN=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nu(t),KS((a=qC.credentialWithLink(n,r||YS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",mN(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FN(e,t){return VN.apply(this,arguments)}function VN(){return(VN=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:createAuthUri",rT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UN(){return(UN=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$S()?YS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,FN(nu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BN(){return(BN=Io(To().mark((function e(t,n){var r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&TN(r.auth,a,n),e.next=8,gC(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qN(){return(qN=Io(To().mark((function e(t,n,r){var i,a,o,u;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&TN(i.auth,o,r),e.next=8,_C(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zN(e,t){return KN.apply(this,arguments)}function KN(){return(KN=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WN(){return(WN=Io(To().mark((function e(t,n){var r,i,a,o,u,s,c;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=nu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ET(a,zN(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HN(e,t,n){return GN.apply(this,arguments)}function GN(){return(GN=Io(To().mark((function e(t,n,r){var i,a,o,u;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ET(t,lC(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QN=He((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ke(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),YN=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a){var o;return Ke(this,n),(o=t.call(this,e,r,i)).username=a,o}return He(n)}(QN),$N=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"facebook.com",r)}return He(n)}(QN),XN=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return He(n)}(YN),JN=function(e){Rt(n,e);var t=Vt(n);function n(e,r){return Ke(this,n),t.call(this,e,"google.com",r)}return He(n)}(QN),ZN=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i){return Ke(this,n),t.call(this,e,"twitter.com",r,i)}return He(n)}(YN);function eA(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=xT(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new QN(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $N(a,i);case"github.com":return new XN(a,i);case"google.com":return new JN(a,i);case"twitter.com":return new ZN(a,i,e.screenName||null);case"custom":case"anonymous":return new QN(a,null);default:return new QN(a,r,i)}}(n)}var tA=function(){function e(t,n){Ke(this,e),this.type=t,this.credential=n}return He(e,[{key:"toJSON",value:function(){return{multiFactorSession:i({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),nA=function(){function e(t,n,r){Ke(this,e),this.session=t,this.hints=n,this.signInResolver=r}return He(e,[{key:"resolveSignIn",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=nC(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return IN._fromServerResponse(r,e)}));KS(i.mfaPendingCredential,r,"internal-error");var o=tA._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Io(To().mark((function e(t){var a,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,eN._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return KS(n.user,r,"internal-error"),e.abrupt("return",eN._forOperation(n.user,n.operationType,u));case 17:VS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function rA(e,t){return iT(e,"POST","/v2/accounts/mfaEnrollment:start",rT(e,t))}var iA=function(){function e(t){var n=this;Ke(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return IN._fromServerResponse(t.auth,e)})))}))}return He(e,[{key:"getSession",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tA,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ET(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Io(To().mark((function e(t){var n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ET(this.user,iT(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",rT(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),aA=new WeakMap;var oA="__sak",uA=function(){function e(t,n){Ke(this,e),this.storageRetriever=t,this.type=n}return He(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(oA,"1"),this.storage.removeItem(oA),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ew){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var sA=function(e){Rt(n,e);var t=Vt(n);function n(){var e;return Ke(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Mo();return KT(e)||$T(e)}()&&function(){try{return!(!window||window===window.top)}catch(tR){return!1}}(),e.fallbackToPolling=ZT(),e._shouldAllowMigration=!0,e}return He(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);JT()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Io(To().mark((function e(t,r){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(Ot(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Io(To().mark((function e(t){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(Ot(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(Ot(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uA);sA.type="LOCAL";var cA=sA,lA=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return He(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(uA);lA.type="SESSION";var fA=lA;function hA(e){return Promise.all(e.map(function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var dA=function(){function e(t){Ke(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return He(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Io(To().mark((function e(t){var n,r,i,a,o,u,s,c;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,hA(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function pA(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}dA.receivers=[];var vA=function(){function e(t){Ke(this,e),this.target=t,this.handlers=new Set}return He(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Io(To().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=pA("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function mA(){return window}function yA(){return"undefined"!==typeof mA().WorkerGlobalScope&&"function"===typeof mA().importScripts}function gA(){return kA.apply(this,arguments)}function kA(){return(kA=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bA(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var wA="firebaseLocalStorageDb",xA="firebaseLocalStorage",EA="fbase_key",_A=function(){function e(t){Ke(this,e),this.request=t}return He(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function IA(e,t){return e.transaction([xA],t?"readwrite":"readonly").objectStore(xA)}function SA(){var e=indexedDB.deleteDatabase(wA);return new _A(e).toPromise()}function TA(){var e=indexedDB.open(wA,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xA,{keyPath:EA})}catch(tR){n(tR)}})),e.addEventListener("success",Io(To().mark((function n(){var r;return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xA)){n.next=12;break}return r.close(),n.next=5,SA();case 5:return n.t0=t,n.next=8,TA();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function CA(e,t,n){return NA.apply(this,arguments)}function NA(){return NA=Io(To().mark((function e(t,n,r){var a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=IA(t,!0).put((i(a={},EA,n),i(a,"value",r),a)),e.abrupt("return",new _A(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function AA(e,t){return OA.apply(this,arguments)}function OA(){return OA=Io(To().mark((function e(t,n){var r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=IA(t,!1).get(n),e.next=3,new _A(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function PA(e,t){var n=IA(e,!0).delete(t);return new _A(n).toPromise()}var DA=function(){function e(){Ke(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return He(e,[{key:"_openDb",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,TA();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yA()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Io(To().mark((function e(){var t=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=dA._getInstance(yA()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Io(To().mark((function e(n,r){var i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Io(To().mark((function e(){var t,n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gA();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new vA(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bA()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,TA();case 5:return t=e.sent,e.next=8,CA(t,oA,"1");case 8:return e.next=10,PA(t,oA);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Io(To().mark((function e(t,n){var r=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return CA(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return AA(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Io(To().mark((function e(t){var n=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return PA(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Io(To().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=IA(e,!1).getAll();return new _A(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=zn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Io(To().mark((function t(){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();DA.type="LOCAL";var RA=DA;function LA(e,t){return iT(e,"POST","/v2/accounts/mfaSignIn:start",rT(e,t))}function MA(e){return jA.apply(this,arguments)}function jA(){return(jA=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iT(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FA(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=US("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function VA(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var UA=1e12,BA=function(){function e(t){Ke(this,e),this.auth=t,this.counter=UA,this._widgets=new Map}return He(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qA(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||UA;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||UA;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||UA,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qA=function(){function e(t,n,r){var i=this;Ke(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;KS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return He(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(tR){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(tR){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zA=VA("rcb"),KA=new JS(3e4,6e4),WA="https://www.google.com/recaptcha/api.js?",HA=function(){function e(){Ke(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mA().grecaptcha}return He(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return KS(GA(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(mA().grecaptcha):new Promise((function(r,i){var a=mA().setTimeout((function(){i(US(e,"network-request-failed"))}),KA.get());mA()[zA]=function(){mA().clearTimeout(a),delete mA()[zA];var o=mA().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(US(e,"internal-error"))},FA("".concat(WA,"?").concat($o({onload:zA,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(US(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!mA().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function GA(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var QA=function(){function e(){Ke(this,e)}return He(e,[{key:"load",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new BA(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),YA="recaptcha",$A={theme:"light",type:"image"},XA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$A),r=arguments.length>2?arguments[2]:void 0;Ke(this,e),this.parameters=n,this.type=YA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nC(r),this.isInvisible="invisible"===this.parameters.size,KS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;KS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QA:new HA,this.validateStartingState()}return He(e,[{key:"verify",value:function(){var e=Io(To().mark((function e(){var t,n,r,i=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(tR){return Promise.reject(tR)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){KS(!this.parameters.sitekey,this.auth,"argument-error"),KS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),KS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=mA()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){KS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Io(To().mark((function e(){var t,n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KS($S()&&!yA(),this.auth,"internal-error"),e.next=3,JA();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,MA(this.auth);case 8:KS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return KS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function JA(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ZA=function(){function e(t,n){Ke(this,e),this.verificationId=t,this.onConfirmation=n}return He(e,[{key:"confirm",value:function(e){var t=UC._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function eO(){return(eO=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nC(t),e.next=3,iO(i,n,nu(r));case 3:return a=e.sent,e.abrupt("return",new ZA(a,(function(e){return mN(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tO(e,t,n){return nO.apply(this,arguments)}function nO(){return(nO=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nu(t),e.next=3,lN(!1,i,"phone");case 3:return e.next=5,iO(i.auth,n,nu(r));case 5:return a=e.sent,e.abrupt("return",new ZA(a,(function(e){return gN(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rO(){return(rO=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nu(t),e.next=3,iO(i.auth,n,nu(r));case 3:return a=e.sent,e.abrupt("return",new ZA(a,(function(e){return bN(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iO(e,t,n){return aO.apply(this,arguments)}function aO(){return aO=Io(To().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,KS("string"===typeof a,t,"argument-error"),KS(r.type===YA,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return KS("enroll"===u.type,t,"internal-error"),e.next=13,rA(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return KS("signin"===u.type,t,"internal-error"),KS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,LA(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,RC(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),aO.apply(this,arguments)}function oO(){return(oO=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sN(nu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uO=function(){function e(t){Ke(this,e),this.providerId=e.PROVIDER_ID,this.auth=nC(t)}return He(e,[{key:"verifyPhoneNumber",value:function(e,t){return iO(this.auth,e,nu(t))}}],[{key:"credential",value:function(e,t){return UC._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?UC._fromTokenResponse(n,r):null}}]),e}();function sO(e,t){return t?QS(t):(KS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}uO.PROVIDER_ID="phone",uO.PHONE_SIGN_IN_METHOD="phone";var cO=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this,"custom","custom")).params=e,r}return He(n,[{key:"_getIdTokenResponse",value:function(e){return OC(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return OC(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return OC(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(uC);function lO(e){return pN(e.auth,new cO(e),e.bypassAuthState)}function fO(e){var t=e.auth,n=e.user;return KS(n,t,"internal-error"),hN(n,new cO(e),e.bypassAuthState)}function hO(e){return dO.apply(this,arguments)}function dO(){return(dO=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,KS(r=t.user,n,"internal-error"),e.abrupt("return",sN(r,new cO(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pO=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ke(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return He(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Io(To().mark((function t(n,r){return To().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Io(To().mark((function e(t){var n,r,i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lO;case"linkViaPopup":case"linkViaRedirect":return hO;case"reauthViaPopup":case"reauthViaRedirect":return fO;default:VS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){HS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){HS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),vO=new JS(2e3,1e4);function mO(e,t,n){return yO.apply(this,arguments)}function yO(){return(yO=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nC(t),qS(t,n,zC),a=sO(i,r),o=new wO(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gO(){return(gO=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qS((i=nu(t)).auth,n,zC),a=sO(i.auth,r),o=new wO(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kO(e,t,n){return bO.apply(this,arguments)}function bO(){return(bO=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qS((i=nu(t)).auth,n,zC),a=sO(i.auth,r),o=new wO(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wO=function(e){Rt(n,e);var t=Vt(n);function n(e,r,i,a,o){var u;return Ke(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=jt(u),u}return He(n,[{key:"executeNotNull",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return KS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Io(To().mark((function e(){var t,n=this;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HS(1===this.filter.length,"Popup operations only handle one event"),t=pA(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(US(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(US(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(US(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,vO.get())}()}}]),n}(pO);wO.currentPopupAction=null;var xO=new Map,EO=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ke(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return He(n,[{key:"execute",value:function(){var e=Io(To().mark((function e(){var t,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xO.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,_O(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Dt(Ot(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:xO.set(this.auth._key(),t);case 21:return this.bypassAuthState||xO.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Io(To().mark((function e(t){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Dt(Ot(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Dt(Ot(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(pO);function _O(e,t){return IO.apply(this,arguments)}function IO(){return(IO=Io(To().mark((function e(t,n){var r,i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NO(n),i=CO(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SO(e,t){return TO.apply(this,arguments)}function TO(){return(TO=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CO(t)._set(NO(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CO(e){return QS(e._redirectPersistence)}function NO(e){return UT("pendingRedirect",e.config.apiKey,e.name)}function AO(e,t,n){return function(e,t,n){return OO.apply(this,arguments)}(e,t,n)}function OO(){return(OO=Io(To().mark((function e(t,n,r){var i,a;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nC(t),qS(t,n,zC),a=sO(i,r),e.next=5,SO(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PO(e,t,n){return function(e,t,n){return DO.apply(this,arguments)}(e,t,n)}function DO(){return(DO=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qS((i=nu(t)).auth,n,zC),a=sO(i.auth,r),e.next=5,SO(a,i.auth);case 5:return e.next=7,UO(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RO(e,t,n){return function(e,t,n){return LO.apply(this,arguments)}(e,t,n)}function LO(){return(LO=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qS((i=nu(t)).auth,n,zC),a=sO(i.auth,r),e.next=5,lN(!1,i,n.providerId);case 5:return e.next=7,SO(a,i.auth);case 7:return e.next=9,UO(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MO(e,t){return jO.apply(this,arguments)}function jO(){return(jO=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nC(t)._initializationPromise;case 2:return e.abrupt("return",FO(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FO(e,t){return VO.apply(this,arguments)}function VO(){return VO=Io(To().mark((function e(t,n){var r,i,a,o,u,s=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=nC(t),a=sO(i,n),o=new EO(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}function UO(e){return BO.apply(this,arguments)}function BO(){return(BO=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pA("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qO=function(){function e(t){Ke(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return He(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KO(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!KO(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(US(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zO(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zO(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function KO(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function WO(e){return HO.apply(this,arguments)}function HO(){return HO=Io(To().mark((function e(t){var n,r=arguments;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",iT(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),HO.apply(this,arguments)}var GO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QO=/^https?/;function YO(){return(YO=Io(To().mark((function e(t){var n,r,i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WO(t);case 4:n=e.sent,r=n.authorizedDomains,i=zn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$O(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:VS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function $O(e){var t=YS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!QO.test(r))return!1;if(GO.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var XO=new JS(3e4,6e4);function JO(){var e=mA().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ze(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ZO=null;function eP(e){return ZO=ZO||function(e){return new Promise((function(t,n){var r,i,a;function o(){JO(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){JO(),n(US(e,"network-request-failed"))},timeout:XO.get()})}if(null===(i=null===(r=mA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mA().gapi)||void 0===a?void 0:a.load)){var u=VA("iframefcb");return mA()[u]=function(){gapi.load?o():n(US(e,"network-request-failed"))},FA("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ZO=null,e}))}(e),ZO}var tP=new JS(5e3,15e3),nP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iP(e){var t=e.config;KS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ZS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Vu},i=rP.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat($o(r).slice(1))}function aP(e){return oP.apply(this,arguments)}function oP(){return oP=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eP(t);case 2:return n=e.sent,KS(r=mA().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:iP(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nP,dontclear:!0},(function(e){return new Promise(function(){var n=Io(To().mark((function n(r,i){var a,o,u;return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){mA().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=US(t,"network-request-failed"),o=mA().setTimeout((function(){i(a)}),tP.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),oP.apply(this,arguments)}var uP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP="_blank",cP="http://localhost",lP=function(){function e(t){Ke(this,e),this.window=t,this.associatedEvent=null}return He(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(tR){}}}]),e}();function fP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},uP),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Mo().toLowerCase();n&&(u=WT(c)?sP:n),zT(c)&&(t=t||cP,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(XT(c)&&"_self"!==u)return hP(t||"",u),new lP(null);var h=window.open(t||"",u,l);KS(h,e,"popup-blocked");try{h.focus()}catch(tR){}return new lP(h)}function hP(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dP="__/auth/handler",pP="emulator/auth/handler";function vP(e,t,n,r,i,a){KS(e.config.authDomain,e,"auth-domain-config-required"),KS(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vu,eventId:i};if(t instanceof zC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=f(s[u],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof KC){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(dP);return ZS(t,pP)}(e),"?").concat($o(p).slice(1))}var mP="webStorageSupport",yP=function(){function e(){Ke(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=FO}return He(e,[{key:"_openPopup",value:function(){var e=Io(To().mark((function e(t,n,r,i){var a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=vP(t,n,r,YS(),i),e.abrupt("return",fP(t,o,pA()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Io(To().mark((function e(t,n,r,i){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=vP(t,n,r,YS(),i),mA().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(HS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aP(t);case 2:return n=e.sent,r=new qO(t),n.register("authEvent",(function(e){return KS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(mP,{type:mP},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),VS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return YO.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ZT()||KT()||$T()}}]),e}(),gP=yP,kP=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this,"phone")).credential=e,r}return He(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return iT(e,"POST","/v2/accounts/mfaEnrollment:finalize",rT(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return iT(e,"POST","/v2/accounts/mfaSignIn:finalize",rT(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ke(this,e),this.factorId=t}return He(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return WS("unexpected MultiFactorSessionType")}}}]),e}()),bP=function(){function e(){Ke(this,e)}return He(e,null,[{key:"assertion",value:function(e){return kP._fromCredential(e)}}]),e}();bP.FACTOR_ID="phone";var wP,xP="@firebase/auth",EP="0.19.12",_P=function(){function e(t){Ke(this,e),this.auth=t,this.internalListeners=new Map}return He(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){KS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function IP(){return window}wP="Browser",Pu(new su("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){KS(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),KS(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:wP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eC(wP)},i=new tC(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(QS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Pu(new su("auth-internal",(function(e){return function(e){return new _P(e)}(nC(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Wu(xP,EP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wP)),Wu(xP,EP,"esm2017");function SP(e,t,n){return TP.apply(this,arguments)}function TP(){return TP=Io(To().mark((function e(t,n,r){var i,a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=IP(),o=a.BuildInfo,HS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,DP(n.sessionId);case 4:return u=e.sent,s={},$T()?s.ibi=o.packageName:GT()?s.apn=o.packageName:VS(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",vP(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),TP.apply(this,arguments)}function CP(){return(CP=Io(To().mark((function e(t){var n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=IP(),r=n.BuildInfo,i={},$T()?i.iosBundleId=r.packageName:GT()?i.androidPackageName=r.packageName:VS(t,"operation-not-supported-in-this-environment"),e.next=5,WO(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NP(e){var t=IP().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function AP(e,t,n){return OP.apply(this,arguments)}function OP(){return OP=Io(To().mark((function e(t,n,r){var i,a,o;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IP(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(US(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),GT()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),OP.apply(this,arguments)}function PP(e){var t,n,r,i,a,o,u,s,c,l,f=IP();KS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),KS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),KS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),KS("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),KS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function DP(e){return RP.apply(this,arguments)}function RP(){return(RP=Io(To().mark((function e(t){var n,r,i;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=LP(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LP(e){if(HS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var MP=function(e){Rt(n,e);var t=Vt(n);function n(){var e;return Ke(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return He(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Dt(Ot(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qO);function jP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:qP(),postBody:null,tenantId:e.tenantId,error:US(e,"no-auth-event")}}function FP(e,t){return zP()._set(KP(e),t)}function VP(e){return UP.apply(this,arguments)}function UP(){return(UP=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zP()._get(KP(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,zP()._remove(KP(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BP(e,t){var n,r,i=function(e){var t=WP(e),n=t.link?decodeURIComponent(t.link):void 0,r=WP(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return WP(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=WP(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(tR){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?US(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function qP(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function zP(){return QS(cA)}function KP(e){return UT("authEvent",e.config.apiKey,e.name)}function WP(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=u(t=n)||qe(t)||c(t)||l();r[0];return Xo(r.slice(1).join("?"))}var HP=function(){function e(){Ke(this,e),this._redirectPersistence=fA,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=FO}return He(e,[{key:"_initialize",value:function(){var e=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new MP(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){VS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Io(To().mark((function e(t,n,r,i){var a,o,u,s;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return PP(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),xO.clear(),e.next=10,this._originValidation(t);case 10:return o=jP(t,r,i),e.next=13,FP(t,o);case 13:return e.next=15,SP(t,o,n);case 15:return u=e.sent,e.next=18,NP(u);case 18:return s=e.sent,e.abrupt("return",AP(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return CP.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=IP(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Io(To().mark((function n(){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,VP(e);case 2:t.onEvent(QP());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Io(To().mark((function n(r){var i,a;return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,VP(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=BP(i,r.url)),t.onEvent(a||QP());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");IP().handleOpenURL=function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(tR){console.error(tR)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),GP=HP;function QP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:US("no-auth-event")}}function YP(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return!("file:"!==YP()&&"ionic:"!==YP()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function XP(){return Bo()&&11===(null===document||void 0===document?void 0:document.documentMode)}function JP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return/Edge\/\d+/.test(e)}function ZP(){try{var e=self.localStorage,t=pA();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo();return XP()||JP(e)}()||qo()}catch(tR){return eD()&&qo()}return!1}function eD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function tD(){return("http:"===YP()||"https:"===YP()||Vo()||$P())&&!(Uo()||Fo())&&ZP()&&!eD()}function nD(){return $P()&&"undefined"!==typeof document}function rD(){return iD.apply(this,arguments)}function iD(){return(iD=Io(To().mark((function e(){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aD={LOCAL:"local",NONE:"none",SESSION:"session"},oD=KS,uD="persistence";function sD(e,t){oD(Object.values(aD).includes(t),e,"invalid-persistence-type"),Uo()?oD(t!==aD.SESSION,e,"unsupported-persistence-type"):Fo()?oD(t===aD.NONE,e,"unsupported-persistence-type"):eD()?oD(t===aD.NONE||t===aD.LOCAL&&qo(),e,"unsupported-persistence-type"):oD(t===aD.NONE||ZP(),e,"unsupported-persistence-type")}function cD(e){return lD.apply(this,arguments)}function lD(){return(lD=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fD(),r=UT(uD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(tR){return null}}var hD=KS,dD=function(){function e(){Ke(this,e),this.browserResolver=QS(gP),this.cordovaResolver=QS(GP),this.underlyingResolver=null,this._redirectPersistence=fA,this._completeRedirectFn=FO}return He(e,[{key:"_initialize",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Io(To().mark((function e(t,n,r,i){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Io(To().mark((function e(t,n,r,i){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pD(e){return e.unwrap()}function vD(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new bD(e,function(e,t){var n,r=nu(e),i=t;return KS(t.customData.operationType,r,"argument-error"),KS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),nA._fromError(r,i)}(e,t));else if(r){var i=mD(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function mD(e){var t=(e instanceof zo?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof zo)&&"temporaryProof"in t&&"phoneNumber"in t)return uO.credentialFromResult(e);var n,r=t.providerId;if(!r||r===IS)return null;switch(r){case _S:n=GC;break;case xS:n=HC;break;case ES:n=QC;break;case SS:n=XC;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?YC._create(r,u):DC._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new WC(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof zo?n.credentialFromError(e):n.credentialFromResult(e)}function yD(e,t){return t.catch((function(t){throw t instanceof zo&&vD(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,mD(t)),additionalUserInfo:eA(e),user:wD.getOrCreate(r)}}))}function gD(e,t){return kD.apply(this,arguments)}function kD(){return(kD=Io(To().mark((function e(t,n){var r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return yD(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bD=function(){function e(t,n){Ke(this,e),this.resolver=n,this.auth=t.wrapped()}return He(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return yD(pD(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wD=function(){function e(t){Ke(this,e),this._delegate=t,this.multiFactor=function(e){var t=nu(e);return aA.has(t)||aA.set(t,iA._fromUser(t)),aA.get(t)}(t)}return He(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yD(this.auth,gN(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gD(this.auth,tO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yD(this.auth,kO(this._delegate,t,dD)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cD(nC(this.auth));case 2:return e.abrupt("return",RO(this._delegate,t,dD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yD(this.auth,bN(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gD(this.auth,function(e,t,n){return rO.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return yD(this.auth,function(e,t,n){return gO.apply(this,arguments)}(this._delegate,e,dD))}},{key:"reauthenticateWithRedirect",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cD(nC(this.auth));case 2:return e.abrupt("return",PO(this._delegate,t,dD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return BN.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oN(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return HN(nu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return HN(nu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return oO.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return WN.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return qN.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wD.USER_MAP=new WeakMap;var xD=KS,ED=function(){function e(t,n){if(Ke(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;xD(r,"invalid-api-key",{appName:t.name}),xD(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?dD:void 0;this._delegate=n.initialize({options:{persistence:ID(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(RS),this.linkUnderlyingAuth()}return He(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wD.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){iC(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return AN.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ON(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return NN.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Io(To().mark((function e(t,n){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yD(this._delegate,RN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return UN.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=BC.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Io(To().mark((function e(){var t;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xD(tD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,MO(this._delegate,dD);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",yD(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){nC(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=_D(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=_D(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return MN.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return CN.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Io(To().mark((function e(t){var n,r;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sD(this._delegate,t),e.t0=t,e.next=e.t0===aD.SESSION?4:e.t0===aD.LOCAL?6:e.t0===aD.NONE?11:13;break;case 4:return n=fA,e.abrupt("break",14);case 6:return e.next=8,QS(RA)._isAvailable();case 8:return r=e.sent,n=r?RA:cA,e.abrupt("break",14);case 11:return n=VT,e.abrupt("break",14);case 13:return e.abrupt("return",VS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return yD(this._delegate,function(e){return nN.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return yD(this._delegate,mN(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return yD(this._delegate,function(e,t){return _N.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return yD(this._delegate,function(e,t,n){return mN(nu(e),qC.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return yD(this._delegate,function(e,t,n){return jN.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gD(this._delegate,function(e,t,n){return eO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xD(tD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",yD(this._delegate,mO(this._delegate,t,dD)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Io(To().mark((function e(t){return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xD(tD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cD(this._delegate);case 3:return e.abrupt("return",AO(this._delegate,t,dD));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return DN.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function _D(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wD.getOrCreate(e))},error:t,complete:n}}function ID(e,t){var n=function(e,t){var n=fD();if(!n)return[];var r=UT(uD,e,t);switch(n.getItem(r)){case aD.NONE:return[VT];case aD.LOCAL:return[RA,fA];case aD.SESSION:return[fA];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(RA)||n.push(RA),"undefined"!==typeof window)for(var r=0,i=[cA,fA];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(VT)||n.push(VT),n}ED.Persistence=aD;var SD=function(){function e(){Ke(this,e),this.providerId="phone",this._delegate=new uO(pD(kS.auth()))}return He(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return uO.credential(e,t)}}]),e}();SD.PHONE_SIGN_IN_METHOD=uO.PHONE_SIGN_IN_METHOD,SD.PROVIDER_ID=uO.PROVIDER_ID;var TD,CD=KS,ND=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kS.app();Ke(this,e),CD(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new XA(t,n,i.auth()),this.type=this._delegate.type}return He(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(TD=kS).INTERNAL.registerComponent(new su("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ED(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:TS,PASSWORD_RESET:CS,RECOVER_EMAIL:NS,REVERT_SECOND_FACTOR_ADDITION:AS,VERIFY_AND_CHANGE_EMAIL:OS,VERIFY_EMAIL:PS}},EmailAuthProvider:qC,FacebookAuthProvider:HC,GithubAuthProvider:QC,GoogleAuthProvider:GC,OAuthProvider:WC,SAMLAuthProvider:$C,PhoneAuthProvider:SD,PhoneMultiFactorGenerator:bP,RecaptchaVerifier:ND,TwitterAuthProvider:XC,Auth:ED,AuthCredential:uC,Error:zo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),TD.registerVersion("@firebase/auth-compat","0.2.12");function AD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Lh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function OD(){if("undefined"===typeof Uint8Array)throw new Lh("unimplemented","Uint8Arrays are not available in this environment.")}function PD(){if("undefined"==typeof atob)throw new Lh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var DD=function(){function e(t){Ke(this,e),this._delegate=t}return He(e,[{key:"toBase64",value:function(){return PD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return OD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return PD(),new e(Zx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return OD(),new e(Zx.fromUint8Array(t))}}]),e}();function RD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=zn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var LD=function(){function e(){Ke(this,e)}return He(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$x(e=Sx(e,Bx));var n=zx(e),r=e._freezeSettings(),i=new Xw;return Wx(n,i,new Yw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$x(e=Sx(e,Bx));var t=zx(e),n=e._freezeSettings(),r=new Xw;return Wx(t,r,new $w(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Lh(Rh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Mh;return e._queue.enqueueAndForgetEvenWhileRestricted(Io(To().mark((function n(){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Io(To().mark((function e(t){var n;return To().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ry.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ry.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Rg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),MD=function(){function e(t,n,r){var i=this;Ke(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof md||(this._appCompat=t)}return He(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Nh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ax(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Hx(this._delegate)}},{key:"disableNetwork",value:function(){return Gx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&xx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Mh;return e.asyncQueue.enqueueAndForget(Io(To().mark((function n(){return To().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=vw,n.next=3,vx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zx(e=Sx(e,Bx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return v_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Lh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new $D(this,Rx(this._delegate,e))}catch(tR){throw qD(tR,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new BD(this,Lx(this._delegate,e))}catch(tR){throw qD(tR,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new GD(this,function(e,t){if(e=Sx(e,Nx),wx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Lh(Rh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Px(e,null,function(e){return new xp(rd.emptyPath(),e)}(t))}(this._delegate,e))}catch(tR){throw qD(tR,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return k_(this._delegate,(function(n){return e(new FD(t,n))}))}},{key:"batch",value:function(){var e=this;return zx(this._delegate),new VD(new i_(this._delegate,(function(t){return m_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Qx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Yx(this._delegate,e).then((function(e){return e?new GD(t,e):null}))}}]),e}(),jD=function(e){Rt(n,e);var t=Vt(n);function n(e){var r;return Ke(this,n),(r=t.call(this)).firestore=e,r}return He(n,[{key:"convertBytes",value:function(e){return new DD(new Zx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return BD.forKey(t,this.firestore,null)}}]),n}(t_);var FD=function(){function e(t,n){Ke(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new jD(t)}return He(e,[{key:"get",value:function(e){var t=this,n=XD(e);return this._delegate.get(n).then((function(e){return new WD(t._firestore,new PE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=XD(e);return n?(AD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=XD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=XD(e);return this._delegate.delete(t),this}}]),e}(),VD=function(){function e(t){Ke(this,e),this._delegate=t}return He(e,[{key:"set",value:function(e,t,n){var r=XD(e);return n?(AD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=XD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=XD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),UD=function(){function e(t,n,r){Ke(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return He(e,[{key:"fromFirestore",value:function(e,t){var n=new DE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new jD(t),n),i.set(n,a)),a}}]),e}();UD.INSTANCES=new WeakMap;var BD=function(){function e(t,n){Ke(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jD(t)}return He(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new $D(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new $D(this.firestore,Rx(this._delegate,e))}catch(tR){throw qD(tR,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=nu(e))instanceof Ox&&Mx(this._delegate,e)}},{key:"set",value:function(e,t){t=AD("DocumentReference.set",t);try{return t?f_(this._delegate,e,t):f_(this._delegate,e)}catch(tR){throw qD(tR,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?h_(this._delegate,e):h_.apply(void 0,[this._delegate,e,t].concat(r))}catch(tR){throw qD(tR,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return m_(Sx(e.firestore,Bx),[new gv(e._key,rv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=zD(n),a=KD(n,(function(t){return new WD(e.firestore,new PE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return p_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?s_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sx(e,Ox);var t=Sx(e.firestore,Bx);return gx(zx(t),e._key,{source:"server"}).then((function(n){return y_(t,e,n)}))}(this._delegate):o_(this._delegate),t.then((function(e){return new WD(n.firestore,new PE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Lh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ox(n._delegate,r,new bd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ox(n._delegate,r,t))}}]),e}();function qD(e,t,n){return e.message=e.message.replace(t,n),e}function zD(e){var t,n=zn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!RD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function KD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=RD(e[0])?e[0]:RD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WD=function(){function e(t,n){Ke(this,e),this._firestore=t,this._delegate=n}return He(e,[{key:"ref",get:function(){return new BD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return ME(this._delegate,e._delegate)}}]),e}(),HD=function(e){Rt(n,e);var t=Vt(n);function n(){return Ke(this,n),t.apply(this,arguments)}return He(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Oh()}(void 0!==t),t}}]),n}(WD),GD=function(){function e(t,n){Ke(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jD(t)}return He(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,VE(this._delegate,BE(t,n,r)))}catch(tR){throw qD(tR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,VE(this._delegate,zE(t,n)))}catch(tR){throw qD(tR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,VE(this._delegate,function(e){return Tx("limit",e),new KE("limit",e,"F")}(t)))}catch(tR){throw qD(tR,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,VE(this._delegate,function(e){return Tx("limitToLast",e),new KE("limitToLast",e,"L")}(t)))}catch(tR){throw qD(tR,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,VE(this._delegate,HE.apply(void 0,arguments)))}catch(tR){throw qD(tR,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,VE(this._delegate,GE.apply(void 0,arguments)))}catch(tR){throw qD(tR,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,VE(this._delegate,YE.apply(void 0,arguments)))}catch(tR){throw qD(tR,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,VE(this._delegate,$E.apply(void 0,arguments)))}catch(tR){throw qD(tR,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?l_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sx(e,Px);var t=Sx(e.firestore,Bx),n=zx(t),r=new u_(t);return kx(n,e._query,{source:"server"}).then((function(n){return new RE(t,r,e,n)}))}(this._delegate):c_(this._delegate),t.then((function(e){return new YD(n.firestore,new RE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=zD(n),a=KD(n,(function(t){return new YD(e.firestore,new RE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return p_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),QD=function(){function e(t,n){Ke(this,e),this._firestore=t,this._delegate=n}return He(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new HD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),YD=function(){function e(t,n){Ke(this,e),this._firestore=t,this._delegate=n}return He(e,[{key:"query",get:function(){return new GD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new HD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new QD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new HD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return ME(this._delegate,e._delegate)}}]),e}(),$D=function(e){Rt(n,e);var t=Vt(n);function n(e,r){var i;return Ke(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return He(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new BD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new BD(this.firestore,void 0===e?Lx(this._delegate):Lx(this._delegate,e))}catch(tR){throw qD(tR,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return d_(this._delegate,e).then((function(e){return new BD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Mx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(UD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(GD);function XD(e){return Sx(e,Ox)}var JD=function(){function e(){Ke(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Eo(Xx,n)}return He(e,[{key:"isEqual",value:function(e){return(e=nu(e))instanceof Xx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ad.keyField().canonicalString())}}]),e}(),ZD=function(){function e(t){Ke(this,e),this._delegate=t}return He(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new hE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new lE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=b_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=w_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new vE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),eR={Firestore:MD,GeoPoint:tE,Timestamp:Xh,Blob:DD,Transaction:FD,WriteBatch:VD,DocumentReference:BD,DocumentSnapshot:WD,Query:GD,QueryDocumentSnapshot:HD,QuerySnapshot:YD,CollectionReference:$D,FieldPath:JD,FieldValue:ZD,setLogLevel:function(e){!function(e){Ih.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new su("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},eR)))}(e,(function(e,t){return new MD(e,t,new LD)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(kS);kS.initializeApp({apiKey:"AIzaSyCSnTgMj5wXpsYtJrEGxu2tkYwFiWcJyUA",authDomain:"coderhouse-reactjs-ecommerce.firebaseapp.com",projectId:"coderhouse-reactjs-ecommerce",storageBucket:"coderhouse-reactjs-ecommerce.appspot.com",messagingSenderId:"545453854318",appId:"1:545453854318:web:88b86e627a85789a94607f"});r.render((0,T.jsx)(t.StrictMode,{children:(0,T.jsx)(fS,{})}),document.getElementById("root")),hS()}()}();
//# sourceMappingURL=main.edbb66c8.js.map